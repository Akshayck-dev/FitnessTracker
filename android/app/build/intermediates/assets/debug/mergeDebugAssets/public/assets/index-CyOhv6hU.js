var N9=Object.defineProperty;var P9=(t,e,n)=>e in t?N9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ob=(t,e,n)=>P9(t,typeof e!="symbol"?e+"":e,n);function R9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lb={exports:{}},bd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function M9(){if(sP)return bd;sP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return bd.Fragment=e,bd.jsx=n,bd.jsxs=n,bd}var lP;function k9(){return lP||(lP=1,Lb.exports=M9()),Lb.exports}var y=k9(),Vb={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP;function D9(){if(uP)return Fe;uP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function w(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function P(K,ae,ge){this.props=K,this.context=ae,this.refs=C,this.updater=ge||A}P.prototype.isReactComponent={},P.prototype.setState=function(K,ae){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ae,"setState")},P.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function D(){}D.prototype=P.prototype;function M(K,ae,ge){this.props=K,this.context=ae,this.refs=C,this.updater=ge||A}var V=M.prototype=new D;V.constructor=M,S(V,P.prototype),V.isPureReactComponent=!0;var U=Array.isArray;function G(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L(K,ae,ge){var ye=ge.ref;return{$$typeof:t,type:K,key:ae,ref:ye!==void 0?ye:null,props:ge}}function F(K,ae){return L(K.type,ae,K.props)}function j(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function q(K){var ae={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ge){return ae[ge]})}var H=/\/+/g;function _e(K,ae){return typeof K=="object"&&K!==null&&K.key!=null?q(""+K.key):ae.toString(36)}function Ce(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(G,G):(K.status="pending",K.then(function(ae){K.status==="pending"&&(K.status="fulfilled",K.value=ae)},function(ae){K.status==="pending"&&(K.status="rejected",K.reason=ae)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function J(K,ae,ge,ye,de){var Se=typeof K;(Se==="undefined"||Se==="boolean")&&(K=null);var Te=!1;if(K===null)Te=!0;else switch(Se){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(K.$$typeof){case t:case e:Te=!0;break;case h:return Te=K._init,J(Te(K._payload),ae,ge,ye,de)}}if(Te)return de=de(K),Te=ye===""?"."+_e(K,0):ye,U(de)?(ge="",Te!=null&&(ge=Te.replace(H,"$&/")+"/"),J(de,ae,ge,"",function(Ve){return Ve})):de!=null&&(j(de)&&(de=F(de,ge+(de.key==null||K&&K.key===de.key?"":(""+de.key).replace(H,"$&/")+"/")+Te)),ae.push(de)),1;Te=0;var rt=ye===""?".":ye+":";if(U(K))for(var oe=0;oe<K.length;oe++)ye=K[oe],Se=rt+_e(ye,oe),Te+=J(ye,ae,ge,Se,de);else if(oe=w(K),typeof oe=="function")for(K=oe.call(K),oe=0;!(ye=K.next()).done;)ye=ye.value,Se=rt+_e(ye,oe++),Te+=J(ye,ae,ge,Se,de);else if(Se==="object"){if(typeof K.then=="function")return J(Ce(K),ae,ge,ye,de);throw ae=String(K),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Te}function X(K,ae,ge){if(K==null)return K;var ye=[],de=0;return J(K,ye,"","",function(Se){return ae.call(ge,Se,de++)}),ye}function he(K){if(K._status===-1){var ae=K._result;ae=ae(),ae.then(function(ge){(K._status===0||K._status===-1)&&(K._status=1,K._result=ge)},function(ge){(K._status===0||K._status===-1)&&(K._status=2,K._result=ge)}),K._status===-1&&(K._status=0,K._result=ae)}if(K._status===1)return K._result.default;throw K._result}var me=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},Oe={map:X,forEach:function(K,ae,ge){X(K,function(){ae.apply(this,arguments)},ge)},count:function(K){var ae=0;return X(K,function(){ae++}),ae},toArray:function(K){return X(K,function(ae){return ae})||[]},only:function(K){if(!j(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return Fe.Activity=m,Fe.Children=Oe,Fe.Component=P,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=M,Fe.StrictMode=r,Fe.Suspense=c,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return k.H.useMemoCache(K)}},Fe.cache=function(K){return function(){return K.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(K,ae,ge){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var ye=S({},K.props),de=K.key;if(ae!=null)for(Se in ae.key!==void 0&&(de=""+ae.key),ae)!O.call(ae,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ae.ref===void 0||(ye[Se]=ae[Se]);var Se=arguments.length-2;if(Se===1)ye.children=ge;else if(1<Se){for(var Te=Array(Se),rt=0;rt<Se;rt++)Te[rt]=arguments[rt+2];ye.children=Te}return L(K.type,de,ye)},Fe.createContext=function(K){return K={$$typeof:s,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},Fe.createElement=function(K,ae,ge){var ye,de={},Se=null;if(ae!=null)for(ye in ae.key!==void 0&&(Se=""+ae.key),ae)O.call(ae,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(de[ye]=ae[ye]);var Te=arguments.length-2;if(Te===1)de.children=ge;else if(1<Te){for(var rt=Array(Te),oe=0;oe<Te;oe++)rt[oe]=arguments[oe+2];de.children=rt}if(K&&K.defaultProps)for(ye in Te=K.defaultProps,Te)de[ye]===void 0&&(de[ye]=Te[ye]);return L(K,Se,de)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(K){return{$$typeof:u,render:K}},Fe.isValidElement=j,Fe.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:he}},Fe.memo=function(K,ae){return{$$typeof:f,type:K,compare:ae===void 0?null:ae}},Fe.startTransition=function(K){var ae=k.T,ge={};k.T=ge;try{var ye=K(),de=k.S;de!==null&&de(ge,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(G,me)}catch(Se){me(Se)}finally{ae!==null&&ge.types!==null&&(ae.types=ge.types),k.T=ae}},Fe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Fe.use=function(K){return k.H.use(K)},Fe.useActionState=function(K,ae,ge){return k.H.useActionState(K,ae,ge)},Fe.useCallback=function(K,ae){return k.H.useCallback(K,ae)},Fe.useContext=function(K){return k.H.useContext(K)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(K,ae){return k.H.useDeferredValue(K,ae)},Fe.useEffect=function(K,ae){return k.H.useEffect(K,ae)},Fe.useEffectEvent=function(K){return k.H.useEffectEvent(K)},Fe.useId=function(){return k.H.useId()},Fe.useImperativeHandle=function(K,ae,ge){return k.H.useImperativeHandle(K,ae,ge)},Fe.useInsertionEffect=function(K,ae){return k.H.useInsertionEffect(K,ae)},Fe.useLayoutEffect=function(K,ae){return k.H.useLayoutEffect(K,ae)},Fe.useMemo=function(K,ae){return k.H.useMemo(K,ae)},Fe.useOptimistic=function(K,ae){return k.H.useOptimistic(K,ae)},Fe.useReducer=function(K,ae,ge){return k.H.useReducer(K,ae,ge)},Fe.useRef=function(K){return k.H.useRef(K)},Fe.useState=function(K){return k.H.useState(K)},Fe.useSyncExternalStore=function(K,ae,ge){return k.H.useSyncExternalStore(K,ae,ge)},Fe.useTransition=function(){return k.H.useTransition()},Fe.version="19.2.0",Fe}var cP;function Wc(){return cP||(cP=1,Vb.exports=D9()),Vb.exports}var T=Wc();const Us=qa(T),O9=R9({__proto__:null,default:Us},[T]);var Ub={exports:{}},xd={},jb={exports:{}},zb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP;function L9(){return fP||(fP=1,(function(t){function e(J,X){var he=J.length;J.push(X);e:for(;0<he;){var me=he-1>>>1,Oe=J[me];if(0<i(Oe,X))J[me]=X,J[he]=Oe,he=me;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var X=J[0],he=J.pop();if(he!==X){J[0]=he;e:for(var me=0,Oe=J.length,K=Oe>>>1;me<K;){var ae=2*(me+1)-1,ge=J[ae],ye=ae+1,de=J[ye];if(0>i(ge,he))ye<Oe&&0>i(de,ge)?(J[me]=de,J[ye]=he,me=ye):(J[me]=ge,J[ae]=he,me=ae);else if(ye<Oe&&0>i(de,he))J[me]=de,J[ye]=he,me=ye;else break e}}return X}function i(J,X){var he=J.sortIndex-X.sortIndex;return he!==0?he:J.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,v=3,w=!1,A=!1,S=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function V(J){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=J)r(f),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(f)}}function U(J){if(S=!1,V(J),!A)if(n(c)!==null)A=!0,G||(G=!0,q());else{var X=n(f);X!==null&&Ce(U,X.startTime-J)}}var G=!1,k=-1,O=5,L=-1;function F(){return C?!0:!(t.unstable_now()-L<O)}function j(){if(C=!1,G){var J=t.unstable_now();L=J;var X=!0;try{e:{A=!1,S&&(S=!1,D(k),k=-1),w=!0;var he=v;try{t:{for(V(J),m=n(c);m!==null&&!(m.expirationTime>J&&F());){var me=m.callback;if(typeof me=="function"){m.callback=null,v=m.priorityLevel;var Oe=me(m.expirationTime<=J);if(J=t.unstable_now(),typeof Oe=="function"){m.callback=Oe,V(J),X=!0;break t}m===n(c)&&r(c),V(J)}else r(c);m=n(c)}if(m!==null)X=!0;else{var K=n(f);K!==null&&Ce(U,K.startTime-J),X=!1}}break e}finally{m=null,v=he,w=!1}X=void 0}}finally{X?q():G=!1}}}var q;if(typeof M=="function")q=function(){M(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,_e=H.port2;H.port1.onmessage=j,q=function(){_e.postMessage(null)}}else q=function(){P(j,0)};function Ce(J,X){k=P(function(){J(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var he=v;v=X;try{return J()}finally{v=he}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=v;v=J;try{return X()}finally{v=he}},t.unstable_scheduleCallback=function(J,X,he){var me=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?me+he:me):he=me,J){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=he+Oe,J={id:h++,callback:X,priorityLevel:J,startTime:he,expirationTime:Oe,sortIndex:-1},he>me?(J.sortIndex=he,e(f,J),n(c)===null&&J===n(f)&&(S?(D(k),k=-1):S=!0,Ce(U,he-me))):(J.sortIndex=Oe,e(c,J),A||w||(A=!0,G||(G=!0,q()))),J},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(J){var X=v;return function(){var he=v;v=X;try{return J.apply(this,arguments)}finally{v=he}}}})(zb)),zb}var dP;function V9(){return dP||(dP=1,jb.exports=L9()),jb.exports}var Fb={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function U9(){if(hP)return Xn;hP=1;var t=Wc();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},Xn.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},Xn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Xn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Xn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:w}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Xn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Xn.requestFormReset=function(c){r.d.r(c)},Xn.unstable_batchedUpdates=function(c,f){return c(f)},Xn.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},Xn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Xn.version="19.2.0",Xn}var pP;function _4(){if(pP)return Fb.exports;pP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fb.exports=U9(),Fb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function j9(){if(mP)return xd;mP=1;var t=V9(),e=Wc(),n=_4();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,p=l;;){var x=d.return;if(x===null)break;var E=x.alternate;if(E===null){if(p=x.return,p!==null){d=p;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===d)return c(x),o;if(E===p)return c(x),l;E=E.sibling}throw Error(r(188))}if(d.return!==p.return)d=x,p=E;else{for(var N=!1,z=x.child;z;){if(z===d){N=!0,d=x,p=E;break}if(z===p){N=!0,p=x,d=E;break}z=z.sibling}if(!N){for(z=E.child;z;){if(z===d){N=!0,d=E,p=x;break}if(z===p){N=!0,p=E,d=x;break}z=z.sibling}if(!N)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var H=Symbol.for("react.client.reference");function _e(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===H?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case U:return"Suspense";case G:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case A:return"Portal";case M:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return l=o.displayName||null,l!==null?l:_e(o.type)||"Memo";case O:l=o._payload,o=o._init;try{return _e(o(l))}catch{}}return null}var Ce=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},me=[],Oe=-1;function K(o){return{current:o}}function ae(o){0>Oe||(o.current=me[Oe],me[Oe]=null,Oe--)}function ge(o,l){Oe++,me[Oe]=o.current,o.current=l}var ye=K(null),de=K(null),Se=K(null),Te=K(null);function rt(o,l){switch(ge(Se,l),ge(de,o),ge(ye,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?PN(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=PN(l),o=RN(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ae(ye),ge(ye,o)}function oe(){ae(ye),ae(de),ae(Se)}function Ve(o){o.memoizedState!==null&&ge(Te,o);var l=ye.current,d=RN(l,o.type);l!==d&&(ge(de,o),ge(ye,d))}function je(o){de.current===o&&(ae(ye),ae(de)),Te.current===o&&(ae(Te),gd._currentValue=he)}var pe,zt;function $e(o){if(pe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);pe=l&&l[1]||"",zt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+o+zt}var _n=!1;function Ht(o,l){if(!o||_n)return"";_n=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var te=ie}Reflect.construct(o,[],ce)}else{try{ce.call()}catch(ie){te=ie}o.call(ce.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ce=o())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),N=E[0],z=E[1];if(N&&z){var $=N.split(`
`),ee=z.split(`
`);for(x=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;if(p===$.length||x===ee.length)for(p=$.length-1,x=ee.length-1;1<=p&&0<=x&&$[p]!==ee[x];)x--;for(;1<=p&&0<=x;p--,x--)if($[p]!==ee[x]){if(p!==1||x!==1)do if(p--,x--,0>x||$[p]!==ee[x]){var se=`
`+$[p].replace(" at new "," at ");return o.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",o.displayName)),se}while(1<=p&&0<=x);break}}}finally{_n=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?$e(d):""}function jr(o,l){switch(o.tag){case 26:case 27:case 5:return $e(o.type);case 16:return $e("Lazy");case 13:return o.child!==l&&l!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Ht(o.type,!1);case 11:return Ht(o.type.render,!1);case 1:return Ht(o.type,!0);case 31:return $e("Activity");default:return""}}function $o(o){try{var l="",d=null;do l+=jr(o,d),d=o,o=o.return;while(o);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var tn=Object.prototype.hasOwnProperty,bn=t.unstable_scheduleCallback,Ko=t.unstable_cancelCallback,V0=t.unstable_shouldYield,vp=t.unstable_requestPaint,or=t.unstable_now,ll=t.unstable_getCurrentPriorityLevel,_f=t.unstable_ImmediatePriority,bf=t.unstable_UserBlockingPriority,Wo=t.unstable_NormalPriority,U0=t.unstable_LowPriority,_p=t.unstable_IdlePriority,bp=t.log,xp=t.unstable_setDisableYieldValue,Mi=null,zn=null;function ai(o){if(typeof bp=="function"&&xp(o),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(Mi,o)}catch{}}var Gt=Math.clz32?Math.clz32:Ep,wp=Math.log,wu=Math.LN2;function Ep(o){return o>>>=0,o===0?32:31-(wp(o)/wu|0)|0}var sa=256,ul=262144,nn=4194304;function la(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ua(o,l,d){var p=o.pendingLanes;if(p===0)return 0;var x=0,E=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var z=p&134217727;return z!==0?(p=z&~E,p!==0?x=la(p):(N&=z,N!==0?x=la(N):d||(d=z&~o,d!==0&&(x=la(d))))):(z=p&~E,z!==0?x=la(z):N!==0?x=la(N):d||(d=p&~o,d!==0&&(x=la(d)))),x===0?0:l!==0&&l!==x&&(l&E)===0&&(E=x&-x,d=l&-l,E>=d||E===32&&(d&4194048)!==0)?l:x}function ki(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function j0(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tp(){var o=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),o}function ca(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function cl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function z0(o,l,d,p,x,E){var N=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var z=o.entanglements,$=o.expirationTimes,ee=o.hiddenUpdates;for(d=N&~d;0<d;){var se=31-Gt(d),ce=1<<se;z[se]=0,$[se]=-1;var te=ee[se];if(te!==null)for(ee[se]=null,se=0;se<te.length;se++){var ie=te[se];ie!==null&&(ie.lane&=-536870913)}d&=~ce}p!==0&&fl(o,p,0),E!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=E&~(N&~l))}function fl(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Gt(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|d&261930}function xf(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var p=31-Gt(d),x=1<<p;x&l|o[p]&l&&(o[p]|=l),d&=~x}}function wf(o,l){var d=l&-l;return d=(d&42)!==0?1:dl(d),(d&(o.suspendedLanes|l))!==0?0:d}function dl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ba(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Sp(){var o=X.p;return o!==0?o:(o=window.event,o===void 0?32:eP(o.type))}function Di(o,l){var d=X.p;try{return X.p=o,l()}finally{X.p=d}}var Oi=Math.random().toString(36).slice(2),rn="__reactFiber$"+Oi,Pn="__reactProps$"+Oi,fa="__reactContainer$"+Oi,Eu="__reactEvents$"+Oi,F0="__reactListeners$"+Oi,Ap="__reactHandles$"+Oi,Cp="__reactResources$"+Oi,da="__reactMarker$"+Oi;function Tu(o){delete o[rn],delete o[Pn],delete o[Eu],delete o[F0],delete o[Ap]}function ha(o){var l=o[rn];if(l)return l;for(var d=o.parentNode;d;){if(l=d[fa]||d[rn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=UN(o);o!==null;){if(d=o[rn])return d;o=UN(o)}return l}o=d,d=o.parentNode}return null}function oi(o){if(o=o[rn]||o[fa]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function zr(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function pa(o){var l=o[Cp];return l||(l=o[Cp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function an(o){o[da]=!0}var Ef=new Set,Tf={};function ma(o,l){ga(o,l),ga(o+"Capture",l)}function ga(o,l){for(Tf[o]=l,o=0;o<l.length;o++)Ef.add(l[o])}var Sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Af={},Cf={};function Ip(o){return tn.call(Cf,o)?!0:tn.call(Af,o)?!1:Sf.test(o)?Cf[o]=!0:(Af[o]=!0,!1)}function Su(o,l,d){if(Ip(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function Fr(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function on(o,l,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+p)}}function Rn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Yo(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function If(o,l,d){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,E=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){d=""+N,E.call(this,N)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function pt(o){if(!o._valueTracker){var l=Yo(o)?"checked":"value";o._valueTracker=If(o,l,""+o[l])}}function hl(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return o&&(p=Yo(o)?o.checked?"true":"false":o.value),o=p,o!==d?(l.setValue(o),!0):!1}function ya(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var pl=/[\n"\\]/g;function xr(o){return o.replace(pl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Au(o,l,d,p,x,E,N,z){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),l!=null?N==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Rn(l)):o.value!==""+Rn(l)&&(o.value=""+Rn(l)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),l!=null?Nf(o,N,Rn(l)):d!=null?Nf(o,N,Rn(d)):p!=null&&o.removeAttribute("value"),x==null&&E!=null&&(o.defaultChecked=!!E),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+Rn(z):o.removeAttribute("name")}function Np(o,l,d,p,x,E,N,z){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),l!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){pt(o);return}d=d!=null?""+Rn(d):"",l=l!=null?""+Rn(l):d,z||l===o.value||(o.value=l),o.defaultValue=l}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=z?o.checked:!!p,o.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),pt(o)}function Nf(o,l,d){l==="number"&&ya(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Jo(o,l,d,p){if(o=o.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=l.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&p&&(o[d].defaultSelected=!0)}else{for(d=""+Rn(d),l=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function Pp(o,l,d){if(l!=null&&(l=""+Rn(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Rn(d):""}function Xo(o,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(r(92));if(Ce(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Rn(l),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p),pt(o)}function wr(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Rp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pf(o,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,d):typeof d!="number"||d===0||Rp.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function Rf(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in l)p=l[x],l.hasOwnProperty(x)&&d[x]!==p&&Pf(o,x,p)}else for(var E in l)l.hasOwnProperty(E)&&Pf(o,E,l[E])}function Cu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Iu(o){return Qo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Li(){}var Mf=null;function si(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zo=null,va=null;function ml(o){var l=oi(o);if(l&&(o=l.stateNode)){var d=o[Pn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Au(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+xr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==o&&p.form===o.form){var x=p[Pn]||null;if(!x)throw Error(r(90));Au(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===o.form&&hl(p)}break e;case"textarea":Pp(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Jo(o,!!d.multiple,l,!1)}}}var Nu=!1;function es(o,l,d){if(Nu)return o(l,d);Nu=!0;try{var p=o(l);return p}finally{if(Nu=!1,(Zo!==null||va!==null)&&(Sm(),Zo&&(l=Zo,o=va,va=Zo=null,ml(l),o)))for(l=0;l<o.length;l++)ml(o[l])}}function Vi(o,l){var d=o.stateNode;if(d===null)return null;var p=d[Pn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=!1;if(li)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){gl=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{gl=!1}var _a=null,kf=null,yl=null;function Df(){if(yl)return yl;var o,l=kf,d=l.length,p,x="value"in _a?_a.value:_a.textContent,E=x.length;for(o=0;o<d&&l[o]===x[o];o++);var N=d-o;for(p=1;p<=N&&l[d-p]===x[E-p];p++);return yl=x.slice(o,1<p?1-p:void 0)}function vl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ha(){return!0}function Ui(){return!1}function Fn(o){function l(d,p,x,E,N){this._reactName=d,this._targetInst=x,this.type=p,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(d=o[z],this[z]=d?d(E):E[z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ha:Ui,this.isPropagationStopped=Ui,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),l}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Fn(Ga),ts=m({},Ga,{view:0,detail:0}),Of=Fn(ts),ns,Pu,xa,Ru=m({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xa&&(xa&&o.type==="mousemove"?(ns=o.screenX-xa.screenX,Pu=o.screenY-xa.screenY):Pu=ns=0,xa=o),ns)},movementY:function(o){return"movementY"in o?o.movementY:Pu}}),Lf=Fn(Ru),_l=m({},Ru,{dataTransfer:0}),kp=Fn(_l),Dp=m({},ts,{relatedTarget:0}),bl=Fn(Dp),Vf=m({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=Fn(Vf),Mu=m({},Ga,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Lp=Fn(Mu),Vp=m({},Ga,{data:0}),wa=Fn(Vp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fp(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=zp[o])?!!l[o]:!1}function rs(){return Fp}var sr=m({},ts,{key:function(o){if(o.key){var l=Up[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=vl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?jp[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(o){return o.type==="keypress"?vl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),qp=Fn(sr),Bp=m({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=Fn(Bp),b=m({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),I=Fn(b),R=m({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=Fn(R),Q=m({},Ru,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Fn(Q),ve=m({},Ga,{newState:0,oldState:0}),Be=Fn(ve),$t=[9,13,27,32],lt=li&&"CompositionEvent"in window,kt=null;li&&"documentMode"in document&&(kt=document.documentMode);var ui=li&&"TextEvent"in window&&!kt,Ea=li&&(!lt||kt&&8<kt&&11>=kt),ji=" ",zi=!1;function xl(o,l){switch(o){case"keyup":return $t.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Du=!1;function Zq(o,l){switch(o){case"compositionend":return ku(l);case"keypress":return l.which!==32?null:(zi=!0,ji);case"textInput":return o=l.data,o===ji&&zi?null:o;default:return null}}function eB(o,l){if(Du)return o==="compositionend"||!lt&&xl(o,l)?(o=Df(),yl=kf=_a=null,Du=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ea&&l.locale!=="ko"?null:l.data;default:return null}}var tB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FA(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!tB[o.type]:l==="textarea"}function qA(o,l,d,p){Zo?va?va.push(p):va=[p]:Zo=p,l=Mm(l,"onChange"),0<l.length&&(d=new ba("onChange","change",null,d,p),o.push({event:d,listeners:l}))}var Uf=null,jf=null;function nB(o){TN(o,0)}function Hp(o){var l=zr(o);if(hl(l))return o}function BA(o,l){if(o==="change")return l}var HA=!1;if(li){var q0;if(li){var B0="oninput"in document;if(!B0){var GA=document.createElement("div");GA.setAttribute("oninput","return;"),B0=typeof GA.oninput=="function"}q0=B0}else q0=!1;HA=q0&&(!document.documentMode||9<document.documentMode)}function $A(){Uf&&(Uf.detachEvent("onpropertychange",KA),jf=Uf=null)}function KA(o){if(o.propertyName==="value"&&Hp(jf)){var l=[];qA(l,jf,o,si(o)),es(nB,l)}}function rB(o,l,d){o==="focusin"?($A(),Uf=l,jf=d,Uf.attachEvent("onpropertychange",KA)):o==="focusout"&&$A()}function iB(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hp(jf)}function aB(o,l){if(o==="click")return Hp(l)}function oB(o,l){if(o==="input"||o==="change")return Hp(l)}function sB(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var qr=typeof Object.is=="function"?Object.is:sB;function zf(o,l){if(qr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var x=d[p];if(!tn.call(l,x)||!qr(o[x],l[x]))return!1}return!0}function WA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function YA(o,l){var d=WA(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=l&&p>=l)return{node:d,offset:l-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=WA(d)}}function JA(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?JA(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function XA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=ya(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=ya(o.document)}return l}function H0(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var lB=li&&"documentMode"in document&&11>=document.documentMode,Ou=null,G0=null,Ff=null,$0=!1;function QA(o,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;$0||Ou==null||Ou!==ya(p)||(p=Ou,"selectionStart"in p&&H0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ff&&zf(Ff,p)||(Ff=p,p=Mm(G0,"onSelect"),0<p.length&&(l=new ba("onSelect","select",null,l,d),o.push({event:l,listeners:p}),l.target=Ou)))}function wl(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Lu={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionrun:wl("Transition","TransitionRun"),transitionstart:wl("Transition","TransitionStart"),transitioncancel:wl("Transition","TransitionCancel"),transitionend:wl("Transition","TransitionEnd")},K0={},ZA={};li&&(ZA=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function El(o){if(K0[o])return K0[o];if(!Lu[o])return o;var l=Lu[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in ZA)return K0[o]=l[d];return o}var eC=El("animationend"),tC=El("animationiteration"),nC=El("animationstart"),uB=El("transitionrun"),cB=El("transitionstart"),fB=El("transitioncancel"),rC=El("transitionend"),iC=new Map,W0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");W0.push("scrollEnd");function Fi(o,l){iC.set(o,l),ma(l,[o])}var Gp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ci=[],Vu=0,Y0=0;function $p(){for(var o=Vu,l=Y0=Vu=0;l<o;){var d=ci[l];ci[l++]=null;var p=ci[l];ci[l++]=null;var x=ci[l];ci[l++]=null;var E=ci[l];if(ci[l++]=null,p!==null&&x!==null){var N=p.pending;N===null?x.next=x:(x.next=N.next,N.next=x),p.pending=x}E!==0&&aC(d,x,E)}}function Kp(o,l,d,p){ci[Vu++]=o,ci[Vu++]=l,ci[Vu++]=d,ci[Vu++]=p,Y0|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function J0(o,l,d,p){return Kp(o,l,d,p),Wp(o)}function Tl(o,l){return Kp(o,null,null,l),Wp(o)}function aC(o,l,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var x=!1,E=o.return;E!==null;)E.childLanes|=d,p=E.alternate,p!==null&&(p.childLanes|=d),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(x=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,x&&l!==null&&(x=31-Gt(d),o=E.hiddenUpdates,p=o[x],p===null?o[x]=[l]:p.push(l),l.lane=d|536870912),E):null}function Wp(o){if(50<ud)throw ud=0,ab=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Uu={};function dB(o,l,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(o,l,d,p){return new dB(o,l,d,p)}function X0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ka(o,l){var d=o.alternate;return d===null?(d=Br(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function oC(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Yp(o,l,d,p,x,E){var N=0;if(p=o,typeof o=="function")X0(o)&&(N=1);else if(typeof o=="string")N=y9(o,d,ye.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Br(31,d,l,x),o.elementType=L,o.lanes=E,o;case S:return Sl(d.children,x,E,l);case C:N=8,x|=24;break;case P:return o=Br(12,d,l,x|2),o.elementType=P,o.lanes=E,o;case U:return o=Br(13,d,l,x),o.elementType=U,o.lanes=E,o;case G:return o=Br(19,d,l,x),o.elementType=G,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:N=10;break e;case D:N=9;break e;case V:N=11;break e;case k:N=14;break e;case O:N=16,p=null;break e}N=29,d=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=Br(N,d,l,x),l.elementType=o,l.type=p,l.lanes=E,l}function Sl(o,l,d,p){return o=Br(7,o,p,l),o.lanes=d,o}function Q0(o,l,d){return o=Br(6,o,null,l),o.lanes=d,o}function sC(o){var l=Br(18,null,null,0);return l.stateNode=o,l}function Z0(o,l,d){return l=Br(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var lC=new WeakMap;function fi(o,l){if(typeof o=="object"&&o!==null){var d=lC.get(o);return d!==void 0?d:(l={value:o,source:l,stack:$o(l)},lC.set(o,l),l)}return{value:o,source:l,stack:$o(l)}}var ju=[],zu=0,Jp=null,qf=0,di=[],hi=0,is=null,Ta=1,Sa="";function Wa(o,l){ju[zu++]=qf,ju[zu++]=Jp,Jp=o,qf=l}function uC(o,l,d){di[hi++]=Ta,di[hi++]=Sa,di[hi++]=is,is=o;var p=Ta;o=Sa;var x=32-Gt(p)-1;p&=~(1<<x),d+=1;var E=32-Gt(l)+x;if(30<E){var N=x-x%5;E=(p&(1<<N)-1).toString(32),p>>=N,x-=N,Ta=1<<32-Gt(l)+x|d<<x|p,Sa=E+o}else Ta=1<<E|d<<x|p,Sa=o}function e_(o){o.return!==null&&(Wa(o,1),uC(o,1,0))}function t_(o){for(;o===Jp;)Jp=ju[--zu],ju[zu]=null,qf=ju[--zu],ju[zu]=null;for(;o===is;)is=di[--hi],di[hi]=null,Sa=di[--hi],di[hi]=null,Ta=di[--hi],di[hi]=null}function cC(o,l){di[hi++]=Ta,di[hi++]=Sa,di[hi++]=is,Ta=l.id,Sa=l.overflow,is=o}var qn=null,It=null,et=!1,as=null,pi=!1,n_=Error(r(519));function os(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bf(fi(l,o)),n_}function fC(o){var l=o.stateNode,d=o.type,p=o.memoizedProps;switch(l[rn]=o,l[Pn]=p,d){case"dialog":We("cancel",l),We("close",l);break;case"iframe":case"object":case"embed":We("load",l);break;case"video":case"audio":for(d=0;d<fd.length;d++)We(fd[d],l);break;case"source":We("error",l);break;case"img":case"image":case"link":We("error",l),We("load",l);break;case"details":We("toggle",l);break;case"input":We("invalid",l),Np(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":We("invalid",l);break;case"textarea":We("invalid",l),Xo(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||IN(l.textContent,d)?(p.popover!=null&&(We("beforetoggle",l),We("toggle",l)),p.onScroll!=null&&We("scroll",l),p.onScrollEnd!=null&&We("scrollend",l),p.onClick!=null&&(l.onclick=Li),l=!0):l=!1,l||os(o,!0)}function dC(o){for(qn=o.return;qn;)switch(qn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:qn=qn.return}}function Fu(o){if(o!==qn)return!1;if(!et)return dC(o),et=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||bb(o.type,o.memoizedProps)),d=!d),d&&It&&os(o),dC(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));It=VN(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));It=VN(o)}else l===27?(l=It,bs(o.type)?(o=Sb,Sb=null,It=o):It=l):It=qn?gi(o.stateNode.nextSibling):null;return!0}function Al(){It=qn=null,et=!1}function r_(){var o=as;return o!==null&&(Ar===null?Ar=o:Ar.push.apply(Ar,o),as=null),o}function Bf(o){as===null?as=[o]:as.push(o)}var i_=K(null),Cl=null,Ya=null;function ss(o,l,d){ge(i_,l._currentValue),l._currentValue=d}function Ja(o){o._currentValue=i_.current,ae(i_)}function a_(o,l,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===d)break;o=o.return}}function o_(o,l,d,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var E=x.dependencies;if(E!==null){var N=x.child;E=E.firstContext;e:for(;E!==null;){var z=E;E=x;for(var $=0;$<l.length;$++)if(z.context===l[$]){E.lanes|=d,z=E.alternate,z!==null&&(z.lanes|=d),a_(E.return,d,o),p||(N=null);break e}E=z.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(r(341));N.lanes|=d,E=N.alternate,E!==null&&(E.lanes|=d),a_(N,d,o),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===o){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function qu(o,l,d,p){o=null;for(var x=l,E=!1;x!==null;){if(!E){if((x.flags&524288)!==0)E=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var z=x.type;qr(x.pendingProps.value,N.value)||(o!==null?o.push(z):o=[z])}}else if(x===Te.current){if(N=x.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(gd):o=[gd])}x=x.return}o!==null&&o_(l,o,d,p),l.flags|=262144}function Xp(o){for(o=o.firstContext;o!==null;){if(!qr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Il(o){Cl=o,Ya=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Bn(o){return hC(Cl,o)}function Qp(o,l){return Cl===null&&Il(o),hC(o,l)}function hC(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ya===null){if(o===null)throw Error(r(308));Ya=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ya=Ya.next=l;return d}var hB=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},pB=t.unstable_scheduleCallback,mB=t.unstable_NormalPriority,sn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s_(){return{controller:new hB,data:new Map,refCount:0}}function Hf(o){o.refCount--,o.refCount===0&&pB(mB,function(){o.controller.abort()})}var Gf=null,l_=0,Bu=0,Hu=null;function gB(o,l){if(Gf===null){var d=Gf=[];l_=0,Bu=fb(),Hu={status:"pending",value:void 0,then:function(p){d.push(p)}}}return l_++,l.then(pC,pC),l}function pC(){if(--l_===0&&Gf!==null){Hu!==null&&(Hu.status="fulfilled");var o=Gf;Gf=null,Bu=0,Hu=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function yB(o,l){var d=[],p={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var x=0;x<d.length;x++)(0,d[x])(l)},function(x){for(p.status="rejected",p.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),p}var mC=J.S;J.S=function(o,l){QI=or(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&gB(o,l),mC!==null&&mC(o,l)};var Nl=K(null);function u_(){var o=Nl.current;return o!==null?o:Tt.pooledCache}function Zp(o,l){l===null?ge(Nl,Nl.current):ge(Nl,l.pool)}function gC(){var o=u_();return o===null?null:{parent:sn._currentValue,pool:o}}var Gu=Error(r(460)),c_=Error(r(474)),em=Error(r(542)),tm={then:function(){}};function yC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function vC(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(Li,Li),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,bC(o),o;default:if(typeof l.status=="string")l.then(Li,Li);else{if(o=Tt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=p}},function(p){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,bC(o),o}throw Rl=l,Gu}}function Pl(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Rl=d,Gu):d}}var Rl=null;function _C(){if(Rl===null)throw Error(r(459));var o=Rl;return Rl=null,o}function bC(o){if(o===Gu||o===em)throw Error(r(483))}var $u=null,$f=0;function nm(o){var l=$f;return $f+=1,$u===null&&($u=[]),vC($u,o,l)}function Kf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function rm(o,l){throw l.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function xC(o){function l(Y,W){if(o){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function d(Y,W){if(!o)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function p(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function x(Y,W){return Y=Ka(Y,W),Y.index=0,Y.sibling=null,Y}function E(Y,W,Z){return Y.index=Z,o?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=67108866,W):Z):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function z(Y,W,Z,le){return W===null||W.tag!==6?(W=Q0(Z,Y.mode,le),W.return=Y,W):(W=x(W,Z),W.return=Y,W)}function $(Y,W,Z,le){var ke=Z.type;return ke===S?se(Y,W,Z.props.children,le,Z.key):W!==null&&(W.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===O&&Pl(ke)===W.type)?(W=x(W,Z.props),Kf(W,Z),W.return=Y,W):(W=Yp(Z.type,Z.key,Z.props,null,Y.mode,le),Kf(W,Z),W.return=Y,W)}function ee(Y,W,Z,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=Z0(Z,Y.mode,le),W.return=Y,W):(W=x(W,Z.children||[]),W.return=Y,W)}function se(Y,W,Z,le,ke){return W===null||W.tag!==7?(W=Sl(Z,Y.mode,le,ke),W.return=Y,W):(W=x(W,Z),W.return=Y,W)}function ce(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Q0(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return Z=Yp(W.type,W.key,W.props,null,Y.mode,Z),Kf(Z,W),Z.return=Y,Z;case A:return W=Z0(W,Y.mode,Z),W.return=Y,W;case O:return W=Pl(W),ce(Y,W,Z)}if(Ce(W)||q(W))return W=Sl(W,Y.mode,Z,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,nm(W),Z);if(W.$$typeof===M)return ce(Y,Qp(Y,W),Z);rm(Y,W)}return null}function te(Y,W,Z,le){var ke=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ke!==null?null:z(Y,W,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===ke?$(Y,W,Z,le):null;case A:return Z.key===ke?ee(Y,W,Z,le):null;case O:return Z=Pl(Z),te(Y,W,Z,le)}if(Ce(Z)||q(Z))return ke!==null?null:se(Y,W,Z,le,null);if(typeof Z.then=="function")return te(Y,W,nm(Z),le);if(Z.$$typeof===M)return te(Y,W,Qp(Y,Z),le);rm(Y,Z)}return null}function ie(Y,W,Z,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Z)||null,z(W,Y,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return Y=Y.get(le.key===null?Z:le.key)||null,$(W,Y,le,ke);case A:return Y=Y.get(le.key===null?Z:le.key)||null,ee(W,Y,le,ke);case O:return le=Pl(le),ie(Y,W,Z,le,ke)}if(Ce(le)||q(le))return Y=Y.get(Z)||null,se(W,Y,le,ke,null);if(typeof le.then=="function")return ie(Y,W,Z,nm(le),ke);if(le.$$typeof===M)return ie(Y,W,Z,Qp(W,le),ke);rm(W,le)}return null}function Ie(Y,W,Z,le){for(var ke=null,it=null,Pe=W,Ge=W=0,Je=null;Pe!==null&&Ge<Z.length;Ge++){Pe.index>Ge?(Je=Pe,Pe=null):Je=Pe.sibling;var at=te(Y,Pe,Z[Ge],le);if(at===null){Pe===null&&(Pe=Je);break}o&&Pe&&at.alternate===null&&l(Y,Pe),W=E(at,W,Ge),it===null?ke=at:it.sibling=at,it=at,Pe=Je}if(Ge===Z.length)return d(Y,Pe),et&&Wa(Y,Ge),ke;if(Pe===null){for(;Ge<Z.length;Ge++)Pe=ce(Y,Z[Ge],le),Pe!==null&&(W=E(Pe,W,Ge),it===null?ke=Pe:it.sibling=Pe,it=Pe);return et&&Wa(Y,Ge),ke}for(Pe=p(Pe);Ge<Z.length;Ge++)Je=ie(Pe,Y,Ge,Z[Ge],le),Je!==null&&(o&&Je.alternate!==null&&Pe.delete(Je.key===null?Ge:Je.key),W=E(Je,W,Ge),it===null?ke=Je:it.sibling=Je,it=Je);return o&&Pe.forEach(function(Ss){return l(Y,Ss)}),et&&Wa(Y,Ge),ke}function Le(Y,W,Z,le){if(Z==null)throw Error(r(151));for(var ke=null,it=null,Pe=W,Ge=W=0,Je=null,at=Z.next();Pe!==null&&!at.done;Ge++,at=Z.next()){Pe.index>Ge?(Je=Pe,Pe=null):Je=Pe.sibling;var Ss=te(Y,Pe,at.value,le);if(Ss===null){Pe===null&&(Pe=Je);break}o&&Pe&&Ss.alternate===null&&l(Y,Pe),W=E(Ss,W,Ge),it===null?ke=Ss:it.sibling=Ss,it=Ss,Pe=Je}if(at.done)return d(Y,Pe),et&&Wa(Y,Ge),ke;if(Pe===null){for(;!at.done;Ge++,at=Z.next())at=ce(Y,at.value,le),at!==null&&(W=E(at,W,Ge),it===null?ke=at:it.sibling=at,it=at);return et&&Wa(Y,Ge),ke}for(Pe=p(Pe);!at.done;Ge++,at=Z.next())at=ie(Pe,Y,Ge,at.value,le),at!==null&&(o&&at.alternate!==null&&Pe.delete(at.key===null?Ge:at.key),W=E(at,W,Ge),it===null?ke=at:it.sibling=at,it=at);return o&&Pe.forEach(function(I9){return l(Y,I9)}),et&&Wa(Y,Ge),ke}function xt(Y,W,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var ke=Z.key;W!==null;){if(W.key===ke){if(ke=Z.type,ke===S){if(W.tag===7){d(Y,W.sibling),le=x(W,Z.props.children),le.return=Y,Y=le;break e}}else if(W.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===O&&Pl(ke)===W.type){d(Y,W.sibling),le=x(W,Z.props),Kf(le,Z),le.return=Y,Y=le;break e}d(Y,W);break}else l(Y,W);W=W.sibling}Z.type===S?(le=Sl(Z.props.children,Y.mode,le,Z.key),le.return=Y,Y=le):(le=Yp(Z.type,Z.key,Z.props,null,Y.mode,le),Kf(le,Z),le.return=Y,Y=le)}return N(Y);case A:e:{for(ke=Z.key;W!==null;){if(W.key===ke)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){d(Y,W.sibling),le=x(W,Z.children||[]),le.return=Y,Y=le;break e}else{d(Y,W);break}else l(Y,W);W=W.sibling}le=Z0(Z,Y.mode,le),le.return=Y,Y=le}return N(Y);case O:return Z=Pl(Z),xt(Y,W,Z,le)}if(Ce(Z))return Ie(Y,W,Z,le);if(q(Z)){if(ke=q(Z),typeof ke!="function")throw Error(r(150));return Z=ke.call(Z),Le(Y,W,Z,le)}if(typeof Z.then=="function")return xt(Y,W,nm(Z),le);if(Z.$$typeof===M)return xt(Y,W,Qp(Y,Z),le);rm(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(d(Y,W.sibling),le=x(W,Z),le.return=Y,Y=le):(d(Y,W),le=Q0(Z,Y.mode,le),le.return=Y,Y=le),N(Y)):d(Y,W)}return function(Y,W,Z,le){try{$f=0;var ke=xt(Y,W,Z,le);return $u=null,ke}catch(Pe){if(Pe===Gu||Pe===em)throw Pe;var it=Br(29,Pe,null,Y.mode);return it.lanes=le,it.return=Y,it}finally{}}}var Ml=xC(!0),wC=xC(!1),ls=!1;function f_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function d_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function us(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function cs(o,l,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(ut&2)!==0){var x=p.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),p.pending=l,l=Wp(o),aC(o,null,d),l}return Kp(o,p,l,d),Wp(o)}function Wf(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,xf(o,d)}}function h_(o,l){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var x=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var N={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?x=E=N:E=E.next=N,d=d.next}while(d!==null);E===null?x=E=l:E=E.next=l}else x=E=l;d={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var p_=!1;function Yf(){if(p_){var o=Hu;if(o!==null)throw o}}function Jf(o,l,d,p){p_=!1;var x=o.updateQueue;ls=!1;var E=x.firstBaseUpdate,N=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var $=z,ee=$.next;$.next=null,N===null?E=ee:N.next=ee,N=$;var se=o.alternate;se!==null&&(se=se.updateQueue,z=se.lastBaseUpdate,z!==N&&(z===null?se.firstBaseUpdate=ee:z.next=ee,se.lastBaseUpdate=$))}if(E!==null){var ce=x.baseState;N=0,se=ee=$=null,z=E;do{var te=z.lane&-536870913,ie=te!==z.lane;if(ie?(Ye&te)===te:(p&te)===te){te!==0&&te===Bu&&(p_=!0),se!==null&&(se=se.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ie=o,Le=z;te=l;var xt=d;switch(Le.tag){case 1:if(Ie=Le.payload,typeof Ie=="function"){ce=Ie.call(xt,ce,te);break e}ce=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Le.payload,te=typeof Ie=="function"?Ie.call(xt,ce,te):Ie,te==null)break e;ce=m({},ce,te);break e;case 2:ls=!0}}te=z.callback,te!==null&&(o.flags|=64,ie&&(o.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:z.tag,payload:z.payload,callback:z.callback,next:null},se===null?(ee=se=ie,$=ce):se=se.next=ie,N|=te;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;ie=z,z=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);se===null&&($=ce),x.baseState=$,x.firstBaseUpdate=ee,x.lastBaseUpdate=se,E===null&&(x.shared.lanes=0),ms|=N,o.lanes=N,o.memoizedState=ce}}function EC(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function TC(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)EC(d[o],l)}var Ku=K(null),im=K(0);function SC(o,l){o=ao,ge(im,o),ge(Ku,l),ao=o|l.baseLanes}function m_(){ge(im,ao),ge(Ku,Ku.current)}function g_(){ao=im.current,ae(Ku),ae(im)}var Hr=K(null),mi=null;function fs(o){var l=o.alternate;ge(Kt,Kt.current&1),ge(Hr,o),mi===null&&(l===null||Ku.current!==null||l.memoizedState!==null)&&(mi=o)}function y_(o){ge(Kt,Kt.current),ge(Hr,o),mi===null&&(mi=o)}function AC(o){o.tag===22?(ge(Kt,Kt.current),ge(Hr,o),mi===null&&(mi=o)):ds()}function ds(){ge(Kt,Kt.current),ge(Hr,Hr.current)}function Gr(o){ae(Hr),mi===o&&(mi=null),ae(Kt)}var Kt=K(0);function am(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Eb(d)||Tb(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Xa=0,He=null,_t=null,ln=null,om=!1,Wu=!1,kl=!1,sm=0,Xf=0,Yu=null,vB=0;function Ft(){throw Error(r(321))}function v_(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!qr(o[d],l[d]))return!1;return!0}function __(o,l,d,p,x,E){return Xa=E,He=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=o===null||o.memoizedState===null?uI:D_,kl=!1,E=d(p,x),kl=!1,Wu&&(E=IC(l,d,p,x)),CC(o),E}function CC(o){J.H=ed;var l=_t!==null&&_t.next!==null;if(Xa=0,ln=_t=He=null,om=!1,Xf=0,Yu=null,l)throw Error(r(300));o===null||un||(o=o.dependencies,o!==null&&Xp(o)&&(un=!0))}function IC(o,l,d,p){He=o;var x=0;do{if(Wu&&(Yu=null),Xf=0,Wu=!1,25<=x)throw Error(r(301));if(x+=1,ln=_t=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}J.H=cI,E=l(d,p)}while(Wu);return E}function _B(){var o=J.H,l=o.useState()[0];return l=typeof l.then=="function"?Qf(l):l,o=o.useState()[0],(_t!==null?_t.memoizedState:null)!==o&&(He.flags|=1024),l}function b_(){var o=sm!==0;return sm=0,o}function x_(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function w_(o){if(om){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}om=!1}Xa=0,ln=_t=He=null,Wu=!1,Xf=sm=0,Yu=null}function lr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?He.memoizedState=ln=o:ln=ln.next=o,ln}function Wt(){if(_t===null){var o=He.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var l=ln===null?He.memoizedState:ln.next;if(l!==null)ln=l,_t=o;else{if(o===null)throw He.alternate===null?Error(r(467)):Error(r(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},ln===null?He.memoizedState=ln=o:ln=ln.next=o}return ln}function lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qf(o){var l=Xf;return Xf+=1,Yu===null&&(Yu=[]),o=vC(Yu,o,l),l=He,(ln===null?l.memoizedState:ln.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?uI:D_),o}function um(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Qf(o);if(o.$$typeof===M)return Bn(o)}throw Error(r(438,String(o)))}function E_(o){var l=null,d=He.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=He.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=lm(),He.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),p=0;p<o;p++)d[p]=F;return l.index++,d}function Qa(o,l){return typeof l=="function"?l(o):l}function cm(o){var l=Wt();return T_(l,_t,o)}function T_(o,l,d){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var x=o.baseQueue,E=p.pending;if(E!==null){if(x!==null){var N=x.next;x.next=E.next,E.next=N}l.baseQueue=x=E,p.pending=null}if(E=o.baseState,x===null)o.memoizedState=E;else{l=x.next;var z=N=null,$=null,ee=l,se=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(Ye&ce)===ce:(Xa&ce)===ce){var te=ee.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===Bu&&(se=!0);else if((Xa&te)===te){ee=ee.next,te===Bu&&(se=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(z=$=ce,N=E):$=$.next=ce,He.lanes|=te,ms|=te;ce=ee.action,kl&&d(E,ce),E=ee.hasEagerState?ee.eagerState:d(E,ce)}else te={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(z=$=te,N=E):$=$.next=te,He.lanes|=ce,ms|=ce;ee=ee.next}while(ee!==null&&ee!==l);if($===null?N=E:$.next=z,!qr(E,o.memoizedState)&&(un=!0,se&&(d=Hu,d!==null)))throw d;o.memoizedState=E,o.baseState=N,o.baseQueue=$,p.lastRenderedState=E}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function S_(o){var l=Wt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var p=d.dispatch,x=d.pending,E=l.memoizedState;if(x!==null){d.pending=null;var N=x=x.next;do E=o(E,N.action),N=N.next;while(N!==x);qr(E,l.memoizedState)||(un=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,p]}function NC(o,l,d){var p=He,x=Wt(),E=et;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=l();var N=!qr((_t||x).memoizedState,d);if(N&&(x.memoizedState=d,un=!0),x=x.queue,I_(MC.bind(null,p,x,o),[o]),x.getSnapshot!==l||N||ln!==null&&ln.memoizedState.tag&1){if(p.flags|=2048,Ju(9,{destroy:void 0},RC.bind(null,p,x,d,l),null),Tt===null)throw Error(r(349));E||(Xa&127)!==0||PC(p,l,d)}return d}function PC(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=He.updateQueue,l===null?(l=lm(),He.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function RC(o,l,d,p){l.value=d,l.getSnapshot=p,kC(l)&&DC(o)}function MC(o,l,d){return d(function(){kC(l)&&DC(o)})}function kC(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!qr(o,d)}catch{return!0}}function DC(o){var l=Tl(o,2);l!==null&&Cr(l,o,2)}function A_(o){var l=lr();if(typeof o=="function"){var d=o;if(o=d(),kl){ai(!0);try{d()}finally{ai(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:o},l}function OC(o,l,d,p){return o.baseState=d,T_(o,_t,typeof p=="function"?p:Qa)}function bB(o,l,d,p,x){if(hm(o))throw Error(r(485));if(o=l.action,o!==null){var E={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){E.listeners.push(N)}};J.T!==null?d(!0):E.isTransition=!1,p(E),d=l.pending,d===null?(E.next=l.pending=E,LC(l,E)):(E.next=d.next,l.pending=d.next=E)}}function LC(o,l){var d=l.action,p=l.payload,x=o.state;if(l.isTransition){var E=J.T,N={};J.T=N;try{var z=d(x,p),$=J.S;$!==null&&$(N,z),VC(o,l,z)}catch(ee){C_(o,l,ee)}finally{E!==null&&N.types!==null&&(E.types=N.types),J.T=E}}else try{E=d(x,p),VC(o,l,E)}catch(ee){C_(o,l,ee)}}function VC(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){UC(o,l,p)},function(p){return C_(o,l,p)}):UC(o,l,d)}function UC(o,l,d){l.status="fulfilled",l.value=d,jC(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,LC(o,d)))}function C_(o,l,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,jC(l),l=l.next;while(l!==p)}o.action=null}function jC(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function zC(o,l){return l}function FC(o,l){if(et){var d=Tt.formState;if(d!==null){e:{var p=He;if(et){if(It){t:{for(var x=It,E=pi;x.nodeType!==8;){if(!E){x=null;break t}if(x=gi(x.nextSibling),x===null){x=null;break t}}E=x.data,x=E==="F!"||E==="F"?x:null}if(x){It=gi(x.nextSibling),p=x.data==="F!";break e}}os(p)}p=!1}p&&(l=d[0])}}return d=lr(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zC,lastRenderedState:l},d.queue=p,d=oI.bind(null,He,p),p.dispatch=d,p=A_(!1),E=k_.bind(null,He,!1,p.queue),p=lr(),x={state:l,dispatch:null,action:o,pending:null},p.queue=x,d=bB.bind(null,He,x,E,d),x.dispatch=d,p.memoizedState=o,[l,d,!1]}function qC(o){var l=Wt();return BC(l,_t,o)}function BC(o,l,d){if(l=T_(o,l,zC)[0],o=cm(Qa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Qf(l)}catch(N){throw N===Gu?em:N}else p=l;l=Wt();var x=l.queue,E=x.dispatch;return d!==l.memoizedState&&(He.flags|=2048,Ju(9,{destroy:void 0},xB.bind(null,x,d),null)),[p,E,o]}function xB(o,l){o.action=l}function HC(o){var l=Wt(),d=_t;if(d!==null)return BC(l,d,o);Wt(),l=l.memoizedState,d=Wt();var p=d.queue.dispatch;return d.memoizedState=o,[l,p,!1]}function Ju(o,l,d,p){return o={tag:o,create:d,deps:p,inst:l,next:null},l=He.updateQueue,l===null&&(l=lm(),He.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,l.lastEffect=o),o}function GC(){return Wt().memoizedState}function fm(o,l,d,p){var x=lr();He.flags|=o,x.memoizedState=Ju(1|l,{destroy:void 0},d,p===void 0?null:p)}function dm(o,l,d,p){var x=Wt();p=p===void 0?null:p;var E=x.memoizedState.inst;_t!==null&&p!==null&&v_(p,_t.memoizedState.deps)?x.memoizedState=Ju(l,E,d,p):(He.flags|=o,x.memoizedState=Ju(1|l,E,d,p))}function $C(o,l){fm(8390656,8,o,l)}function I_(o,l){dm(2048,8,o,l)}function wB(o){He.flags|=4;var l=He.updateQueue;if(l===null)l=lm(),He.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function KC(o){var l=Wt().memoizedState;return wB({ref:l,nextImpl:o}),function(){if((ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function WC(o,l){return dm(4,2,o,l)}function YC(o,l){return dm(4,4,o,l)}function JC(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function XC(o,l,d){d=d!=null?d.concat([o]):null,dm(4,4,JC.bind(null,l,o),d)}function N_(){}function QC(o,l){var d=Wt();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&v_(l,p[1])?p[0]:(d.memoizedState=[o,l],o)}function ZC(o,l){var d=Wt();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&v_(l,p[1]))return p[0];if(p=o(),kl){ai(!0);try{o()}finally{ai(!1)}}return d.memoizedState=[p,l],p}function P_(o,l,d){return d===void 0||(Xa&1073741824)!==0&&(Ye&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=eN(),He.lanes|=o,ms|=o,d)}function eI(o,l,d,p){return qr(d,l)?d:Ku.current!==null?(o=P_(o,d,p),qr(o,l)||(un=!0),o):(Xa&42)===0||(Xa&1073741824)!==0&&(Ye&261930)===0?(un=!0,o.memoizedState=d):(o=eN(),He.lanes|=o,ms|=o,l)}function tI(o,l,d,p,x){var E=X.p;X.p=E!==0&&8>E?E:8;var N=J.T,z={};J.T=z,k_(o,!1,l,d);try{var $=x(),ee=J.S;if(ee!==null&&ee(z,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var se=yB($,p);Zf(o,l,se,Wr(o))}else Zf(o,l,p,Wr(o))}catch(ce){Zf(o,l,{then:function(){},status:"rejected",reason:ce},Wr())}finally{X.p=E,N!==null&&z.types!==null&&(N.types=z.types),J.T=N}}function EB(){}function R_(o,l,d,p){if(o.tag!==5)throw Error(r(476));var x=nI(o).queue;tI(o,x,l,he,d===null?EB:function(){return rI(o),d(p)})}function nI(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:he},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function rI(o){var l=nI(o);l.next===null&&(l=o.alternate.memoizedState),Zf(o,l.next.queue,{},Wr())}function M_(){return Bn(gd)}function iI(){return Wt().memoizedState}function aI(){return Wt().memoizedState}function TB(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=Wr();o=us(d);var p=cs(l,o,d);p!==null&&(Cr(p,l,d),Wf(p,l,d)),l={cache:s_()},o.payload=l;return}l=l.return}}function SB(o,l,d){var p=Wr();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},hm(o)?sI(l,d):(d=J0(o,l,d,p),d!==null&&(Cr(d,o,p),lI(d,l,p)))}function oI(o,l,d){var p=Wr();Zf(o,l,d,p)}function Zf(o,l,d,p){var x={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(hm(o))sI(l,x);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var N=l.lastRenderedState,z=E(N,d);if(x.hasEagerState=!0,x.eagerState=z,qr(z,N))return Kp(o,l,x,0),Tt===null&&$p(),!1}catch{}finally{}if(d=J0(o,l,x,p),d!==null)return Cr(d,o,p),lI(d,l,p),!0}return!1}function k_(o,l,d,p){if(p={lane:2,revertLane:fb(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},hm(o)){if(l)throw Error(r(479))}else l=J0(o,d,p,2),l!==null&&Cr(l,o,2)}function hm(o){var l=o.alternate;return o===He||l!==null&&l===He}function sI(o,l){Wu=om=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function lI(o,l,d){if((d&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,xf(o,d)}}var ed={readContext:Bn,use:um,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};ed.useEffectEvent=Ft;var uI={readContext:Bn,use:um,useCallback:function(o,l){return lr().memoizedState=[o,l===void 0?null:l],o},useContext:Bn,useEffect:$C,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,fm(4194308,4,JC.bind(null,l,o),d)},useLayoutEffect:function(o,l){return fm(4194308,4,o,l)},useInsertionEffect:function(o,l){fm(4,2,o,l)},useMemo:function(o,l){var d=lr();l=l===void 0?null:l;var p=o();if(kl){ai(!0);try{o()}finally{ai(!1)}}return d.memoizedState=[p,l],p},useReducer:function(o,l,d){var p=lr();if(d!==void 0){var x=d(l);if(kl){ai(!0);try{d(l)}finally{ai(!1)}}}else x=l;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=SB.bind(null,He,o),[p.memoizedState,o]},useRef:function(o){var l=lr();return o={current:o},l.memoizedState=o},useState:function(o){o=A_(o);var l=o.queue,d=oI.bind(null,He,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:N_,useDeferredValue:function(o,l){var d=lr();return P_(d,o,l)},useTransition:function(){var o=A_(!1);return o=tI.bind(null,He,o.queue,!0,!1),lr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var p=He,x=lr();if(et){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Tt===null)throw Error(r(349));(Ye&127)!==0||PC(p,l,d)}x.memoizedState=d;var E={value:d,getSnapshot:l};return x.queue=E,$C(MC.bind(null,p,E,o),[o]),p.flags|=2048,Ju(9,{destroy:void 0},RC.bind(null,p,E,d,l),null),d},useId:function(){var o=lr(),l=Tt.identifierPrefix;if(et){var d=Sa,p=Ta;d=(p&~(1<<32-Gt(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=sm++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=vB++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:M_,useFormState:FC,useActionState:FC,useOptimistic:function(o){var l=lr();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=k_.bind(null,He,!0,d),d.dispatch=l,[o,l]},useMemoCache:E_,useCacheRefresh:function(){return lr().memoizedState=TB.bind(null,He)},useEffectEvent:function(o){var l=lr(),d={impl:o};return l.memoizedState=d,function(){if((ut&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},D_={readContext:Bn,use:um,useCallback:QC,useContext:Bn,useEffect:I_,useImperativeHandle:XC,useInsertionEffect:WC,useLayoutEffect:YC,useMemo:ZC,useReducer:cm,useRef:GC,useState:function(){return cm(Qa)},useDebugValue:N_,useDeferredValue:function(o,l){var d=Wt();return eI(d,_t.memoizedState,o,l)},useTransition:function(){var o=cm(Qa)[0],l=Wt().memoizedState;return[typeof o=="boolean"?o:Qf(o),l]},useSyncExternalStore:NC,useId:iI,useHostTransitionStatus:M_,useFormState:qC,useActionState:qC,useOptimistic:function(o,l){var d=Wt();return OC(d,_t,o,l)},useMemoCache:E_,useCacheRefresh:aI};D_.useEffectEvent=KC;var cI={readContext:Bn,use:um,useCallback:QC,useContext:Bn,useEffect:I_,useImperativeHandle:XC,useInsertionEffect:WC,useLayoutEffect:YC,useMemo:ZC,useReducer:S_,useRef:GC,useState:function(){return S_(Qa)},useDebugValue:N_,useDeferredValue:function(o,l){var d=Wt();return _t===null?P_(d,o,l):eI(d,_t.memoizedState,o,l)},useTransition:function(){var o=S_(Qa)[0],l=Wt().memoizedState;return[typeof o=="boolean"?o:Qf(o),l]},useSyncExternalStore:NC,useId:iI,useHostTransitionStatus:M_,useFormState:HC,useActionState:HC,useOptimistic:function(o,l){var d=Wt();return _t!==null?OC(d,_t,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:E_,useCacheRefresh:aI};cI.useEffectEvent=KC;function O_(o,l,d,p){l=o.memoizedState,d=d(p,l),d=d==null?l:m({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var L_={enqueueSetState:function(o,l,d){o=o._reactInternals;var p=Wr(),x=us(p);x.payload=l,d!=null&&(x.callback=d),l=cs(o,x,p),l!==null&&(Cr(l,o,p),Wf(l,o,p))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var p=Wr(),x=us(p);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=cs(o,x,p),l!==null&&(Cr(l,o,p),Wf(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Wr(),p=us(d);p.tag=2,l!=null&&(p.callback=l),l=cs(o,p,d),l!==null&&(Cr(l,o,d),Wf(l,o,d))}};function fI(o,l,d,p,x,E,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,E,N):l.prototype&&l.prototype.isPureReactComponent?!zf(d,p)||!zf(x,E):!0}function dI(o,l,d,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==o&&L_.enqueueReplaceState(l,l.state,null)}function Dl(o,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(o=o.defaultProps){d===l&&(d=m({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}function hI(o){Gp(o)}function pI(o){console.error(o)}function mI(o){Gp(o)}function pm(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function gI(o,l,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function V_(o,l,d){return d=us(d),d.tag=3,d.payload={element:null},d.callback=function(){pm(o,l)},d}function yI(o){return o=us(o),o.tag=3,o}function vI(o,l,d,p){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var E=p.value;o.payload=function(){return x(E)},o.callback=function(){gI(l,d,p)}}var N=d.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){gI(l,d,p),typeof x!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})})}function AB(o,l,d,p,x){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&qu(l,d,x,!0),d=Hr.current,d!==null){switch(d.tag){case 31:case 13:return mi===null?Am():d.alternate===null&&qt===0&&(qt=3),d.flags&=-257,d.flags|=65536,d.lanes=x,p===tm?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),lb(o,p,x)),!1;case 22:return d.flags|=65536,p===tm?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),lb(o,p,x)),!1}throw Error(r(435,d.tag))}return lb(o,p,x),Am(),!1}if(et)return l=Hr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,p!==n_&&(o=Error(r(422),{cause:p}),Bf(fi(o,d)))):(p!==n_&&(l=Error(r(423),{cause:p}),Bf(fi(l,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=fi(p,d),x=V_(o.stateNode,p,x),h_(o,x),qt!==4&&(qt=2)),!1;var E=Error(r(520),{cause:p});if(E=fi(E,d),ld===null?ld=[E]:ld.push(E),qt!==4&&(qt=2),l===null)return!0;p=fi(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=V_(d.stateNode,p,o),h_(d,o),!1;case 1:if(l=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(gs===null||!gs.has(E))))return d.flags|=65536,x&=-x,d.lanes|=x,x=yI(x),vI(x,o,d,p),h_(d,x),!1}d=d.return}while(d!==null);return!1}var U_=Error(r(461)),un=!1;function Hn(o,l,d,p){l.child=o===null?wC(l,null,d,p):Ml(l,o.child,d,p)}function _I(o,l,d,p,x){d=d.render;var E=l.ref;if("ref"in p){var N={};for(var z in p)z!=="ref"&&(N[z]=p[z])}else N=p;return Il(l),p=__(o,l,d,N,E,x),z=b_(),o!==null&&!un?(x_(o,l,x),Za(o,l,x)):(et&&z&&e_(l),l.flags|=1,Hn(o,l,p,x),l.child)}function bI(o,l,d,p,x){if(o===null){var E=d.type;return typeof E=="function"&&!X0(E)&&E.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=E,xI(o,l,E,p,x)):(o=Yp(d.type,null,p,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,!$_(o,x)){var N=E.memoizedProps;if(d=d.compare,d=d!==null?d:zf,d(N,p)&&o.ref===l.ref)return Za(o,l,x)}return l.flags|=1,o=Ka(E,p),o.ref=l.ref,o.return=l,l.child=o}function xI(o,l,d,p,x){if(o!==null){var E=o.memoizedProps;if(zf(E,p)&&o.ref===l.ref)if(un=!1,l.pendingProps=p=E,$_(o,x))(o.flags&131072)!==0&&(un=!0);else return l.lanes=o.lanes,Za(o,l,x)}return j_(o,l,d,p,x)}function wI(o,l,d,p){var x=p.children,E=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,o!==null){for(p=l.child=o.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~E}else p=0,l.child=null;return EI(o,l,E,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Zp(l,E!==null?E.cachePool:null),E!==null?SC(l,E):m_(),AC(l);else return p=l.lanes=536870912,EI(o,l,E!==null?E.baseLanes|d:d,d,p)}else E!==null?(Zp(l,E.cachePool),SC(l,E),ds(),l.memoizedState=null):(o!==null&&Zp(l,null),m_(),ds());return Hn(o,l,x,d),l.child}function td(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function EI(o,l,d,p,x){var E=u_();return E=E===null?null:{parent:sn._currentValue,pool:E},l.memoizedState={baseLanes:d,cachePool:E},o!==null&&Zp(l,null),m_(),AC(l),o!==null&&qu(o,l,p,!0),l.childLanes=x,null}function mm(o,l){return l=ym({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function TI(o,l,d){return Ml(l,o.child,null,d),o=mm(l,l.pendingProps),o.flags|=2,Gr(l),l.memoizedState=null,o}function CB(o,l,d){var p=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(et){if(p.mode==="hidden")return o=mm(l,p),l.lanes=536870912,td(null,o);if(y_(l),(o=It)?(o=LN(o,pi),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:is!==null?{id:Ta,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},d=sC(o),d.return=l,l.child=d,qn=l,It=null)):o=null,o===null)throw os(l);return l.lanes=536870912,null}return mm(l,p)}var E=o.memoizedState;if(E!==null){var N=E.dehydrated;if(y_(l),x)if(l.flags&256)l.flags&=-257,l=TI(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(un||qu(o,l,d,!1),x=(d&o.childLanes)!==0,un||x){if(p=Tt,p!==null&&(N=wf(p,d),N!==0&&N!==E.retryLane))throw E.retryLane=N,Tl(o,N),Cr(p,o,N),U_;Am(),l=TI(o,l,d)}else o=E.treeContext,It=gi(N.nextSibling),qn=l,et=!0,as=null,pi=!1,o!==null&&cC(l,o),l=mm(l,p),l.flags|=4096;return l}return o=Ka(o.child,{mode:p.mode,children:p.children}),o.ref=l.ref,l.child=o,o.return=l,o}function gm(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function j_(o,l,d,p,x){return Il(l),d=__(o,l,d,p,void 0,x),p=b_(),o!==null&&!un?(x_(o,l,x),Za(o,l,x)):(et&&p&&e_(l),l.flags|=1,Hn(o,l,d,x),l.child)}function SI(o,l,d,p,x,E){return Il(l),l.updateQueue=null,d=IC(l,p,d,x),CC(o),p=b_(),o!==null&&!un?(x_(o,l,E),Za(o,l,E)):(et&&p&&e_(l),l.flags|=1,Hn(o,l,d,E),l.child)}function AI(o,l,d,p,x){if(Il(l),l.stateNode===null){var E=Uu,N=d.contextType;typeof N=="object"&&N!==null&&(E=Bn(N)),E=new d(p,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=L_,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=p,E.state=l.memoizedState,E.refs={},f_(l),N=d.contextType,E.context=typeof N=="object"&&N!==null?Bn(N):Uu,E.state=l.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(O_(l,d,N,p),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(N=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),N!==E.state&&L_.enqueueReplaceState(E,E.state,null),Jf(l,p,E,x),Yf(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){E=l.stateNode;var z=l.memoizedProps,$=Dl(d,z);E.props=$;var ee=E.context,se=d.contextType;N=Uu,typeof se=="object"&&se!==null&&(N=Bn(se));var ce=d.getDerivedStateFromProps;se=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function",z=l.pendingProps!==z,se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(z||ee!==N)&&dI(l,E,p,N),ls=!1;var te=l.memoizedState;E.state=te,Jf(l,p,E,x),Yf(),ee=l.memoizedState,z||te!==ee||ls?(typeof ce=="function"&&(O_(l,d,ce,p),ee=l.memoizedState),($=ls||fI(l,d,$,p,te,ee,N))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ee),E.props=p,E.state=ee,E.context=N,p=$):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{E=l.stateNode,d_(o,l),N=l.memoizedProps,se=Dl(d,N),E.props=se,ce=l.pendingProps,te=E.context,ee=d.contextType,$=Uu,typeof ee=="object"&&ee!==null&&($=Bn(ee)),z=d.getDerivedStateFromProps,(ee=typeof z=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==ce||te!==$)&&dI(l,E,p,$),ls=!1,te=l.memoizedState,E.state=te,Jf(l,p,E,x),Yf();var ie=l.memoizedState;N!==ce||te!==ie||ls||o!==null&&o.dependencies!==null&&Xp(o.dependencies)?(typeof z=="function"&&(O_(l,d,z,p),ie=l.memoizedState),(se=ls||fI(l,d,se,p,te,ie,$)||o!==null&&o.dependencies!==null&&Xp(o.dependencies))?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,ie,$),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,ie,$)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ie),E.props=p,E.state=ie,E.context=$,p=se):(typeof E.componentDidUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),p=!1)}return E=p,gm(o,l),p=(l.flags&128)!==0,E||p?(E=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,o!==null&&p?(l.child=Ml(l,o.child,null,x),l.child=Ml(l,null,d,x)):Hn(o,l,d,x),l.memoizedState=E.state,o=l.child):o=Za(o,l,x),o}function CI(o,l,d,p){return Al(),l.flags|=256,Hn(o,l,d,p),l.child}var z_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function F_(o){return{baseLanes:o,cachePool:gC()}}function q_(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=Kr),o}function II(o,l,d){var p=l.pendingProps,x=!1,E=(l.flags&128)!==0,N;if((N=E)||(N=o!==null&&o.memoizedState===null?!1:(Kt.current&2)!==0),N&&(x=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,o===null){if(et){if(x?fs(l):ds(),(o=It)?(o=LN(o,pi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:is!==null?{id:Ta,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},d=sC(o),d.return=l,l.child=d,qn=l,It=null)):o=null,o===null)throw os(l);return Tb(o)?l.lanes=32:l.lanes=536870912,null}var z=p.children;return p=p.fallback,x?(ds(),x=l.mode,z=ym({mode:"hidden",children:z},x),p=Sl(p,x,d,null),z.return=l,p.return=l,z.sibling=p,l.child=z,p=l.child,p.memoizedState=F_(d),p.childLanes=q_(o,N,d),l.memoizedState=z_,td(null,p)):(fs(l),B_(l,z))}var $=o.memoizedState;if($!==null&&(z=$.dehydrated,z!==null)){if(E)l.flags&256?(fs(l),l.flags&=-257,l=H_(o,l,d)):l.memoizedState!==null?(ds(),l.child=o.child,l.flags|=128,l=null):(ds(),z=p.fallback,x=l.mode,p=ym({mode:"visible",children:p.children},x),z=Sl(z,x,d,null),z.flags|=2,p.return=l,z.return=l,p.sibling=z,l.child=p,Ml(l,o.child,null,d),p=l.child,p.memoizedState=F_(d),p.childLanes=q_(o,N,d),l.memoizedState=z_,l=td(null,p));else if(fs(l),Tb(z)){if(N=z.nextSibling&&z.nextSibling.dataset,N)var ee=N.dgst;N=ee,p=Error(r(419)),p.stack="",p.digest=N,Bf({value:p,source:null,stack:null}),l=H_(o,l,d)}else if(un||qu(o,l,d,!1),N=(d&o.childLanes)!==0,un||N){if(N=Tt,N!==null&&(p=wf(N,d),p!==0&&p!==$.retryLane))throw $.retryLane=p,Tl(o,p),Cr(N,o,p),U_;Eb(z)||Am(),l=H_(o,l,d)}else Eb(z)?(l.flags|=192,l.child=o.child,l=null):(o=$.treeContext,It=gi(z.nextSibling),qn=l,et=!0,as=null,pi=!1,o!==null&&cC(l,o),l=B_(l,p.children),l.flags|=4096);return l}return x?(ds(),z=p.fallback,x=l.mode,$=o.child,ee=$.sibling,p=Ka($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,ee!==null?z=Ka(ee,z):(z=Sl(z,x,d,null),z.flags|=2),z.return=l,p.return=l,p.sibling=z,l.child=p,td(null,p),p=l.child,z=o.child.memoizedState,z===null?z=F_(d):(x=z.cachePool,x!==null?($=sn._currentValue,x=x.parent!==$?{parent:$,pool:$}:x):x=gC(),z={baseLanes:z.baseLanes|d,cachePool:x}),p.memoizedState=z,p.childLanes=q_(o,N,d),l.memoizedState=z_,td(o.child,p)):(fs(l),d=o.child,o=d.sibling,d=Ka(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,o!==null&&(N=l.deletions,N===null?(l.deletions=[o],l.flags|=16):N.push(o)),l.child=d,l.memoizedState=null,d)}function B_(o,l){return l=ym({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function ym(o,l){return o=Br(22,o,null,l),o.lanes=0,o}function H_(o,l,d){return Ml(l,o.child,null,d),o=B_(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function NI(o,l,d){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),a_(o.return,l,d)}function G_(o,l,d,p,x,E){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:x,treeForkCount:E}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=d,N.tailMode=x,N.treeForkCount=E)}function PI(o,l,d){var p=l.pendingProps,x=p.revealOrder,E=p.tail;p=p.children;var N=Kt.current,z=(N&2)!==0;if(z?(N=N&1|2,l.flags|=128):N&=1,ge(Kt,N),Hn(o,l,p,d),p=et?qf:0,!z&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&NI(o,d,l);else if(o.tag===19)NI(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(d=l.child,x=null;d!==null;)o=d.alternate,o!==null&&am(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),G_(l,!1,x,d,E,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&am(o)===null){l.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}G_(l,!0,d,null,E,p);break;case"together":G_(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Za(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ms|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(qu(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Ka(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Ka(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function $_(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Xp(o)))}function IB(o,l,d){switch(l.tag){case 3:rt(l,l.stateNode.containerInfo),ss(l,sn,o.memoizedState.cache),Al();break;case 27:case 5:Ve(l);break;case 4:rt(l,l.stateNode.containerInfo);break;case 10:ss(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,y_(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(fs(l),l.flags|=128,null):(d&l.child.childLanes)!==0?II(o,l,d):(fs(l),o=Za(o,l,d),o!==null?o.sibling:null);fs(l);break;case 19:var x=(o.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(qu(o,l,d,!1),p=(d&l.childLanes)!==0),x){if(p)return PI(o,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ge(Kt,Kt.current),p)break;return null;case 22:return l.lanes=0,wI(o,l,d,l.pendingProps);case 24:ss(l,sn,o.memoizedState.cache)}return Za(o,l,d)}function RI(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)un=!0;else{if(!$_(o,d)&&(l.flags&128)===0)return un=!1,IB(o,l,d);un=(o.flags&131072)!==0}else un=!1,et&&(l.flags&1048576)!==0&&uC(l,qf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(o=Pl(l.elementType),l.type=o,typeof o=="function")X0(o)?(p=Dl(o,p),l.tag=1,l=AI(null,l,o,p,d)):(l.tag=0,l=j_(null,l,o,p,d));else{if(o!=null){var x=o.$$typeof;if(x===V){l.tag=11,l=_I(null,l,o,p,d);break e}else if(x===k){l.tag=14,l=bI(null,l,o,p,d);break e}}throw l=_e(o)||o,Error(r(306,l,""))}}return l;case 0:return j_(o,l,l.type,l.pendingProps,d);case 1:return p=l.type,x=Dl(p,l.pendingProps),AI(o,l,p,x,d);case 3:e:{if(rt(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var E=l.memoizedState;x=E.element,d_(o,l),Jf(l,p,null,d);var N=l.memoizedState;if(p=N.cache,ss(l,sn,p),p!==E.cache&&o_(l,[sn],d,!0),Yf(),p=N.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=CI(o,l,p,d);break e}else if(p!==x){x=fi(Error(r(424)),l),Bf(x),l=CI(o,l,p,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(It=gi(o.firstChild),qn=l,et=!0,as=null,pi=!0,d=wC(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Al(),p===x){l=Za(o,l,d);break e}Hn(o,l,p,d)}l=l.child}return l;case 26:return gm(o,l),o===null?(d=qN(l.type,null,l.pendingProps,null))?l.memoizedState=d:et||(d=l.type,o=l.pendingProps,p=km(Se.current).createElement(d),p[rn]=l,p[Pn]=o,Gn(p,d,o),an(p),l.stateNode=p):l.memoizedState=qN(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ve(l),o===null&&et&&(p=l.stateNode=jN(l.type,l.pendingProps,Se.current),qn=l,pi=!0,x=It,bs(l.type)?(Sb=x,It=gi(p.firstChild)):It=x),Hn(o,l,l.pendingProps.children,d),gm(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&et&&((x=p=It)&&(p=i9(p,l.type,l.pendingProps,pi),p!==null?(l.stateNode=p,qn=l,It=gi(p.firstChild),pi=!1,x=!0):x=!1),x||os(l)),Ve(l),x=l.type,E=l.pendingProps,N=o!==null?o.memoizedProps:null,p=E.children,bb(x,E)?p=null:N!==null&&bb(x,N)&&(l.flags|=32),l.memoizedState!==null&&(x=__(o,l,_B,null,null,d),gd._currentValue=x),gm(o,l),Hn(o,l,p,d),l.child;case 6:return o===null&&et&&((o=d=It)&&(d=a9(d,l.pendingProps,pi),d!==null?(l.stateNode=d,qn=l,It=null,o=!0):o=!1),o||os(l)),null;case 13:return II(o,l,d);case 4:return rt(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=Ml(l,null,p,d):Hn(o,l,p,d),l.child;case 11:return _I(o,l,l.type,l.pendingProps,d);case 7:return Hn(o,l,l.pendingProps,d),l.child;case 8:return Hn(o,l,l.pendingProps.children,d),l.child;case 12:return Hn(o,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,ss(l,l.type,p.value),Hn(o,l,p.children,d),l.child;case 9:return x=l.type._context,p=l.pendingProps.children,Il(l),x=Bn(x),p=p(x),l.flags|=1,Hn(o,l,p,d),l.child;case 14:return bI(o,l,l.type,l.pendingProps,d);case 15:return xI(o,l,l.type,l.pendingProps,d);case 19:return PI(o,l,d);case 31:return CB(o,l,d);case 22:return wI(o,l,d,l.pendingProps);case 24:return Il(l),p=Bn(sn),o===null?(x=u_(),x===null&&(x=Tt,E=s_(),x.pooledCache=E,E.refCount++,E!==null&&(x.pooledCacheLanes|=d),x=E),l.memoizedState={parent:p,cache:x},f_(l),ss(l,sn,x)):((o.lanes&d)!==0&&(d_(o,l),Jf(l,null,null,d),Yf()),x=o.memoizedState,E=l.memoizedState,x.parent!==p?(x={parent:p,cache:p},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),ss(l,sn,p)):(p=E.cache,ss(l,sn,p),p!==x.cache&&o_(l,[sn],d,!0))),Hn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function eo(o){o.flags|=4}function K_(o,l,d,p,x){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(iN())o.flags|=8192;else throw Rl=tm,c_}else o.flags&=-16777217}function MI(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!KN(l))if(iN())o.flags|=8192;else throw Rl=tm,c_}function vm(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Tp():536870912,o.lanes|=l,ec|=l)}function nd(o,l){if(!et)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Nt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(l)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=d,l}function NB(o,l,d){var p=l.pendingProps;switch(t_(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(l),null;case 1:return Nt(l),null;case 3:return d=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ja(sn),oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Fu(l)?eo(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,r_())),Nt(l),null;case 26:var x=l.type,E=l.memoizedState;return o===null?(eo(l),E!==null?(Nt(l),MI(l,E)):(Nt(l),K_(l,x,null,p,d))):E?E!==o.memoizedState?(eo(l),Nt(l),MI(l,E)):(Nt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==p&&eo(l),Nt(l),K_(l,x,o,p,d)),null;case 27:if(je(l),d=Se.current,x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&eo(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Nt(l),null}o=ye.current,Fu(l)?fC(l):(o=jN(x,p,d),l.stateNode=o,eo(l))}return Nt(l),null;case 5:if(je(l),x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&eo(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Nt(l),null}if(E=ye.current,Fu(l))fC(l);else{var N=km(Se.current);switch(E){case 1:E=N.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:E=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":E=N.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":E=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":E=N.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?E.multiple=!0:p.size&&(E.size=p.size);break;default:E=typeof p.is=="string"?N.createElement(x,{is:p.is}):N.createElement(x)}}E[rn]=l,E[Pn]=p;e:for(N=l.child;N!==null;){if(N.tag===5||N.tag===6)E.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===l)break e;for(;N.sibling===null;){if(N.return===null||N.return===l)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}l.stateNode=E;e:switch(Gn(E,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&eo(l)}}return Nt(l),K_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&eo(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=Se.current,Fu(l)){if(o=l.stateNode,d=l.memoizedProps,p=null,x=qn,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[rn]=l,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||IN(o.nodeValue,d)),o||os(l,!0)}else o=km(o).createTextNode(p),o[rn]=l,l.stateNode=o}return Nt(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(p=Fu(l),d!==null){if(o===null){if(!p)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[rn]=l}else Al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nt(l),o=!1}else d=r_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(Gr(l),l):(Gr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Nt(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Fu(l),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[rn]=l}else Al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nt(l),x=!1}else x=r_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Gr(l),l):(Gr(l),null)}return Gr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,o=o!==null&&o.memoizedState!==null,d&&(p=l.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),E=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==x&&(p.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),vm(l,l.updateQueue),Nt(l),null);case 4:return oe(),o===null&&mb(l.stateNode.containerInfo),Nt(l),null;case 10:return Ja(l.type),Nt(l),null;case 19:if(ae(Kt),p=l.memoizedState,p===null)return Nt(l),null;if(x=(l.flags&128)!==0,E=p.rendering,E===null)if(x)nd(p,!1);else{if(qt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(E=am(o),E!==null){for(l.flags|=128,nd(p,!1),o=E.updateQueue,l.updateQueue=o,vm(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)oC(d,o),d=d.sibling;return ge(Kt,Kt.current&1|2),et&&Wa(l,p.treeForkCount),l.child}o=o.sibling}p.tail!==null&&or()>Em&&(l.flags|=128,x=!0,nd(p,!1),l.lanes=4194304)}else{if(!x)if(o=am(E),o!==null){if(l.flags|=128,x=!0,o=o.updateQueue,l.updateQueue=o,vm(l,o),nd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!et)return Nt(l),null}else 2*or()-p.renderingStartTime>Em&&d!==536870912&&(l.flags|=128,x=!0,nd(p,!1),l.lanes=4194304);p.isBackwards?(E.sibling=l.child,l.child=E):(o=p.last,o!==null?o.sibling=E:l.child=E,p.last=E)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=or(),o.sibling=null,d=Kt.current,ge(Kt,x?d&1|2:d&1),et&&Wa(l,p.treeForkCount),o):(Nt(l),null);case 22:case 23:return Gr(l),g_(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(Nt(l),l.subtreeFlags&6&&(l.flags|=8192)):Nt(l),d=l.updateQueue,d!==null&&vm(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),o!==null&&ae(Nl),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ja(sn),Nt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function PB(o,l){switch(t_(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ja(sn),oe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return je(l),null;case 31:if(l.memoizedState!==null){if(Gr(l),l.alternate===null)throw Error(r(340));Al()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Gr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Al()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ae(Kt),null;case 4:return oe(),null;case 10:return Ja(l.type),null;case 22:case 23:return Gr(l),g_(),o!==null&&ae(Nl),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ja(sn),null;case 25:return null;default:return null}}function kI(o,l){switch(t_(l),l.tag){case 3:Ja(sn),oe();break;case 26:case 27:case 5:je(l);break;case 4:oe();break;case 31:l.memoizedState!==null&&Gr(l);break;case 13:Gr(l);break;case 19:ae(Kt);break;case 10:Ja(l.type);break;case 22:case 23:Gr(l),g_(),o!==null&&ae(Nl);break;case 24:Ja(sn)}}function rd(o,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&o)===o){p=void 0;var E=d.create,N=d.inst;p=E(),N.destroy=p}d=d.next}while(d!==x)}}catch(z){gt(l,l.return,z)}}function hs(o,l,d){try{var p=l.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var E=x.next;p=E;do{if((p.tag&o)===o){var N=p.inst,z=N.destroy;if(z!==void 0){N.destroy=void 0,x=l;var $=d,ee=z;try{ee()}catch(se){gt(x,$,se)}}}p=p.next}while(p!==E)}}catch(se){gt(l,l.return,se)}}function DI(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{TC(l,d)}catch(p){gt(o,o.return,p)}}}function OI(o,l,d){d.props=Dl(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){gt(o,l,p)}}function id(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(x){gt(o,l,x)}}function Aa(o,l){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(x){gt(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){gt(o,l,x)}else d.current=null}function LI(o){var l=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(x){gt(o,o.return,x)}}function W_(o,l,d){try{var p=o.stateNode;QB(p,o.type,d,l),p[Pn]=l}catch(x){gt(o,o.return,x)}}function VI(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&bs(o.type)||o.tag===4}function Y_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||VI(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&bs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function J_(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Li));else if(p!==4&&(p===27&&bs(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(J_(o,l,d),o=o.sibling;o!==null;)J_(o,l,d),o=o.sibling}function _m(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(p!==4&&(p===27&&bs(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(_m(o,l,d),o=o.sibling;o!==null;)_m(o,l,d),o=o.sibling}function UI(o){var l=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);Gn(l,p,d),l[rn]=o,l[Pn]=d}catch(E){gt(o,o.return,E)}}var to=!1,cn=!1,X_=!1,jI=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function RB(o,l){if(o=o.containerInfo,vb=zm,o=XA(o),H0(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var x=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var N=0,z=-1,$=-1,ee=0,se=0,ce=o,te=null;t:for(;;){for(var ie;ce!==d||x!==0&&ce.nodeType!==3||(z=N+x),ce!==E||p!==0&&ce.nodeType!==3||($=N+p),ce.nodeType===3&&(N+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)te=ce,ce=ie;for(;;){if(ce===o)break t;if(te===d&&++ee===x&&(z=N),te===E&&++se===p&&($=N),(ie=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ie}d=z===-1||$===-1?null:{start:z,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(_b={focusedElem:o,selectionRange:d},zm=!1,Mn=l;Mn!==null;)if(l=Mn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Mn=o;else for(;Mn!==null;){switch(l=Mn,E=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)x=o[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,d=l,x=E.memoizedProps,E=E.memoizedState,p=d.stateNode;try{var Ie=Dl(d.type,x);o=p.getSnapshotBeforeUpdate(Ie,E),p.__reactInternalSnapshotBeforeUpdate=o}catch(Le){gt(d,d.return,Le)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)wb(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":wb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Mn=o;break}Mn=l.return}}function zI(o,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:ro(o,d),p&4&&rd(5,d);break;case 1:if(ro(o,d),p&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(N){gt(d,d.return,N)}else{var x=Dl(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(N){gt(d,d.return,N)}}p&64&&DI(d),p&512&&id(d,d.return);break;case 3:if(ro(o,d),p&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{TC(o,l)}catch(N){gt(d,d.return,N)}}break;case 27:l===null&&p&4&&UI(d);case 26:case 5:ro(o,d),l===null&&p&4&&LI(d),p&512&&id(d,d.return);break;case 12:ro(o,d);break;case 31:ro(o,d),p&4&&BI(o,d);break;case 13:ro(o,d),p&4&&HI(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=zB.bind(null,d),o9(o,d))));break;case 22:if(p=d.memoizedState!==null||to,!p){l=l!==null&&l.memoizedState!==null||cn,x=to;var E=cn;to=p,(cn=l)&&!E?io(o,d,(d.subtreeFlags&8772)!==0):ro(o,d),to=x,cn=E}break;case 30:break;default:ro(o,d)}}function FI(o){var l=o.alternate;l!==null&&(o.alternate=null,FI(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Tu(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Dt=null,Er=!1;function no(o,l,d){for(d=d.child;d!==null;)qI(o,l,d),d=d.sibling}function qI(o,l,d){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Mi,d)}catch{}switch(d.tag){case 26:cn||Aa(d,l),no(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:cn||Aa(d,l);var p=Dt,x=Er;bs(d.type)&&(Dt=d.stateNode,Er=!1),no(o,l,d),hd(d.stateNode),Dt=p,Er=x;break;case 5:cn||Aa(d,l);case 6:if(p=Dt,x=Er,Dt=null,no(o,l,d),Dt=p,Er=x,Dt!==null)if(Er)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(d.stateNode)}catch(E){gt(d,l,E)}else try{Dt.removeChild(d.stateNode)}catch(E){gt(d,l,E)}break;case 18:Dt!==null&&(Er?(o=Dt,DN(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),lc(o)):DN(Dt,d.stateNode));break;case 4:p=Dt,x=Er,Dt=d.stateNode.containerInfo,Er=!0,no(o,l,d),Dt=p,Er=x;break;case 0:case 11:case 14:case 15:hs(2,d,l),cn||hs(4,d,l),no(o,l,d);break;case 1:cn||(Aa(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&OI(d,l,p)),no(o,l,d);break;case 21:no(o,l,d);break;case 22:cn=(p=cn)||d.memoizedState!==null,no(o,l,d),cn=p;break;default:no(o,l,d)}}function BI(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{lc(o)}catch(d){gt(l,l.return,d)}}}function HI(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{lc(o)}catch(d){gt(l,l.return,d)}}function MB(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new jI),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new jI),l;default:throw Error(r(435,o.tag))}}function bm(o,l){var d=MB(o);l.forEach(function(p){if(!d.has(p)){d.add(p);var x=FB.bind(null,o,p);p.then(x,x)}})}function Tr(o,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var x=d[p],E=o,N=l,z=N;e:for(;z!==null;){switch(z.tag){case 27:if(bs(z.type)){Dt=z.stateNode,Er=!1;break e}break;case 5:Dt=z.stateNode,Er=!1;break e;case 3:case 4:Dt=z.stateNode.containerInfo,Er=!0;break e}z=z.return}if(Dt===null)throw Error(r(160));qI(E,N,x),Dt=null,Er=!1,E=x.alternate,E!==null&&(E.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)GI(l,o),l=l.sibling}var qi=null;function GI(o,l){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Tr(l,o),Sr(o),p&4&&(hs(3,o,o.return),rd(3,o),hs(5,o,o.return));break;case 1:Tr(l,o),Sr(o),p&512&&(cn||d===null||Aa(d,d.return)),p&64&&to&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var x=qi;if(Tr(l,o),Sr(o),p&512&&(cn||d===null||Aa(d,d.return)),p&4){var E=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":E=x.getElementsByTagName("title")[0],(!E||E[da]||E[rn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=x.createElement(p),x.head.insertBefore(E,x.querySelector("head > title"))),Gn(E,p,d),E[rn]=o,an(E),p=E;break e;case"link":var N=GN("link","href",x).get(p+(d.href||""));if(N){for(var z=0;z<N.length;z++)if(E=N[z],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){N.splice(z,1);break t}}E=x.createElement(p),Gn(E,p,d),x.head.appendChild(E);break;case"meta":if(N=GN("meta","content",x).get(p+(d.content||""))){for(z=0;z<N.length;z++)if(E=N[z],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){N.splice(z,1);break t}}E=x.createElement(p),Gn(E,p,d),x.head.appendChild(E);break;default:throw Error(r(468,p))}E[rn]=o,an(E),p=E}o.stateNode=p}else $N(x,o.type,o.stateNode);else o.stateNode=HN(x,p,o.memoizedProps);else E!==p?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,p===null?$N(x,o.type,o.stateNode):HN(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&W_(o,o.memoizedProps,d.memoizedProps)}break;case 27:Tr(l,o),Sr(o),p&512&&(cn||d===null||Aa(d,d.return)),d!==null&&p&4&&W_(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Tr(l,o),Sr(o),p&512&&(cn||d===null||Aa(d,d.return)),o.flags&32){x=o.stateNode;try{wr(x,"")}catch(Ie){gt(o,o.return,Ie)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,W_(o,x,d!==null?d.memoizedProps:x)),p&1024&&(X_=!0);break;case 6:if(Tr(l,o),Sr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(Ie){gt(o,o.return,Ie)}}break;case 3:if(Lm=null,x=qi,qi=Dm(l.containerInfo),Tr(l,o),qi=x,Sr(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{lc(l.containerInfo)}catch(Ie){gt(o,o.return,Ie)}X_&&(X_=!1,$I(o));break;case 4:p=qi,qi=Dm(o.stateNode.containerInfo),Tr(l,o),Sr(o),qi=p;break;case 12:Tr(l,o),Sr(o);break;case 31:Tr(l,o),Sr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,bm(o,p)));break;case 13:Tr(l,o),Sr(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(wm=or()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,bm(o,p)));break;case 22:x=o.memoizedState!==null;var $=d!==null&&d.memoizedState!==null,ee=to,se=cn;if(to=ee||x,cn=se||$,Tr(l,o),cn=se,to=ee,Sr(o),p&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(d===null||$||to||cn||Ol(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){$=d=l;try{if(E=$.stateNode,x)N=E.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{z=$.stateNode;var ce=$.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;z.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ie){gt($,$.return,Ie)}}}else if(l.tag===6){if(d===null){$=l;try{$.stateNode.nodeValue=x?"":$.memoizedProps}catch(Ie){gt($,$.return,Ie)}}}else if(l.tag===18){if(d===null){$=l;try{var ie=$.stateNode;x?ON(ie,!0):ON($.stateNode,!1)}catch(Ie){gt($,$.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,bm(o,d))));break;case 19:Tr(l,o),Sr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,bm(o,p)));break;case 30:break;case 21:break;default:Tr(l,o),Sr(o)}}function Sr(o){var l=o.flags;if(l&2){try{for(var d,p=o.return;p!==null;){if(VI(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,E=Y_(o);_m(o,E,x);break;case 5:var N=d.stateNode;d.flags&32&&(wr(N,""),d.flags&=-33);var z=Y_(o);_m(o,z,N);break;case 3:case 4:var $=d.stateNode.containerInfo,ee=Y_(o);J_(o,ee,$);break;default:throw Error(r(161))}}catch(se){gt(o,o.return,se)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function $I(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;$I(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ro(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)zI(o,l.alternate,l),l=l.sibling}function Ol(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:hs(4,l,l.return),Ol(l);break;case 1:Aa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&OI(l,l.return,d),Ol(l);break;case 27:hd(l.stateNode);case 26:case 5:Aa(l,l.return),Ol(l);break;case 22:l.memoizedState===null&&Ol(l);break;case 30:Ol(l);break;default:Ol(l)}o=o.sibling}}function io(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,x=o,E=l,N=E.flags;switch(E.tag){case 0:case 11:case 15:io(x,E,d),rd(4,E);break;case 1:if(io(x,E,d),p=E,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ee){gt(p,p.return,ee)}if(p=E,x=p.updateQueue,x!==null){var z=p.stateNode;try{var $=x.shared.hiddenCallbacks;if($!==null)for(x.shared.hiddenCallbacks=null,x=0;x<$.length;x++)EC($[x],z)}catch(ee){gt(p,p.return,ee)}}d&&N&64&&DI(E),id(E,E.return);break;case 27:UI(E);case 26:case 5:io(x,E,d),d&&p===null&&N&4&&LI(E),id(E,E.return);break;case 12:io(x,E,d);break;case 31:io(x,E,d),d&&N&4&&BI(x,E);break;case 13:io(x,E,d),d&&N&4&&HI(x,E);break;case 22:E.memoizedState===null&&io(x,E,d),id(E,E.return);break;case 30:break;default:io(x,E,d)}l=l.sibling}}function Q_(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Hf(d))}function Z_(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Hf(o))}function Bi(o,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)KI(o,l,d,p),l=l.sibling}function KI(o,l,d,p){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Bi(o,l,d,p),x&2048&&rd(9,l);break;case 1:Bi(o,l,d,p);break;case 3:Bi(o,l,d,p),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Hf(o)));break;case 12:if(x&2048){Bi(o,l,d,p),o=l.stateNode;try{var E=l.memoizedProps,N=E.id,z=E.onPostCommit;typeof z=="function"&&z(N,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch($){gt(l,l.return,$)}}else Bi(o,l,d,p);break;case 31:Bi(o,l,d,p);break;case 13:Bi(o,l,d,p);break;case 23:break;case 22:E=l.stateNode,N=l.alternate,l.memoizedState!==null?E._visibility&2?Bi(o,l,d,p):ad(o,l):E._visibility&2?Bi(o,l,d,p):(E._visibility|=2,Xu(o,l,d,p,(l.subtreeFlags&10256)!==0||!1)),x&2048&&Q_(N,l);break;case 24:Bi(o,l,d,p),x&2048&&Z_(l.alternate,l);break;default:Bi(o,l,d,p)}}function Xu(o,l,d,p,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=o,N=l,z=d,$=p,ee=N.flags;switch(N.tag){case 0:case 11:case 15:Xu(E,N,z,$,x),rd(8,N);break;case 23:break;case 22:var se=N.stateNode;N.memoizedState!==null?se._visibility&2?Xu(E,N,z,$,x):ad(E,N):(se._visibility|=2,Xu(E,N,z,$,x)),x&&ee&2048&&Q_(N.alternate,N);break;case 24:Xu(E,N,z,$,x),x&&ee&2048&&Z_(N.alternate,N);break;default:Xu(E,N,z,$,x)}l=l.sibling}}function ad(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,p=l,x=p.flags;switch(p.tag){case 22:ad(d,p),x&2048&&Q_(p.alternate,p);break;case 24:ad(d,p),x&2048&&Z_(p.alternate,p);break;default:ad(d,p)}l=l.sibling}}var od=8192;function Qu(o,l,d){if(o.subtreeFlags&od)for(o=o.child;o!==null;)WI(o,l,d),o=o.sibling}function WI(o,l,d){switch(o.tag){case 26:Qu(o,l,d),o.flags&od&&o.memoizedState!==null&&v9(d,qi,o.memoizedState,o.memoizedProps);break;case 5:Qu(o,l,d);break;case 3:case 4:var p=qi;qi=Dm(o.stateNode.containerInfo),Qu(o,l,d),qi=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=od,od=16777216,Qu(o,l,d),od=p):Qu(o,l,d));break;default:Qu(o,l,d)}}function YI(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function sd(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Mn=p,XI(p,o)}YI(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)JI(o),o=o.sibling}function JI(o){switch(o.tag){case 0:case 11:case 15:sd(o),o.flags&2048&&hs(9,o,o.return);break;case 3:sd(o);break;case 12:sd(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,xm(o)):sd(o);break;default:sd(o)}}function xm(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Mn=p,XI(p,o)}YI(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:hs(8,l,l.return),xm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,xm(l));break;default:xm(l)}o=o.sibling}}function XI(o,l){for(;Mn!==null;){var d=Mn;switch(d.tag){case 0:case 11:case 15:hs(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Hf(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Mn=p;else e:for(d=o;Mn!==null;){p=Mn;var x=p.sibling,E=p.return;if(FI(p),p===d){Mn=null;break e}if(x!==null){x.return=E,Mn=x;break e}Mn=E}}}var kB={getCacheForType:function(o){var l=Bn(sn),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return Bn(sn).controller.signal}},DB=typeof WeakMap=="function"?WeakMap:Map,ut=0,Tt=null,Ke=null,Ye=0,mt=0,$r=null,ps=!1,Zu=!1,eb=!1,ao=0,qt=0,ms=0,Ll=0,tb=0,Kr=0,ec=0,ld=null,Ar=null,nb=!1,wm=0,QI=0,Em=1/0,Tm=null,gs=null,xn=0,ys=null,tc=null,oo=0,rb=0,ib=null,ZI=null,ud=0,ab=null;function Wr(){return(ut&2)!==0&&Ye!==0?Ye&-Ye:J.T!==null?fb():Sp()}function eN(){if(Kr===0)if((Ye&536870912)===0||et){var o=ul;ul<<=1,(ul&3932160)===0&&(ul=262144),Kr=o}else Kr=536870912;return o=Hr.current,o!==null&&(o.flags|=32),Kr}function Cr(o,l,d){(o===Tt&&(mt===2||mt===9)||o.cancelPendingCommit!==null)&&(nc(o,0),vs(o,Ye,Kr,!1)),cl(o,d),((ut&2)===0||o!==Tt)&&(o===Tt&&((ut&2)===0&&(Ll|=d),qt===4&&vs(o,Ye,Kr,!1)),Ca(o))}function tN(o,l,d){if((ut&6)!==0)throw Error(r(327));var p=!d&&(l&127)===0&&(l&o.expiredLanes)===0||ki(o,l),x=p?VB(o,l):sb(o,l,!0),E=p;do{if(x===0){Zu&&!p&&vs(o,l,0,!1);break}else{if(d=o.current.alternate,E&&!OB(d)){x=sb(o,l,!1),E=!1;continue}if(x===2){if(E=l,o.errorRecoveryDisabledLanes&E)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var z=o;x=ld;var $=z.current.memoizedState.isDehydrated;if($&&(nc(z,N).flags|=256),N=sb(z,N,!1),N!==2){if(eb&&!$){z.errorRecoveryDisabledLanes|=E,Ll|=E,x=4;break e}E=Ar,Ar=x,E!==null&&(Ar===null?Ar=E:Ar.push.apply(Ar,E))}x=N}if(E=!1,x!==2)continue}}if(x===1){nc(o,0),vs(o,l,0,!0);break}e:{switch(p=o,E=x,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:vs(p,l,Kr,!ps);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=wm+300-or(),10<x)){if(vs(p,l,Kr,!ps),ua(p,0,!0)!==0)break e;oo=l,p.timeoutHandle=MN(nN.bind(null,p,d,Ar,Tm,nb,l,Kr,Ll,ec,ps,E,"Throttled",-0,0),x);break e}nN(p,d,Ar,Tm,nb,l,Kr,Ll,ec,ps,E,null,-0,0)}}break}while(!0);Ca(o)}function nN(o,l,d,p,x,E,N,z,$,ee,se,ce,te,ie){if(o.timeoutHandle=-1,ce=l.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},WI(l,E,ce);var Ie=(E&62914560)===E?wm-or():(E&4194048)===E?QI-or():0;if(Ie=_9(ce,Ie),Ie!==null){oo=E,o.cancelPendingCommit=Ie(cN.bind(null,o,l,E,d,p,x,N,z,$,se,ce,null,te,ie)),vs(o,E,N,!ee);return}}cN(o,l,E,d,p,x,N,z,$)}function OB(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var x=d[p],E=x.getSnapshot;x=x.value;try{if(!qr(E(),x))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function vs(o,l,d,p){l&=~tb,l&=~Ll,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var x=l;0<x;){var E=31-Gt(x),N=1<<E;p[E]=-1,x&=~N}d!==0&&fl(o,d,l)}function Sm(){return(ut&6)===0?(cd(0),!1):!0}function ob(){if(Ke!==null){if(mt===0)var o=Ke.return;else o=Ke,Ya=Cl=null,w_(o),$u=null,$f=0,o=Ke;for(;o!==null;)kI(o.alternate,o),o=o.return;Ke=null}}function nc(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,t9(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),oo=0,ob(),Tt=o,Ke=d=Ka(o.current,null),Ye=l,mt=0,$r=null,ps=!1,Zu=ki(o,l),eb=!1,ec=Kr=tb=Ll=ms=qt=0,Ar=ld=null,nb=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var x=31-Gt(p),E=1<<x;l|=o[x],p&=~E}return ao=l,$p(),d}function rN(o,l){He=null,J.H=ed,l===Gu||l===em?(l=_C(),mt=3):l===c_?(l=_C(),mt=4):mt=l===U_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,$r=l,Ke===null&&(qt=1,pm(o,fi(l,o.current)))}function iN(){var o=Hr.current;return o===null?!0:(Ye&4194048)===Ye?mi===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?o===mi:!1}function aN(){var o=J.H;return J.H=ed,o===null?ed:o}function oN(){var o=J.A;return J.A=kB,o}function Am(){qt=4,ps||(Ye&4194048)!==Ye&&Hr.current!==null||(Zu=!0),(ms&134217727)===0&&(Ll&134217727)===0||Tt===null||vs(Tt,Ye,Kr,!1)}function sb(o,l,d){var p=ut;ut|=2;var x=aN(),E=oN();(Tt!==o||Ye!==l)&&(Tm=null,nc(o,l)),l=!1;var N=qt;e:do try{if(mt!==0&&Ke!==null){var z=Ke,$=$r;switch(mt){case 8:ob(),N=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(l=!0);var ee=mt;if(mt=0,$r=null,rc(o,z,$,ee),d&&Zu){N=0;break e}break;default:ee=mt,mt=0,$r=null,rc(o,z,$,ee)}}LB(),N=qt;break}catch(se){rN(o,se)}while(!0);return l&&o.shellSuspendCounter++,Ya=Cl=null,ut=p,J.H=x,J.A=E,Ke===null&&(Tt=null,Ye=0,$p()),N}function LB(){for(;Ke!==null;)sN(Ke)}function VB(o,l){var d=ut;ut|=2;var p=aN(),x=oN();Tt!==o||Ye!==l?(Tm=null,Em=or()+500,nc(o,l)):Zu=ki(o,l);e:do try{if(mt!==0&&Ke!==null){l=Ke;var E=$r;t:switch(mt){case 1:mt=0,$r=null,rc(o,l,E,1);break;case 2:case 9:if(yC(E)){mt=0,$r=null,lN(l);break}l=function(){mt!==2&&mt!==9||Tt!==o||(mt=7),Ca(o)},E.then(l,l);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:yC(E)?(mt=0,$r=null,lN(l)):(mt=0,$r=null,rc(o,l,E,7));break;case 5:var N=null;switch(Ke.tag){case 26:N=Ke.memoizedState;case 5:case 27:var z=Ke;if(N?KN(N):z.stateNode.complete){mt=0,$r=null;var $=z.sibling;if($!==null)Ke=$;else{var ee=z.return;ee!==null?(Ke=ee,Cm(ee)):Ke=null}break t}}mt=0,$r=null,rc(o,l,E,5);break;case 6:mt=0,$r=null,rc(o,l,E,6);break;case 8:ob(),qt=6;break e;default:throw Error(r(462))}}UB();break}catch(se){rN(o,se)}while(!0);return Ya=Cl=null,J.H=p,J.A=x,ut=d,Ke!==null?0:(Tt=null,Ye=0,$p(),qt)}function UB(){for(;Ke!==null&&!V0();)sN(Ke)}function sN(o){var l=RI(o.alternate,o,ao);o.memoizedProps=o.pendingProps,l===null?Cm(o):Ke=l}function lN(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=SI(d,l,l.pendingProps,l.type,void 0,Ye);break;case 11:l=SI(d,l,l.pendingProps,l.type.render,l.ref,Ye);break;case 5:w_(l);default:kI(d,l),l=Ke=oC(l,ao),l=RI(d,l,ao)}o.memoizedProps=o.pendingProps,l===null?Cm(o):Ke=l}function rc(o,l,d,p){Ya=Cl=null,w_(l),$u=null,$f=0;var x=l.return;try{if(AB(o,x,l,d,Ye)){qt=1,pm(o,fi(d,o.current)),Ke=null;return}}catch(E){if(x!==null)throw Ke=x,E;qt=1,pm(o,fi(d,o.current)),Ke=null;return}l.flags&32768?(et||p===1?o=!0:Zu||(Ye&536870912)!==0?o=!1:(ps=o=!0,(p===2||p===9||p===3||p===6)&&(p=Hr.current,p!==null&&p.tag===13&&(p.flags|=16384))),uN(l,o)):Cm(l)}function Cm(o){var l=o;do{if((l.flags&32768)!==0){uN(l,ps);return}o=l.return;var d=NB(l.alternate,l,ao);if(d!==null){Ke=d;return}if(l=l.sibling,l!==null){Ke=l;return}Ke=l=o}while(l!==null);qt===0&&(qt=5)}function uN(o,l){do{var d=PB(o.alternate,o);if(d!==null){d.flags&=32767,Ke=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){Ke=o;return}Ke=o=d}while(o!==null);qt=6,Ke=null}function cN(o,l,d,p,x,E,N,z,$){o.cancelPendingCommit=null;do Im();while(xn!==0);if((ut&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=Y0,z0(o,d,E,N,z,$),o===Tt&&(Ke=Tt=null,Ye=0),tc=l,ys=o,oo=d,rb=E,ib=x,ZI=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,qB(Wo,function(){return mN(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=J.T,J.T=null,x=X.p,X.p=2,N=ut,ut|=4;try{RB(o,l,d)}finally{ut=N,X.p=x,J.T=p}}xn=1,fN(),dN(),hN()}}function fN(){if(xn===1){xn=0;var o=ys,l=tc,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=J.T,J.T=null;var p=X.p;X.p=2;var x=ut;ut|=4;try{GI(l,o);var E=_b,N=XA(o.containerInfo),z=E.focusedElem,$=E.selectionRange;if(N!==z&&z&&z.ownerDocument&&JA(z.ownerDocument.documentElement,z)){if($!==null&&H0(z)){var ee=$.start,se=$.end;if(se===void 0&&(se=ee),"selectionStart"in z)z.selectionStart=ee,z.selectionEnd=Math.min(se,z.value.length);else{var ce=z.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ie=z.textContent.length,Le=Math.min($.start,Ie),xt=$.end===void 0?Le:Math.min($.end,Ie);!ie.extend&&Le>xt&&(N=xt,xt=Le,Le=N);var Y=YA(z,Le),W=YA(z,xt);if(Y&&W&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==W.node||ie.focusOffset!==W.offset)){var Z=ce.createRange();Z.setStart(Y.node,Y.offset),ie.removeAllRanges(),Le>xt?(ie.addRange(Z),ie.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ie.addRange(Z))}}}}for(ce=[],ie=z;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ce.length;z++){var le=ce[z];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}zm=!!vb,_b=vb=null}finally{ut=x,X.p=p,J.T=d}}o.current=l,xn=2}}function dN(){if(xn===2){xn=0;var o=ys,l=tc,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=J.T,J.T=null;var p=X.p;X.p=2;var x=ut;ut|=4;try{zI(o,l.alternate,l)}finally{ut=x,X.p=p,J.T=d}}xn=3}}function hN(){if(xn===4||xn===3){xn=0,vp();var o=ys,l=tc,d=oo,p=ZI;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?xn=5:(xn=0,tc=ys=null,pN(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(gs=null),Ba(d),l=l.stateNode,zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Mi,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=J.T,x=X.p,X.p=2,J.T=null;try{for(var E=o.onRecoverableError,N=0;N<p.length;N++){var z=p[N];E(z.value,{componentStack:z.stack})}}finally{J.T=l,X.p=x}}(oo&3)!==0&&Im(),Ca(o),x=o.pendingLanes,(d&261930)!==0&&(x&42)!==0?o===ab?ud++:(ud=0,ab=o):ud=0,cd(0)}}function pN(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Hf(l)))}function Im(){return fN(),dN(),hN(),mN()}function mN(){if(xn!==5)return!1;var o=ys,l=rb;rb=0;var d=Ba(oo),p=J.T,x=X.p;try{X.p=32>d?32:d,J.T=null,d=ib,ib=null;var E=ys,N=oo;if(xn=0,tc=ys=null,oo=0,(ut&6)!==0)throw Error(r(331));var z=ut;if(ut|=4,JI(E.current),KI(E,E.current,N,d),ut=z,cd(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Mi,E)}catch{}return!0}finally{X.p=x,J.T=p,pN(o,l)}}function gN(o,l,d){l=fi(d,l),l=V_(o.stateNode,l,2),o=cs(o,l,2),o!==null&&(cl(o,2),Ca(o))}function gt(o,l,d){if(o.tag===3)gN(o,o,d);else for(;l!==null;){if(l.tag===3){gN(l,o,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(gs===null||!gs.has(p))){o=fi(d,o),d=yI(2),p=cs(l,d,2),p!==null&&(vI(d,p,l,o),cl(p,2),Ca(p));break}}l=l.return}}function lb(o,l,d){var p=o.pingCache;if(p===null){p=o.pingCache=new DB;var x=new Set;p.set(l,x)}else x=p.get(l),x===void 0&&(x=new Set,p.set(l,x));x.has(d)||(eb=!0,x.add(d),o=jB.bind(null,o,l,d),l.then(o,o))}function jB(o,l,d){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Tt===o&&(Ye&d)===d&&(qt===4||qt===3&&(Ye&62914560)===Ye&&300>or()-wm?(ut&2)===0&&nc(o,0):tb|=d,ec===Ye&&(ec=0)),Ca(o)}function yN(o,l){l===0&&(l=Tp()),o=Tl(o,l),o!==null&&(cl(o,l),Ca(o))}function zB(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),yN(o,d)}function FB(o,l){var d=0;switch(o.tag){case 31:case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),yN(o,d)}function qB(o,l){return bn(o,l)}var Nm=null,ic=null,ub=!1,Pm=!1,cb=!1,_s=0;function Ca(o){o!==ic&&o.next===null&&(ic===null?Nm=ic=o:ic=ic.next=o),Pm=!0,ub||(ub=!0,HB())}function cd(o,l){if(!cb&&Pm){cb=!0;do for(var d=!1,p=Nm;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var E=0;else{var N=p.suspendedLanes,z=p.pingedLanes;E=(1<<31-Gt(42|o)+1)-1,E&=x&~(N&~z),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,xN(p,E))}else E=Ye,E=ua(p,p===Tt?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||ki(p,E)||(d=!0,xN(p,E));p=p.next}while(d);cb=!1}}function BB(){vN()}function vN(){Pm=ub=!1;var o=0;_s!==0&&e9()&&(o=_s);for(var l=or(),d=null,p=Nm;p!==null;){var x=p.next,E=_N(p,l);E===0?(p.next=null,d===null?Nm=x:d.next=x,x===null&&(ic=d)):(d=p,(o!==0||(E&3)!==0)&&(Pm=!0)),p=x}xn!==0&&xn!==5||cd(o),_s!==0&&(_s=0)}function _N(o,l){for(var d=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var N=31-Gt(E),z=1<<N,$=x[N];$===-1?((z&d)===0||(z&p)!==0)&&(x[N]=j0(z,l)):$<=l&&(o.expiredLanes|=z),E&=~z}if(l=Tt,d=Ye,d=ua(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===l&&(mt===2||mt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Ko(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||ki(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(p!==null&&Ko(p),Ba(d)){case 2:case 8:d=bf;break;case 32:d=Wo;break;case 268435456:d=_p;break;default:d=Wo}return p=bN.bind(null,o),d=bn(d,p),o.callbackPriority=l,o.callbackNode=d,l}return p!==null&&p!==null&&Ko(p),o.callbackPriority=2,o.callbackNode=null,2}function bN(o,l){if(xn!==0&&xn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Im()&&o.callbackNode!==d)return null;var p=Ye;return p=ua(o,o===Tt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(tN(o,p,l),_N(o,or()),o.callbackNode!=null&&o.callbackNode===d?bN.bind(null,o):null)}function xN(o,l){if(Im())return null;tN(o,l,!0)}function HB(){n9(function(){(ut&6)!==0?bn(_f,BB):vN()})}function fb(){if(_s===0){var o=Bu;o===0&&(o=sa,sa<<=1,(sa&261888)===0&&(sa=256)),_s=o}return _s}function wN(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Iu(""+o)}function EN(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function GB(o,l,d,p,x){if(l==="submit"&&d&&d.stateNode===x){var E=wN((x[Pn]||null).action),N=p.submitter;N&&(l=(l=N[Pn]||null)?wN(l.formAction):N.getAttribute("formAction"),l!==null&&(E=l,N=null));var z=new ba("action","action",null,p,x);o.push({event:z,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(_s!==0){var $=N?EN(x,N):new FormData(x);R_(d,{pending:!0,data:$,method:x.method,action:E},null,$)}}else typeof E=="function"&&(z.preventDefault(),$=N?EN(x,N):new FormData(x),R_(d,{pending:!0,data:$,method:x.method,action:E},E,$))},currentTarget:x}]})}}for(var db=0;db<W0.length;db++){var hb=W0[db],$B=hb.toLowerCase(),KB=hb[0].toUpperCase()+hb.slice(1);Fi($B,"on"+KB)}Fi(eC,"onAnimationEnd"),Fi(tC,"onAnimationIteration"),Fi(nC,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(uB,"onTransitionRun"),Fi(cB,"onTransitionStart"),Fi(fB,"onTransitionCancel"),Fi(rC,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fd));function TN(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],x=p.event;p=p.listeners;e:{var E=void 0;if(l)for(var N=p.length-1;0<=N;N--){var z=p[N],$=z.instance,ee=z.currentTarget;if(z=z.listener,$!==E&&x.isPropagationStopped())break e;E=z,x.currentTarget=ee;try{E(x)}catch(se){Gp(se)}x.currentTarget=null,E=$}else for(N=0;N<p.length;N++){if(z=p[N],$=z.instance,ee=z.currentTarget,z=z.listener,$!==E&&x.isPropagationStopped())break e;E=z,x.currentTarget=ee;try{E(x)}catch(se){Gp(se)}x.currentTarget=null,E=$}}}}function We(o,l){var d=l[Eu];d===void 0&&(d=l[Eu]=new Set);var p=o+"__bubble";d.has(p)||(SN(l,o,2,!1),d.add(p))}function pb(o,l,d){var p=0;l&&(p|=4),SN(d,o,p,l)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function mb(o){if(!o[Rm]){o[Rm]=!0,Ef.forEach(function(d){d!=="selectionchange"&&(WB.has(d)||pb(d,!1,o),pb(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Rm]||(l[Rm]=!0,pb("selectionchange",!1,l))}}function SN(o,l,d,p){switch(eP(l)){case 2:var x=w9;break;case 8:x=E9;break;default:x=Pb}d=x.bind(null,l,d,o),x=void 0,!gl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(l,d,{capture:!0,passive:x}):o.addEventListener(l,d,!0):x!==void 0?o.addEventListener(l,d,{passive:x}):o.addEventListener(l,d,!1)}function gb(o,l,d,p,x){var E=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var z=p.stateNode.containerInfo;if(z===x)break;if(N===4)for(N=p.return;N!==null;){var $=N.tag;if(($===3||$===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;z!==null;){if(N=ha(z),N===null)return;if($=N.tag,$===5||$===6||$===26||$===27){p=E=N;continue e}z=z.parentNode}}p=p.return}es(function(){var ee=E,se=si(d),ce=[];e:{var te=iC.get(o);if(te!==void 0){var ie=ba,Ie=o;switch(o){case"keypress":if(vl(d)===0)break e;case"keydown":case"keyup":ie=qp;break;case"focusin":Ie="focus",ie=bl;break;case"focusout":Ie="blur",ie=bl;break;case"beforeblur":case"afterblur":ie=bl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=I;break;case eC:case tC:case nC:ie=Op;break;case rC:ie=B;break;case"scroll":case"scrollend":ie=Of;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=Lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=$a;break;case"toggle":case"beforetoggle":ie=Be}var Le=(l&4)!==0,xt=!Le&&(o==="scroll"||o==="scrollend"),Y=Le?te!==null?te+"Capture":null:te;Le=[];for(var W=ee,Z;W!==null;){var le=W;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||Y===null||(le=Vi(W,Y),le!=null&&Le.push(dd(W,le,Z))),xt)break;W=W.return}0<Le.length&&(te=new ie(te,Ie,null,d,se),ce.push({event:te,listeners:Le}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ie=o==="mouseout"||o==="pointerout",te&&d!==Mf&&(Ie=d.relatedTarget||d.fromElement)&&(ha(Ie)||Ie[fa]))break e;if((ie||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ie=d.relatedTarget||d.toElement,ie=ee,Ie=Ie?ha(Ie):null,Ie!==null&&(xt=a(Ie),Le=Ie.tag,Ie!==xt||Le!==5&&Le!==27&&Le!==6)&&(Ie=null)):(ie=null,Ie=ee),ie!==Ie)){if(Le=Lf,le="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Le=$a,le="onPointerLeave",Y="onPointerEnter",W="pointer"),xt=ie==null?te:zr(ie),Z=Ie==null?te:zr(Ie),te=new Le(le,W+"leave",ie,d,se),te.target=xt,te.relatedTarget=Z,le=null,ha(se)===ee&&(Le=new Le(Y,W+"enter",Ie,d,se),Le.target=Z,Le.relatedTarget=xt,le=Le),xt=le,ie&&Ie)t:{for(Le=YB,Y=ie,W=Ie,Z=0,le=Y;le;le=Le(le))Z++;le=0;for(var ke=W;ke;ke=Le(ke))le++;for(;0<Z-le;)Y=Le(Y),Z--;for(;0<le-Z;)W=Le(W),le--;for(;Z--;){if(Y===W||W!==null&&Y===W.alternate){Le=Y;break t}Y=Le(Y),W=Le(W)}Le=null}else Le=null;ie!==null&&AN(ce,te,ie,Le,!1),Ie!==null&&xt!==null&&AN(ce,xt,Ie,Le,!0)}}e:{if(te=ee?zr(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var it=BA;else if(FA(te))if(HA)it=oB;else{it=iB;var Pe=rB}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Cu(ee.elementType)&&(it=BA):it=aB;if(it&&(it=it(o,ee))){qA(ce,it,d,se);break e}Pe&&Pe(o,te,ee),o==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Nf(te,"number",te.value)}switch(Pe=ee?zr(ee):window,o){case"focusin":(FA(Pe)||Pe.contentEditable==="true")&&(Ou=Pe,G0=ee,Ff=null);break;case"focusout":Ff=G0=Ou=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,QA(ce,d,se);break;case"selectionchange":if(lB)break;case"keydown":case"keyup":QA(ce,d,se)}var Ge;if(lt)e:{switch(o){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Du?xl(o,d)&&(Je="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Je="onCompositionStart");Je&&(Ea&&d.locale!=="ko"&&(Du||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Du&&(Ge=Df()):(_a=se,kf="value"in _a?_a.value:_a.textContent,Du=!0)),Pe=Mm(ee,Je),0<Pe.length&&(Je=new wa(Je,o,null,d,se),ce.push({event:Je,listeners:Pe}),Ge?Je.data=Ge:(Ge=ku(d),Ge!==null&&(Je.data=Ge)))),(Ge=ui?Zq(o,d):eB(o,d))&&(Je=Mm(ee,"onBeforeInput"),0<Je.length&&(Pe=new wa("onBeforeInput","beforeinput",null,d,se),ce.push({event:Pe,listeners:Je}),Pe.data=Ge)),GB(ce,o,ee,d,se)}TN(ce,l)})}function dd(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Mm(o,l){for(var d=l+"Capture",p=[];o!==null;){var x=o,E=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||E===null||(x=Vi(o,d),x!=null&&p.unshift(dd(o,x,E)),x=Vi(o,l),x!=null&&p.push(dd(o,x,E))),o.tag===3)return p;o=o.return}return[]}function YB(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function AN(o,l,d,p,x){for(var E=l._reactName,N=[];d!==null&&d!==p;){var z=d,$=z.alternate,ee=z.stateNode;if(z=z.tag,$!==null&&$===p)break;z!==5&&z!==26&&z!==27||ee===null||($=ee,x?(ee=Vi(d,E),ee!=null&&N.unshift(dd(d,ee,$))):x||(ee=Vi(d,E),ee!=null&&N.push(dd(d,ee,$)))),d=d.return}N.length!==0&&o.push({event:l,listeners:N})}var JB=/\r\n?/g,XB=/\u0000|\uFFFD/g;function CN(o){return(typeof o=="string"?o:""+o).replace(JB,`
`).replace(XB,"")}function IN(o,l){return l=CN(l),CN(o)===l}function bt(o,l,d,p,x,E){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||wr(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&wr(o,""+p);break;case"className":Fr(o,"class",p);break;case"tabIndex":Fr(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(o,d,p);break;case"style":Rf(o,p,E);break;case"data":if(l!=="object"){Fr(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Iu(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(l!=="input"&&bt(o,l,"name",x.name,x,null),bt(o,l,"formEncType",x.formEncType,x,null),bt(o,l,"formMethod",x.formMethod,x,null),bt(o,l,"formTarget",x.formTarget,x,null)):(bt(o,l,"encType",x.encType,x,null),bt(o,l,"method",x.method,x,null),bt(o,l,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Iu(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=Li);break;case"onScroll":p!=null&&We("scroll",o);break;case"onScrollEnd":p!=null&&We("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=Iu(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":We("beforetoggle",o),We("toggle",o),Su(o,"popover",p);break;case"xlinkActuate":on(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":on(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":on(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":on(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":on(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":on(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":on(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":on(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":on(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Su(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Mp.get(d)||d,Su(o,d,p))}}function yb(o,l,d,p,x,E){switch(d){case"style":Rf(o,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof p=="string"?wr(o,p):(typeof p=="number"||typeof p=="bigint")&&wr(o,""+p);break;case"onScroll":p!=null&&We("scroll",o);break;case"onScrollEnd":p!=null&&We("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),l=d.slice(2,x?d.length-7:void 0),E=o[Pn]||null,E=E!=null?E[d]:null,typeof E=="function"&&o.removeEventListener(l,E,x),typeof p=="function")){typeof E!="function"&&E!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,p,x);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):Su(o,d,p)}}}function Gn(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",o),We("load",o);var p=!1,x=!1,E;for(E in d)if(d.hasOwnProperty(E)){var N=d[E];if(N!=null)switch(E){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,E,N,d,null)}}x&&bt(o,l,"srcSet",d.srcSet,d,null),p&&bt(o,l,"src",d.src,d,null);return;case"input":We("invalid",o);var z=E=N=x=null,$=null,ee=null;for(p in d)if(d.hasOwnProperty(p)){var se=d[p];if(se!=null)switch(p){case"name":x=se;break;case"type":N=se;break;case"checked":$=se;break;case"defaultChecked":ee=se;break;case"value":E=se;break;case"defaultValue":z=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:bt(o,l,p,se,d,null)}}Np(o,E,z,$,ee,N,x,!1);return;case"select":We("invalid",o),p=N=E=null;for(x in d)if(d.hasOwnProperty(x)&&(z=d[x],z!=null))switch(x){case"value":E=z;break;case"defaultValue":N=z;break;case"multiple":p=z;default:bt(o,l,x,z,d,null)}l=E,d=N,o.multiple=!!p,l!=null?Jo(o,!!p,l,!1):d!=null&&Jo(o,!!p,d,!0);return;case"textarea":We("invalid",o),E=x=p=null;for(N in d)if(d.hasOwnProperty(N)&&(z=d[N],z!=null))switch(N){case"value":p=z;break;case"defaultValue":x=z;break;case"children":E=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:bt(o,l,N,z,d,null)}Xo(o,p,x,E);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(p=d[$],p!=null))switch($){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:bt(o,l,$,p,d,null)}return;case"dialog":We("beforetoggle",o),We("toggle",o),We("cancel",o),We("close",o);break;case"iframe":case"object":We("load",o);break;case"video":case"audio":for(p=0;p<fd.length;p++)We(fd[p],o);break;case"image":We("error",o),We("load",o);break;case"details":We("toggle",o);break;case"embed":case"source":case"link":We("error",o),We("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(p=d[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,ee,p,d,null)}return;default:if(Cu(l)){for(se in d)d.hasOwnProperty(se)&&(p=d[se],p!==void 0&&yb(o,l,se,p,d,void 0));return}}for(z in d)d.hasOwnProperty(z)&&(p=d[z],p!=null&&bt(o,l,z,p,d,null))}function QB(o,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,E=null,N=null,z=null,$=null,ee=null,se=null;for(ie in d){var ce=d[ie];if(d.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":$=ce;default:p.hasOwnProperty(ie)||bt(o,l,ie,null,p,ce)}}for(var te in p){var ie=p[te];if(ce=d[te],p.hasOwnProperty(te)&&(ie!=null||ce!=null))switch(te){case"type":E=ie;break;case"name":x=ie;break;case"checked":ee=ie;break;case"defaultChecked":se=ie;break;case"value":N=ie;break;case"defaultValue":z=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:ie!==ce&&bt(o,l,te,ie,p,ce)}}Au(o,N,z,$,ee,se,E,x);return;case"select":ie=N=z=te=null;for(E in d)if($=d[E],d.hasOwnProperty(E)&&$!=null)switch(E){case"value":break;case"multiple":ie=$;default:p.hasOwnProperty(E)||bt(o,l,E,null,p,$)}for(x in p)if(E=p[x],$=d[x],p.hasOwnProperty(x)&&(E!=null||$!=null))switch(x){case"value":te=E;break;case"defaultValue":z=E;break;case"multiple":N=E;default:E!==$&&bt(o,l,x,E,p,$)}l=z,d=N,p=ie,te!=null?Jo(o,!!d,te,!1):!!p!=!!d&&(l!=null?Jo(o,!!d,l,!0):Jo(o,!!d,d?[]:"",!1));return;case"textarea":ie=te=null;for(z in d)if(x=d[z],d.hasOwnProperty(z)&&x!=null&&!p.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:bt(o,l,z,null,p,x)}for(N in p)if(x=p[N],E=d[N],p.hasOwnProperty(N)&&(x!=null||E!=null))switch(N){case"value":te=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==E&&bt(o,l,N,x,p,E)}Pp(o,te,ie);return;case"option":for(var Ie in d)if(te=d[Ie],d.hasOwnProperty(Ie)&&te!=null&&!p.hasOwnProperty(Ie))switch(Ie){case"selected":o.selected=!1;break;default:bt(o,l,Ie,null,p,te)}for($ in p)if(te=p[$],ie=d[$],p.hasOwnProperty($)&&te!==ie&&(te!=null||ie!=null))switch($){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:bt(o,l,$,te,p,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in d)te=d[Le],d.hasOwnProperty(Le)&&te!=null&&!p.hasOwnProperty(Le)&&bt(o,l,Le,null,p,te);for(ee in p)if(te=p[ee],ie=d[ee],p.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:bt(o,l,ee,te,p,ie)}return;default:if(Cu(l)){for(var xt in d)te=d[xt],d.hasOwnProperty(xt)&&te!==void 0&&!p.hasOwnProperty(xt)&&yb(o,l,xt,void 0,p,te);for(se in p)te=p[se],ie=d[se],!p.hasOwnProperty(se)||te===ie||te===void 0&&ie===void 0||yb(o,l,se,te,p,ie);return}}for(var Y in d)te=d[Y],d.hasOwnProperty(Y)&&te!=null&&!p.hasOwnProperty(Y)&&bt(o,l,Y,null,p,te);for(ce in p)te=p[ce],ie=d[ce],!p.hasOwnProperty(ce)||te===ie||te==null&&ie==null||bt(o,l,ce,te,p,ie)}function NN(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZB(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var x=d[p],E=x.transferSize,N=x.initiatorType,z=x.duration;if(E&&z&&NN(N)){for(N=0,z=x.responseEnd,p+=1;p<d.length;p++){var $=d[p],ee=$.startTime;if(ee>z)break;var se=$.transferSize,ce=$.initiatorType;se&&NN(ce)&&($=$.responseEnd,N+=se*($<z?1:(z-ee)/($-ee)))}if(--p,l+=8*(E+N)/(x.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var vb=null,_b=null;function km(o){return o.nodeType===9?o:o.ownerDocument}function PN(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RN(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function bb(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var xb=null;function e9(){var o=window.event;return o&&o.type==="popstate"?o===xb?!1:(xb=o,!0):(xb=null,!1)}var MN=typeof setTimeout=="function"?setTimeout:void 0,t9=typeof clearTimeout=="function"?clearTimeout:void 0,kN=typeof Promise=="function"?Promise:void 0,n9=typeof queueMicrotask=="function"?queueMicrotask:typeof kN<"u"?function(o){return kN.resolve(null).then(o).catch(r9)}:MN;function r9(o){setTimeout(function(){throw o})}function bs(o){return o==="head"}function DN(o,l){var d=l,p=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(p===0){o.removeChild(x),lc(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")hd(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,hd(d);for(var E=d.firstChild;E;){var N=E.nextSibling,z=E.nodeName;E[da]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=N}}else d==="body"&&hd(o.ownerDocument.body);d=x}while(d);lc(l)}function ON(o,l){var d=o;o=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=p}while(d)}function wb(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":wb(d),Tu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function i9(o,l,d,p){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[da])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var E=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=gi(o.nextSibling),o===null)break}return null}function a9(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=gi(o.nextSibling),o===null))return null;return o}function LN(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=gi(o.nextSibling),o===null))return null;return o}function Eb(o){return o.data==="$?"||o.data==="$~"}function Tb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function o9(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function gi(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Sb=null;function VN(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return gi(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function UN(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function jN(o,l,d){switch(l=km(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function hd(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Tu(o)}var yi=new Map,zN=new Set;function Dm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var so=X.d;X.d={f:s9,r:l9,D:u9,C:c9,L:f9,m:d9,X:p9,S:h9,M:m9};function s9(){var o=so.f(),l=Sm();return o||l}function l9(o){var l=oi(o);l!==null&&l.tag===5&&l.type==="form"?rI(l):so.r(o)}var ac=typeof document>"u"?null:document;function FN(o,l,d){var p=ac;if(p&&typeof l=="string"&&l){var x=xr(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),zN.has(x)||(zN.add(x),o={rel:o,crossOrigin:d,href:l},p.querySelector(x)===null&&(l=p.createElement("link"),Gn(l,"link",o),an(l),p.head.appendChild(l)))}}function u9(o){so.D(o),FN("dns-prefetch",o,null)}function c9(o,l){so.C(o,l),FN("preconnect",o,l)}function f9(o,l,d){so.L(o,l,d);var p=ac;if(p&&o&&l){var x='link[rel="preload"][as="'+xr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+xr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+xr(d.imageSizes)+'"]')):x+='[href="'+xr(o)+'"]';var E=x;switch(l){case"style":E=oc(o);break;case"script":E=sc(o)}yi.has(E)||(o=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),yi.set(E,o),p.querySelector(x)!==null||l==="style"&&p.querySelector(pd(E))||l==="script"&&p.querySelector(md(E))||(l=p.createElement("link"),Gn(l,"link",o),an(l),p.head.appendChild(l)))}}function d9(o,l){so.m(o,l);var d=ac;if(d&&o){var p=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+xr(p)+'"][href="'+xr(o)+'"]',E=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=sc(o)}if(!yi.has(E)&&(o=m({rel:"modulepreload",href:o},l),yi.set(E,o),d.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(md(E)))return}p=d.createElement("link"),Gn(p,"link",o),an(p),d.head.appendChild(p)}}}function h9(o,l,d){so.S(o,l,d);var p=ac;if(p&&o){var x=pa(p).hoistableStyles,E=oc(o);l=l||"default";var N=x.get(E);if(!N){var z={loading:0,preload:null};if(N=p.querySelector(pd(E)))z.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":l},d),(d=yi.get(E))&&Ab(o,d);var $=N=p.createElement("link");an($),Gn($,"link",o),$._p=new Promise(function(ee,se){$.onload=ee,$.onerror=se}),$.addEventListener("load",function(){z.loading|=1}),$.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Om(N,l,p)}N={type:"stylesheet",instance:N,count:1,state:z},x.set(E,N)}}}function p9(o,l){so.X(o,l);var d=ac;if(d&&o){var p=pa(d).hoistableScripts,x=sc(o),E=p.get(x);E||(E=d.querySelector(md(x)),E||(o=m({src:o,async:!0},l),(l=yi.get(x))&&Cb(o,l),E=d.createElement("script"),an(E),Gn(E,"link",o),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(x,E))}}function m9(o,l){so.M(o,l);var d=ac;if(d&&o){var p=pa(d).hoistableScripts,x=sc(o),E=p.get(x);E||(E=d.querySelector(md(x)),E||(o=m({src:o,async:!0,type:"module"},l),(l=yi.get(x))&&Cb(o,l),E=d.createElement("script"),an(E),Gn(E,"link",o),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(x,E))}}function qN(o,l,d,p){var x=(x=Se.current)?Dm(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=oc(d.href),d=pa(x).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=oc(d.href);var E=pa(x).hoistableStyles,N=E.get(o);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,N),(E=x.querySelector(pd(o)))&&!E._p&&(N.instance=E,N.state.loading=5),yi.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},yi.set(o,d),E||g9(x,o,d,N.state))),l&&p===null)throw Error(r(528,""));return N}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=sc(d),d=pa(x).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function oc(o){return'href="'+xr(o)+'"'}function pd(o){return'link[rel="stylesheet"]['+o+"]"}function BN(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function g9(o,l,d,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Gn(l,"link",d),an(l),o.head.appendChild(l))}function sc(o){return'[src="'+xr(o)+'"]'}function md(o){return"script[async]"+o}function HN(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+xr(d.href)+'"]');if(p)return l.instance=p,an(p),p;var x=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),an(p),Gn(p,"style",x),Om(p,d.precedence,o),l.instance=p;case"stylesheet":x=oc(d.href);var E=o.querySelector(pd(x));if(E)return l.state.loading|=4,l.instance=E,an(E),E;p=BN(d),(x=yi.get(x))&&Ab(p,x),E=(o.ownerDocument||o).createElement("link"),an(E);var N=E;return N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),Gn(E,"link",p),l.state.loading|=4,Om(E,d.precedence,o),l.instance=E;case"script":return E=sc(d.src),(x=o.querySelector(md(E)))?(l.instance=x,an(x),x):(p=d,(x=yi.get(E))&&(p=m({},d),Cb(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),an(x),Gn(x,"link",p),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Om(p,d.precedence,o));return l.instance}function Om(o,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,E=x,N=0;N<p.length;N++){var z=p[N];if(z.dataset.precedence===l)E=z;else if(E!==x)break}E?E.parentNode.insertBefore(o,E.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function Ab(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Cb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Lm=null;function GN(o,l,d){if(Lm===null){var p=new Map,x=Lm=new Map;x.set(d,p)}else x=Lm,p=x.get(d),p||(p=new Map,x.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var E=d[x];if(!(E[da]||E[rn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var N=E.getAttribute(l)||"";N=o+N;var z=p.get(N);z?z.push(E):p.set(N,[E])}}return p}function $N(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function y9(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function KN(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function v9(o,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=oc(p.href),E=l.querySelector(pd(x));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Vm.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=E,an(E);return}E=l.ownerDocument||l,p=BN(p),(x=yi.get(x))&&Ab(p,x),E=E.createElement("link"),an(E);var N=E;N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),Gn(E,"link",p),d.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Vm.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var Ib=0;function _9(o,l){return o.stylesheets&&o.count===0&&jm(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var p=setTimeout(function(){if(o.stylesheets&&jm(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+l);0<o.imgBytes&&Ib===0&&(Ib=62500*ZB());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&jm(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>Ib?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function Vm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Um=null;function jm(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Um=new Map,l.forEach(b9,o),Um=null,Vm.call(o))}function b9(o,l){if(!(l.state.loading&4)){var d=Um.get(o);if(d)var p=d.get(null);else{d=new Map,Um.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<x.length;E++){var N=x[E];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(d.set(N.dataset.precedence,N),p=N)}p&&d.set(null,p)}x=l.instance,N=x.getAttribute("data-precedence"),E=d.get(N)||p,E===p&&d.set(null,x),d.set(N,x),this.count++,p=Vm.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),E?E.parentNode.insertBefore(x,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var gd={$$typeof:M,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function x9(o,l,d,p,x,E,N,z,$){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=E,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function WN(o,l,d,p,x,E,N,z,$,ee,se,ce){return o=new x9(o,l,d,N,$,ee,se,ce,z),l=1,E===!0&&(l|=24),E=Br(3,null,null,l),o.current=E,E.stateNode=o,l=s_(),l.refCount++,o.pooledCache=l,l.refCount++,E.memoizedState={element:p,isDehydrated:d,cache:l},f_(E),o}function YN(o){return o?(o=Uu,o):Uu}function JN(o,l,d,p,x,E){x=YN(x),p.context===null?p.context=x:p.pendingContext=x,p=us(l),p.payload={element:d},E=E===void 0?null:E,E!==null&&(p.callback=E),d=cs(o,p,l),d!==null&&(Cr(d,o,l),Wf(d,o,l))}function XN(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Nb(o,l){XN(o,l),(o=o.alternate)&&XN(o,l)}function QN(o){if(o.tag===13||o.tag===31){var l=Tl(o,67108864);l!==null&&Cr(l,o,67108864),Nb(o,67108864)}}function ZN(o){if(o.tag===13||o.tag===31){var l=Wr();l=dl(l);var d=Tl(o,l);d!==null&&Cr(d,o,l),Nb(o,l)}}var zm=!0;function w9(o,l,d,p){var x=J.T;J.T=null;var E=X.p;try{X.p=2,Pb(o,l,d,p)}finally{X.p=E,J.T=x}}function E9(o,l,d,p){var x=J.T;J.T=null;var E=X.p;try{X.p=8,Pb(o,l,d,p)}finally{X.p=E,J.T=x}}function Pb(o,l,d,p){if(zm){var x=Rb(p);if(x===null)gb(o,l,p,Fm,d),tP(o,p);else if(S9(x,o,l,d,p))p.stopPropagation();else if(tP(o,p),l&4&&-1<T9.indexOf(o)){for(;x!==null;){var E=oi(x);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var N=la(E.pendingLanes);if(N!==0){var z=E;for(z.pendingLanes|=2,z.entangledLanes|=2;N;){var $=1<<31-Gt(N);z.entanglements[1]|=$,N&=~$}Ca(E),(ut&6)===0&&(Em=or()+500,cd(0))}}break;case 31:case 13:z=Tl(E,2),z!==null&&Cr(z,E,2),Sm(),Nb(E,2)}if(E=Rb(p),E===null&&gb(o,l,p,Fm,d),E===x)break;x=E}x!==null&&p.stopPropagation()}else gb(o,l,p,null,d)}}function Rb(o){return o=si(o),Mb(o)}var Fm=null;function Mb(o){if(Fm=null,o=ha(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Fm=o,null}function eP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ll()){case _f:return 2;case bf:return 8;case Wo:case U0:return 32;case _p:return 268435456;default:return 32}default:return 32}}var kb=!1,xs=null,ws=null,Es=null,yd=new Map,vd=new Map,Ts=[],T9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tP(o,l){switch(o){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":yd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(l.pointerId)}}function _d(o,l,d,p,x,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:E,targetContainers:[x]},l!==null&&(l=oi(l),l!==null&&QN(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function S9(o,l,d,p,x){switch(l){case"focusin":return xs=_d(xs,o,l,d,p,x),!0;case"dragenter":return ws=_d(ws,o,l,d,p,x),!0;case"mouseover":return Es=_d(Es,o,l,d,p,x),!0;case"pointerover":var E=x.pointerId;return yd.set(E,_d(yd.get(E)||null,o,l,d,p,x)),!0;case"gotpointercapture":return E=x.pointerId,vd.set(E,_d(vd.get(E)||null,o,l,d,p,x)),!0}return!1}function nP(o){var l=ha(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,Di(o.priority,function(){ZN(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,Di(o.priority,function(){ZN(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function qm(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Rb(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);Mf=p,d.target.dispatchEvent(p),Mf=null}else return l=oi(d),l!==null&&QN(l),o.blockedOn=d,!1;l.shift()}return!0}function rP(o,l,d){qm(o)&&d.delete(l)}function A9(){kb=!1,xs!==null&&qm(xs)&&(xs=null),ws!==null&&qm(ws)&&(ws=null),Es!==null&&qm(Es)&&(Es=null),yd.forEach(rP),vd.forEach(rP)}function Bm(o,l){o.blockedOn===l&&(o.blockedOn=null,kb||(kb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A9)))}var Hm=null;function iP(o){Hm!==o&&(Hm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hm===o&&(Hm=null);for(var l=0;l<o.length;l+=3){var d=o[l],p=o[l+1],x=o[l+2];if(typeof p!="function"){if(Mb(p||d)===null)continue;break}var E=oi(d);E!==null&&(o.splice(l,3),l-=3,R_(E,{pending:!0,data:x,method:d.method,action:p},p,x))}}))}function lc(o){function l($){return Bm($,o)}xs!==null&&Bm(xs,o),ws!==null&&Bm(ws,o),Es!==null&&Bm(Es,o),yd.forEach(l),vd.forEach(l);for(var d=0;d<Ts.length;d++){var p=Ts[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ts.length&&(d=Ts[0],d.blockedOn===null);)nP(d),d.blockedOn===null&&Ts.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var x=d[p],E=d[p+1],N=x[Pn]||null;if(typeof E=="function")N||iP(d);else if(N){var z=null;if(E&&E.hasAttribute("formAction")){if(x=E,N=E[Pn]||null)z=N.formAction;else if(Mb(x)!==null)continue}else z=N.action;typeof z=="function"?d[p+1]=z:(d.splice(p,3),p-=3),iP(d)}}}function aP(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(N){return x=N})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function Db(o){this._internalRoot=o}Gm.prototype.render=Db.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,p=Wr();JN(d,p,o,l,null,null)},Gm.prototype.unmount=Db.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;JN(o.current,2,null,o,null,null),Sm(),l[fa]=null}};function Gm(o){this._internalRoot=o}Gm.prototype.unstable_scheduleHydration=function(o){if(o){var l=Sp();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Ts.length&&l!==0&&l<Ts[d].priority;d++);Ts.splice(d,0,o),d===0&&nP(o)}};var oP=e.version;if(oP!=="19.2.0")throw Error(r(527,oP,"19.2.0"));X.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var C9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Mi=$m.inject(C9),zn=$m}catch{}}return xd.createRoot=function(o,l){if(!i(o))throw Error(r(299));var d=!1,p="",x=hI,E=pI,N=mI;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=WN(o,1,!1,null,null,d,p,null,x,E,N,aP),o[fa]=l.current,mb(o),new Db(l)},xd.hydrateRoot=function(o,l,d){if(!i(o))throw Error(r(299));var p=!1,x="",E=hI,N=pI,z=mI,$=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(z=d.onRecoverableError),d.formState!==void 0&&($=d.formState)),l=WN(o,1,!0,l,d??null,p,x,$,E,N,z,aP),l.context=YN(null),d=l.current,p=Wr(),p=dl(p),x=us(p),x.callback=null,cs(d,x,p),d=p,l.current.lanes=d,cl(l,d),Ca(l),o[fa]=l.current,mb(o),new Gm(l)},xd.version="19.2.0",xd}var gP;function z9(){if(gP)return Ub.exports;gP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ub.exports=j9(),Ub.exports}var F9=z9();const q9=qa(F9);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yP="popstate";function B9(t={}){function e(i,a){let{pathname:s="/",search:u="",hash:c=""}=hu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Yw("",{pathname:s,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof a=="string"?a:th(a))}function r(i,a){ti(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return G9(e,n,r,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H9(){return Math.random().toString(36).substring(2,10)}function vP(t,e){return{usr:t.state,key:t.key,idx:e}}function Yw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hu(e):e,state:n,key:e&&e.key||r||H9()}}function th({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function G9(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function m(){u="POP";let C=h(),P=C==null?null:C-f;f=C,c&&c({action:u,location:S.location,delta:P})}function v(C,P){u="PUSH";let D=Yw(S.location,C,P);n&&n(D,C),f=h()+1;let M=vP(D,f),V=S.createHref(D);try{s.pushState(M,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(V)}a&&c&&c({action:u,location:S.location,delta:1})}function w(C,P){u="REPLACE";let D=Yw(S.location,C,P);n&&n(D,C),f=h();let M=vP(D,f),V=S.createHref(D);s.replaceState(M,"",V),a&&c&&c({action:u,location:S.location,delta:0})}function A(C){return $9(C)}let S={get action(){return u},get location(){return t(i,s)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yP,m),c=C,()=>{i.removeEventListener(yP,m),c=null}},createHref(C){return e(i,C)},createURL:A,encodeLocation(C){let P=A(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:w,go(C){return s.go(C)}};return S}function $9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:th(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function b4(t,e,n="/"){return K9(t,e,n,!1)}function K9(t,e,n,r){let i=typeof e=="string"?hu(e):e,a=So(i.pathname||"/",n);if(a==null)return null;let s=x4(t);W9(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=a8(a);u=r8(s[c],f,r)}return u}function x4(t,e=[],n=[],r="",i=!1){let a=(s,u,c=i,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Vt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=_o([r,h.relativePath]),v=n.concat(h);s.children&&s.children.length>0&&(Vt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),x4(s.children,e,v,m,c)),!(s.path==null&&!s.index)&&e.push({path:m,score:t8(m,s.index),routesMeta:v})};return t.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of w4(s.path))a(s,u,!0,f)}),e}function w4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=w4(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function W9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Y9=/^:[\w-]+$/,J9=3,X9=2,Q9=1,Z9=10,e8=-2,_P=t=>t==="*";function t8(t,e){let n=t.split("/"),r=n.length;return n.some(_P)&&(r+=e8),e&&(r+=X9),n.filter(i=>!_P(i)).reduce((i,a)=>i+(Y9.test(a)?J9:a===""?Q9:Z9),r)}function n8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function r8(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=zg({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=zg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:_o([a,m.pathname]),pathnameBase:c8(_o([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=_o([a,m.pathnameBase]))}return s}function zg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:m},v)=>{if(h==="*"){let A=u[v]||"";s=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const w=u[v];return m&&!w?f[h]=void 0:f[h]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function i8(t,e=!1,n=!0){ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function a8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function So(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var o8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s8=t=>o8.test(t);function l8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hu(t):t,a;if(n)if(s8(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),ti(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=bP(n.substring(1),"/"):a=bP(n,e)}else a=e;return{pathname:a,search:f8(r),hash:d8(i)}}function bP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jT(t){let e=u8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zT(t,e,n,r=!1){let i;typeof t=="string"?i=hu(t):(i={...t},Vt(!i.pathname||!i.pathname.includes("?"),qb("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),qb("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),qb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?e[m]:"/"}let c=l8(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var _o=t=>t.join("/").replace(/\/\/+/g,"/"),c8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var E4=["POST","PUT","PATCH","DELETE"];new Set(E4);var p8=["GET",...E4];new Set(p8);var Yc=T.createContext(null);Yc.displayName="DataRouter";var uv=T.createContext(null);uv.displayName="DataRouterState";T.createContext(!1);var T4=T.createContext({isTransitioning:!1});T4.displayName="ViewTransition";var m8=T.createContext(new Map);m8.displayName="Fetchers";var g8=T.createContext(null);g8.displayName="Await";var ea=T.createContext(null);ea.displayName="Navigation";var Mh=T.createContext(null);Mh.displayName="Location";var ta=T.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var FT=T.createContext(null);FT.displayName="RouteError";function y8(t,{relative:e}={}){Vt(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ea),{hash:i,pathname:a,search:s}=kh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:_o([n,a])),r.createHref({pathname:u,search:s,hash:i})}function Jc(){return T.useContext(Mh)!=null}function na(){return Vt(Jc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Mh).location}var S4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A4(t){T.useContext(ea).static||T.useLayoutEffect(t)}function vn(){let{isDataRoute:t}=T.useContext(ta);return t?P8():v8()}function v8(){Vt(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Yc),{basename:e,navigator:n}=T.useContext(ea),{matches:r}=T.useContext(ta),{pathname:i}=na(),a=JSON.stringify(jT(r)),s=T.useRef(!1);return A4(()=>{s.current=!0}),T.useCallback((c,f={})=>{if(ti(s.current,S4),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=zT(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:_o([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,i,t])}T.createContext(null);function C4(){let{matches:t}=T.useContext(ta),e=t[t.length-1];return e?e.params:{}}function kh(t,{relative:e}={}){let{matches:n}=T.useContext(ta),{pathname:r}=na(),i=JSON.stringify(jT(n));return T.useMemo(()=>zT(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _8(t,e){return I4(t,e)}function I4(t,e,n,r,i){var D;Vt(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(ea),{matches:s}=T.useContext(ta),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let M=m&&m.path||"";N4(f,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=na(),w;if(e){let M=typeof e=="string"?hu(e):e;Vt(h==="/"||((D=M.pathname)==null?void 0:D.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=v;let A=w.pathname||"/",S=A;if(h!=="/"){let M=h.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=b4(t,{pathname:S});ti(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ti(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=T8(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:_o([h,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:_o([h,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),s,n,r,i);return e&&P?T.createElement(Mh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function b8(){let t=N8(),e=h8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}var x8=T.createElement(b8,null),w8=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(ta.Provider,{value:this.props.routeContext},T.createElement(FT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E8({routeContext:t,match:e,children:n}){let r=T.useContext(Yc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ta.Provider,{value:t},n)}function T8(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:v,errors:w}=n,A=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||A){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(h,m)=>{var v,w;r(h,{location:n.location,params:((w=(v=n.matches)==null?void 0:v[0])==null?void 0:w.params)??{},errorInfo:m})}:void 0;return a.reduceRight((h,m,v)=>{let w,A=!1,S=null,C=null;n&&(w=s&&m.route.id?s[m.route.id]:void 0,S=m.route.errorElement||x8,u&&(c<0&&v===0?(N4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):c===v&&(A=!0,C=m.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,v+1)),D=()=>{let M;return w?M=S:A?M=C:m.route.Component?M=T.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=h,T.createElement(E8,{match:m,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?T.createElement(w8,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:D(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:f}):D()},null)}function qT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S8(t){let e=T.useContext(Yc);return Vt(e,qT(t)),e}function A8(t){let e=T.useContext(uv);return Vt(e,qT(t)),e}function C8(t){let e=T.useContext(ta);return Vt(e,qT(t)),e}function BT(t){let e=C8(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function I8(){return BT("useRouteId")}function N8(){var r;let t=T.useContext(FT),e=A8("useRouteError"),n=BT("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function P8(){let{router:t}=S8("useNavigate"),e=BT("useNavigate"),n=T.useRef(!1);return A4(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{ti(n.current,S4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var xP={};function N4(t,e,n){!e&&!xP[t]&&(xP[t]=!0,ti(!1,n))}T.memo(R8);function R8({routes:t,future:e,state:n,unstable_onError:r}){return I4(t,void 0,n,r,e)}function P4({to:t,replace:e,state:n,relative:r}){Vt(Jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(ea);ti(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(ta),{pathname:s}=na(),u=vn(),c=zT(t,jT(a),s,r==="path"),f=JSON.stringify(c);return T.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function wn(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Vt(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=hu(n));let{pathname:c="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,w=T.useMemo(()=>{let A=So(c,s);return A==null?null:{location:{pathname:A,search:f,hash:h,state:m,key:v},navigationType:r}},[s,c,f,h,m,v,r]);return ti(w!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(ea.Provider,{value:u},T.createElement(Mh.Provider,{children:e,value:w}))}function k8({children:t,location:e}){return _8(Jw(t),e)}function Jw(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Jw(r.props.children,a));return}Vt(r.type===wn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Jw(r.props.children,a)),n.push(s)}),n}var xg="get",wg="application/x-www-form-urlencoded";function cv(t){return t!=null&&typeof t.tagName=="string"}function D8(t){return cv(t)&&t.tagName.toLowerCase()==="button"}function O8(t){return cv(t)&&t.tagName.toLowerCase()==="form"}function L8(t){return cv(t)&&t.tagName.toLowerCase()==="input"}function V8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U8(t,e){return t.button===0&&(!e||e==="_self")&&!V8(t)}var Km=null;function j8(){if(Km===null)try{new FormData(document.createElement("form"),0),Km=!1}catch{Km=!0}return Km}var z8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bb(t){return t!=null&&!z8.has(t)?(ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wg}"`),null):t}function F8(t,e){let n,r,i,a,s;if(O8(t)){let u=t.getAttribute("action");r=u?So(u,e):null,n=t.getAttribute("method")||xg,i=Bb(t.getAttribute("enctype"))||wg,a=new FormData(t)}else if(D8(t)||L8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?So(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||xg,i=Bb(t.getAttribute("formenctype"))||Bb(u.getAttribute("enctype"))||wg,a=new FormData(u,t),!j8()){let{name:f,type:h,value:m}=t;if(h==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(cv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xg,r=null,i=wg,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function HT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function q8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&So(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function B8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function G8(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await B8(a,n);return s.links?s.links():[]}return[]}));return Y8(r.flat(1).filter(H8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wP(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):a==="data"?e.filter((c,f)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function $8(t,e,{includeHydrateFallback:n}={}){return K8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function K8(t){return[...new Set(t)]}function W8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Y8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(W8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function R4(){let t=T.useContext(Yc);return HT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function J8(){let t=T.useContext(uv);return HT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var GT=T.createContext(void 0);GT.displayName="FrameworkContext";function M4(){let t=T.useContext(GT);return HT(t,"You must render this element inside a <HydratedRouter> element"),t}function X8(t,e){let n=T.useContext(GT),[r,i]=T.useState(!1),[a,s]=T.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=e,v=T.useRef(null);T.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=P=>{P.forEach(D=>{s(D.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{i(!0)},A=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:wd(u,w),onBlur:wd(c,A),onMouseEnter:wd(f,w),onMouseLeave:wd(h,A),onTouchStart:wd(m,w)}]:[!1,v,{}]}function wd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q8({page:t,...e}){let{router:n}=R4(),r=T.useMemo(()=>b4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(eH,{page:t,matches:r,...e}):null}function Z8(t){let{manifest:e,routeModules:n}=M4(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return G8(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function eH({page:t,matches:e,...n}){let r=na(),{manifest:i,routeModules:a}=M4(),{basename:s}=R4(),{loaderData:u,matches:c}=J8(),f=T.useMemo(()=>wP(t,e,c,i,r,"data"),[t,e,c,i,r]),h=T.useMemo(()=>wP(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,S=!1;if(e.forEach(P=>{var M;let D=i.routes[P.route.id];!D||!D.hasLoader||(!f.some(V=>V.route.id===P.route.id)&&P.route.id in u&&((M=a[P.route.id])!=null&&M.shouldRevalidate)||D.hasClientLoader?S=!0:A.add(P.route.id))}),A.size===0)return[];let C=q8(t,s,"data");return S&&A.size>0&&C.searchParams.set("_routes",e.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[s,u,r,i,f,e,t,a]),v=T.useMemo(()=>$8(h,i),[h,i]),w=Z8(h);return T.createElement(T.Fragment,null,m.map(A=>T.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),v.map(A=>T.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:S})=>T.createElement("link",{key:A,nonce:n.nonce,...S})))}function tH(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k4&&(window.__reactRouterVersion="7.9.6")}catch{}function nH({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=B9({window:n,v5Compat:!0}));let i=r.current,[a,s]=T.useState({action:i.action,location:i.location}),u=T.useCallback(c=>{T.startTransition(()=>s(c))},[s]);return T.useLayoutEffect(()=>i.listen(u),[i,u]),T.createElement(M8,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var D4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ra=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:m,...v},w){let{basename:A}=T.useContext(ea),S=typeof f=="string"&&D4.test(f),C,P=!1;if(typeof f=="string"&&S&&(C=f,k4))try{let L=new URL(window.location.href),F=f.startsWith("//")?new URL(L.protocol+f):new URL(f),j=So(F.pathname,A);F.origin===L.origin&&j!=null?f=j+F.search+F.hash:P=!0}catch{ti(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=y8(f,{relative:i}),[M,V,U]=X8(r,v),G=oH(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:m});function k(L){e&&e(L),L.defaultPrevented||G(L)}let O=T.createElement("a",{...v,...U,href:C||D,onClick:P||a?e:k,ref:tH(w,V),target:c,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?T.createElement(T.Fragment,null,O,T.createElement(Q8,{page:D})):O});Ra.displayName="Link";var rH=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...f},h){let m=kh(s,{relative:f.relative}),v=na(),w=T.useContext(uv),{navigator:A,basename:S}=T.useContext(ea),C=w!=null&&fH(m)&&u===!0,P=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,D=v.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(D=D.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&S&&(M=So(M,S)||M);const V=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let U=D===P||!i&&D.startsWith(P)&&D.charAt(V)==="/",G=M!=null&&(M===P||!i&&M.startsWith(P)&&M.charAt(P.length)==="/"),k={isActive:U,isPending:G,isTransitioning:C},O=U?e:void 0,L;typeof r=="function"?L=r(k):L=[r,U?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(k):a;return T.createElement(Ra,{...f,"aria-current":O,className:L,ref:h,style:F,to:s,viewTransition:u},typeof c=="function"?c(k):c)});rH.displayName="NavLink";var iH=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=xg,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:m,...v},w)=>{let A=uH(),S=cH(u,{relative:f}),C=s.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&D4.test(u),D=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let V=M.nativeEvent.submitter,U=(V==null?void 0:V.getAttribute("formmethod"))||s;A(V||M.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:m})};return T.createElement("form",{ref:w,method:C,action:S,onSubmit:r?c:D,...v,"data-discover":!P&&t==="render"?"true":void 0})});iH.displayName="Form";function aH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O4(t){let e=T.useContext(Yc);return Vt(e,aH(t)),e}function oH(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let u=vn(),c=na(),f=kh(t,{relative:a});return T.useCallback(h=>{if(U8(h,e)){h.preventDefault();let m=n!==void 0?n:th(c)===th(f);u(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,u,f,n,r,e,t,i,a,s])}var sH=0,lH=()=>`__${String(++sH)}__`;function uH(){let{router:t}=O4("useSubmit"),{basename:e}=T.useContext(ea),n=I8();return T.useCallback(async(r,i={})=>{let{action:a,method:s,encType:u,formData:c,body:f}=F8(r,e);if(i.navigate===!1){let h=i.fetcherKey||lH();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function cH(t,{relative:e}={}){let{basename:n}=T.useContext(ea),r=T.useContext(ta);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...kh(t||".",{relative:e})},s=na();if(t==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_o([n,a.pathname])),th(a)}function fH(t,{relative:e}={}){let n=T.useContext(T4);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=O4("useViewTransitionState"),i=kh(t,{relative:e});if(!n.isTransitioning)return!1;let a=So(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=So(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zg(i.pathname,s)!=null||zg(i.pathname,a)!=null}var L4=_4();/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),EP=t=>{const e=hH(t);return e.charAt(0).toUpperCase()+e.slice(1)},V4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),pH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>T.createElement("svg",{ref:c,...mH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:V4("lucide",i),...!a&&!pH(u)&&{"aria-hidden":"true"},...u},[...s.map(([f,h])=>T.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(gH,{ref:a,iconNode:e,className:V4(`lucide-${dH(EP(t))}`,`lucide-${t}`,r),...i}));return n.displayName=EP(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xw=Ne("activity",yH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],_H=Ne("apple",vH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vr=Ne("arrow-left",bH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],wH=Ne("arrow-up",xH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],TH=Ne("award",EH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fg=Ne("bell",SH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],CH=Ne("bookmark",AH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Qw=Ne("bot",IH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],js=Ne("calendar",NH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ql=Ne("check",PH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U4=Ne("chevron-down",RH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bo=Ne("chevron-right",MH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],DH=Ne("chevron-up",kH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j4=Ne("circle-alert",OH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zw=Ne("circle-check-big",LH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UH=Ne("circle-check",VH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],TP=Ne("circle-x",jH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qg=Ne("clock",zH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qH=Ne("compass",FH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$T=Ne("download",BH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],zs=Ne("dumbbell",HH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],z4=Ne("eye-off",GH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],KH=Ne("facebook",$H);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F4=Ne("eye",WH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SP=Ne("file-text",YH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],AP=Ne("flame",JH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],QH=Ne("heart",XH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eG=Ne("house",ZH);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],q4=Ne("info",tG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rG=Ne("instagram",nG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],aG=Ne("lightbulb",iG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],sG=Ne("link",oG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],uG=Ne("list",lG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nh=Ne("loader-circle",cG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rh=Ne("lock",fG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hG=Ne("log-out",dG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bg=Ne("mail",pG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ih=Ne("map-pin",mG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],yG=Ne("map",gG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_G=Ne("moon",vG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],B4=Ne("navigation",bG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],wG=Ne("person-standing",xG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hg=Ne("plus",EG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],SG=Ne("ruler",TG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],CP=Ne("save",AG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],H4=Ne("search",CG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],KT=Ne("share-2",IG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],G4=Ne("shield-check",NG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],IP=Ne("shield",PG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],NP=Ne("sliders-horizontal",RG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gg=Ne("sparkles",MG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DG=Ne("square-check-big",kG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],LG=Ne("square-pen",OG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$4=Ne("star",VG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],jG=Ne("timer",UG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],K4=Ne("trash-2",zG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qG=Ne("trending-up",FG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],W4=Ne("triangle-alert",BG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$g=Ne("trophy",HG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],$G=Ne("twitter",GG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WG=Ne("upload",KG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fv=Ne("user",YG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Zl=Ne("utensils",JG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],QG=Ne("waves",XG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ah=Ne("x",ZG),e$=()=>{};var PP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},J4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,w=f&63;c||(w=64,s||(v=64)),r.push(n[h],n[m],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||m==null)throw new n$;const v=a<<2|u>>4;if(r.push(v),f!==64){const w=u<<4&240|f>>2;if(r.push(w),m!==64){const A=f<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r$=function(t){const e=Y4(t);return J4.encodeByteArray(e,!0)},Kg=function(t){return r$(t).replace(/\./g,"")},X4=function(t){try{return J4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=()=>i$().__FIREBASE_DEFAULTS__,o$=()=>{if(typeof process>"u"||typeof PP>"u")return;const t=PP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X4(t[1]);return e&&JSON.parse(e)},dv=()=>{try{return e$()||a$()||o$()||s$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q4=t=>{var e,n;return(n=(e=dv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},l$=t=>{const e=Q4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z4=()=>{var t;return(t=dv())==null?void 0:t.config},e5=t=>{var e;return(e=dv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kg(JSON.stringify(n)),Kg(JSON.stringify(s)),""].join(".")}const Bd={};function f$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bd))Bd[e]?t.emulator.push(e):t.prod.push(e);return t}function d$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let RP=!1;function n5(t,e){if(typeof window>"u"||typeof document>"u"||!Xc(window.location.host)||Bd[t]===e||Bd[t]||RP)return;Bd[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=f$().prod.length>0;function s(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{RP=!0,s()},v}function h(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=d$(r),w=n("text"),A=document.getElementById(w)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),P=n("preprendIcon"),D=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;u(M),h(C,S);const V=f();c(D,P),M.append(D,A,C,V),document.body.appendChild(M)}a?(A.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function p$(){var e;const t=(e=dv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y$(){const t=ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v$(){return!p$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WT(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function i5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="FirebaseError";class ra extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_$,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xs.prototype.create)}}class Xs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?b$(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ra(i,u,r)}}function b$(t,e){return t.replace(x$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x$=/\{\$([^}]+)}/g;function w$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(MP(a)&&MP(s)){if(!Fs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Dd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E$(t,e){const n=new T$(t,e);return n.subscribe.bind(n)}class T${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hb),i.error===void 0&&(i.error=Hb),i.complete===void 0&&(i.complete=Hb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=1e3,C$=2,I$=14400*1e3,N$=.5;function kP(t,e=A$,n=C$){const r=e*Math.pow(n,t),i=Math.round(N$*r*(Math.random()-.5)*2);return Math.min(I$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M$(e))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vl){return this.instances.has(e)}getOptions(e=Vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vl){return this.component?this.component.multipleInstances?e:Vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function R$(t){return t===Vl?void 0:t}function M$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const D$={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},O$=Xe.INFO,L$={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},V$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=L$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hv{constructor(e){this.name=e,this._logLevel=O$,this._logHandler=V$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const U$=(t,e)=>e.some(n=>t instanceof n);let DP,OP;function j$(){return DP||(DP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z$(){return OP||(OP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a5=new WeakMap,eE=new WeakMap,o5=new WeakMap,Gb=new WeakMap,JT=new WeakMap;function F$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(xo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&a5.set(n,t)}).catch(()=>{}),JT.set(e,t),e}function q$(t){if(eE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});eE.set(t,e)}let tE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B$(t){tE=t(tE)}function H$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($b(this),e,...n);return o5.set(r,e.sort?e.sort():[e]),xo(r)}:z$().includes(t)?function(...e){return t.apply($b(this),e),xo(a5.get(this))}:function(...e){return xo(t.apply($b(this),e))}}function G$(t){return typeof t=="function"?H$(t):(t instanceof IDBTransaction&&q$(t),U$(t,j$())?new Proxy(t,tE):t)}function xo(t){if(t instanceof IDBRequest)return F$(t);if(Gb.has(t))return Gb.get(t);const e=G$(t);return e!==t&&(Gb.set(t,e),JT.set(e,t)),e}const $b=t=>JT.get(t);function pv(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=xo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(xo(s.result),c.oldVersion,c.newVersion,xo(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}function Kb(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),xo(n).then(()=>{})}const $$=["get","getKey","getAll","getAllKeys","count"],K$=["put","add","delete","clear"],Wb=new Map;function LP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wb.get(e))return Wb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$$.includes(n)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Wb.set(e,a),a}B$(t=>({...t,get:(e,n,r)=>LP(e,n)||t.get(e,n,r),has:(e,n)=>!!LP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nE="@firebase/app",VP="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new hv("@firebase/app"),J$="@firebase/app-compat",X$="@firebase/analytics-compat",Q$="@firebase/analytics",Z$="@firebase/app-check-compat",e7="@firebase/app-check",t7="@firebase/auth",n7="@firebase/auth-compat",r7="@firebase/database",i7="@firebase/data-connect",a7="@firebase/database-compat",o7="@firebase/functions",s7="@firebase/functions-compat",l7="@firebase/installations",u7="@firebase/installations-compat",c7="@firebase/messaging",f7="@firebase/messaging-compat",d7="@firebase/performance",h7="@firebase/performance-compat",p7="@firebase/remote-config",m7="@firebase/remote-config-compat",g7="@firebase/storage",y7="@firebase/storage-compat",v7="@firebase/firestore",_7="@firebase/ai",b7="@firebase/firestore-compat",x7="firebase",w7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="[DEFAULT]",E7={[nE]:"fire-core",[J$]:"fire-core-compat",[Q$]:"fire-analytics",[X$]:"fire-analytics-compat",[e7]:"fire-app-check",[Z$]:"fire-app-check-compat",[t7]:"fire-auth",[n7]:"fire-auth-compat",[r7]:"fire-rtdb",[i7]:"fire-data-connect",[a7]:"fire-rtdb-compat",[o7]:"fire-fn",[s7]:"fire-fn-compat",[l7]:"fire-iid",[u7]:"fire-iid-compat",[c7]:"fire-fcm",[f7]:"fire-fcm-compat",[d7]:"fire-perf",[h7]:"fire-perf-compat",[p7]:"fire-rc",[m7]:"fire-rc-compat",[g7]:"fire-gcs",[y7]:"fire-gcs-compat",[v7]:"fire-fst",[b7]:"fire-fst-compat",[_7]:"fire-vertex","fire-js":"fire-js",[x7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map,T7=new Map,iE=new Map;function UP(t,e){try{t.container.addComponent(e)}catch(n){Ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(iE.has(e))return Ao.debug(`There were multiple attempts to register component ${e}.`),!1;iE.set(e,t);for(const n of Wg.values())UP(n,t);for(const n of T7.values())UP(n,t);return!0}function Qs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new Xs("app","Firebase",S7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=w7;function s5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ds.create("bad-app-name",{appName:String(i)});if(n||(n=Z4()),!n)throw Ds.create("no-options");const a=Wg.get(i);if(a){if(Fs(n,a.options)&&Fs(r,a.config))return a;throw Ds.create("duplicate-app",{appName:i})}const s=new k$(i);for(const c of iE.values())s.addComponent(c);const u=new A7(n,r,s);return Wg.set(i,u),u}function mv(t=rE){const e=Wg.get(t);if(!e&&t===rE&&Z4())return s5();if(!e)throw Ds.create("no-app",{appName:t});return e}function Or(t,e,n){let r=E7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ao.warn(s.join(" "));return}Ti(new ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="firebase-heartbeat-database",I7=1,oh="firebase-heartbeat-store";let Yb=null;function l5(){return Yb||(Yb=pv(C7,I7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),Yb}async function N7(t){try{const n=(await l5()).transaction(oh),r=await n.objectStore(oh).get(u5(t));return await n.done,r}catch(e){if(e instanceof ra)Ao.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ao.warn(n.message)}}}async function jP(t,e){try{const r=(await l5()).transaction(oh,"readwrite");await r.objectStore(oh).put(e,u5(t)),await r.done}catch(n){if(n instanceof ra)Ao.warn(n.message);else{const r=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ao.warn(r.message)}}}function u5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=1024,R7=30;class M7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=zP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>R7){const s=O7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ao.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zP(),{heartbeatsToSend:r,unsentEntries:i}=k7(this._heartbeatsCache.heartbeats),a=Kg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ao.warn(n),""}}}function zP(){return new Date().toISOString().substring(0,10)}function k7(t,e=P7){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),FP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WT()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function FP(t){return Kg(JSON.stringify({version:2,heartbeats:t})).length}function O7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){Ti(new ni("platform-logger",e=>new W$(e),"PRIVATE")),Ti(new ni("heartbeat",e=>new M7(e),"PRIVATE")),Or(nE,VP,t),Or(nE,VP,"esm2020"),Or("fire-js","")}L7("");function c5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V7=c5,f5=new Xs("auth","Firebase",c5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new hv("@firebase/auth");function U7(t,...e){Yg.logLevel<=Xe.WARN&&Yg.warn(`Auth (${Zc}): ${t}`,...e)}function Eg(t,...e){Yg.logLevel<=Xe.ERROR&&Yg.error(`Auth (${Zc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,...e){throw QT(t,...e)}function Lr(t,...e){return QT(t,...e)}function XT(t,e,n){const r={...V7(),[e]:n};return new Xs("auth","Firebase",r).create(e,{appName:t.name})}function Ma(t){return XT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Si(t,"argument-error"),XT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function QT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f5.create(t,...e)}function Ee(t,e,...n){if(!t)throw QT(e,...n)}function mo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eg(e),new Error(e)}function Co(t,e){t||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function d5(){return qP()==="http:"||qP()==="https:"}function qP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d5()||r5()||"connection"in navigator)?navigator.onLine:!0}function F7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Co(n>e,"Short delay should be less than long delay!"),this.isMobile=h$()||g$()}get(){return z7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e){Co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H7=new Dh(3e4,6e4);function yr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vr(t,e,n,r,i={}){return p5(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=Qc({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return m$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Xc(t.emulatorConfig.host)&&(f.credentials="include"),h5.fetch()(await m5(t,t.config.apiHost,n,u),f)})}async function p5(t,e,n){t._canInitEmulator=!1;const r={...q7,...e};try{const i=new $7(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Od(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Od(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Od(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw XT(t,h,f);Si(t,h)}}catch(i){if(i instanceof ra)throw i;Si(t,"network-request-failed",{message:String(i)})}}async function Zs(t,e,n,r,i={}){const a=await vr(t,e,n,r,i);return"mfaPendingCredential"in a&&Si(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function m5(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?ZT(t.config,i):`${t.config.apiScheme}://${i}`;return B7.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function G7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),H7.get())})}}function Od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){return t!==void 0&&t.getResponse!==void 0}function HP(t){return t!==void 0&&t.enterprise!==void 0}class g5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(t){return(await vr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function y5(t,e){return vr(t,"GET","/v2/recaptchaConfig",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t,e){return vr(t,"POST","/v1/accounts:delete",e)}async function Jg(t,e){return vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y7(t,e=!1){const n=ht(t),r=await n.getIdToken(e),i=eS(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Hd(Jb(i.auth_time)),issuedAtTime:Hd(Jb(i.iat)),expirationTime:Hd(Jb(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Jb(t){return Number(t)*1e3}function eS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eg("JWT malformed, contained fewer than 3 sections"),null;try{const i=X4(n);return i?JSON.parse(i):(Eg("Failed to decode base64 JWT payload"),null)}catch(i){return Eg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GP(t){const e=eS(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ra&&J7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hd(this.lastLoginAt),this.creationTime=Hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(t){var m;const e=t.auth,n=await t.getIdToken(),r=await eu(t,Jg(e,{idToken:n}));Ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?v5(i.providerUserInfo):[],s=Z7(t.providerData,a),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oE(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function Q7(t){const e=ht(t);await Xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function v5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eK(t,e){const n=await p5(t,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await m5(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Xc(t.emulatorConfig.host)&&(c.credentials="include"),h5.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tK(t,e){return vr(t,"POST","/v2/accounts:revokeToken",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=GP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await eK(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new bc;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ee(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new X7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y7(this,e)}reload(){return Q7(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(Ma(this.auth));const e=await this.getIdToken();return await eu(this,W7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:w,providerData:A,stsTokenManager:S}=n;Ee(m&&S,e,"internal-error");const C=bc.fromJSON(this.name,S);Ee(typeof m=="string",e,"internal-error"),As(r,e.name),As(i,e.name),Ee(typeof v=="boolean",e,"internal-error"),Ee(typeof w=="boolean",e,"internal-error"),As(a,e.name),As(s,e.name),As(u,e.name),As(c,e.name),As(f,e.name),As(h,e.name);const P=new Ki({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:w,photoURL:s,phoneNumber:a,tenantId:u,stsTokenManager:C,createdAt:f,lastLoginAt:h});return A&&Array.isArray(A)&&(P.providerData=A.map(D=>({...D}))),c&&(P._redirectEventId=c),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new bc;i.updateFromServerResponse(n);const a=new Ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?v5(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new bc;u.updateFromIdToken(r);const c=new Ki({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new oE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Map;function go(t){Co(t instanceof Function,"Expected a class definition");let e=$P.get(t);return e?(Co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$P.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_5.type="NONE";const KP=_5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e,n){return`firebase:${t}:${e}:${n}`}class xc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Tg(this.userKey,i.apiKey,a),this.fullPersistenceKey=Tg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jg(this.auth,{idToken:e}).catch(()=>{});return n?Ki._fromGetAccountInfoResponse(this.auth,n,e):null}return Ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xc(go(KP),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||go(KP);const s=Tg(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const v=await Jg(e,{idToken:h}).catch(()=>{});if(!v)break;m=await Ki._fromGetAccountInfoResponse(e,v,h)}else m=Ki._fromJSON(e,h);f!==a&&(u=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new xc(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new xc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S5(e))return"Blackberry";if(A5(e))return"Webos";if(x5(e))return"Safari";if((e.includes("chrome/")||w5(e))&&!e.includes("edge/"))return"Chrome";if(T5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b5(t=ir()){return/firefox\//i.test(t)}function x5(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w5(t=ir()){return/crios\//i.test(t)}function E5(t=ir()){return/iemobile/i.test(t)}function T5(t=ir()){return/android/i.test(t)}function S5(t=ir()){return/blackberry/i.test(t)}function A5(t=ir()){return/webos/i.test(t)}function tS(t=ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nK(t=ir()){var e;return tS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function rK(){return y$()&&document.documentMode===10}function C5(t=ir()){return tS(t)||T5(t)||A5(t)||S5(t)||/windows phone/i.test(t)||E5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e=[]){let n;switch(t){case"Browser":n=WP(ir());break;case"Worker":n=`${WP(ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aK(t,e={}){return vr(t,"GET","/v2/passwordPolicy",yr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=6;class sK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YP(this),this.idTokenSubscription=new YP(this),this.beforeStateQueue=new iK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=go(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await xc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jg(this,{idToken:e}),r=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Rr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(Ma(this));const n=e?ht(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(Ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(Ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aK(this),n=new sK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&go(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await xc.create(this,[go(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&U7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ia(t){return ht(t)}class YP{constructor(e){this.auth=e,this.observer=null,this.addObserver=E$(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uK(t){Oh=t}function nS(t){return Oh.loadJS(t)}function cK(){return Oh.recaptchaV2Script}function fK(){return Oh.recaptchaEnterpriseScript}function dK(){return Oh.gapiScript}function N5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=500,pK=6e4,Wm=1e12;class mK{constructor(e){this.auth=e,this.counter=Wm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new vK(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Wm;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Wm;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Wm;return(r=this._widgets.get(n))==null||r.execute(),""}}class gK{constructor(){this.enterprise=new yK}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yK{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vK{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Ee(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=_K(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},pK)},hK))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function _K(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const bK="recaptcha-enterprise",Gd="NO_RECAPTCHA";class P5{constructor(e){this.type=bK,this.auth=ia(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{y5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new g5(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;HP(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(Gd)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gK().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!n&&HP(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fK();c.length!==0&&(c+=u),nS(c).then(()=>{i(u,a,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function Ed(t,e,n,r=!1,i=!1){const a=new P5(t);let s;if(i)s=Gd;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function wc(t,e,n,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ed(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ed(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const u=await Ed(t,e,n);return r(t,u).catch(async c=>{var f;if(((f=t._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Ed(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const u=await Ed(t,e,n,!1,!0);return r(t,u)}else return Promise.reject(i+" provider is not supported.")}async function xK(t){const e=ia(t),n=await y5(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new g5(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new P5(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t,e){const n=Qs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Fs(a,e??{}))return i;Si(i,"already-initialized")}return n.initialize({options:e})}function EK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(go);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TK(t,e,n){const r=ia(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=R5(e),{host:s,port:u}=SK(e),c=u===null?"":`:${u}`,f={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Fs(f,r.config.emulator)&&Fs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xc(s)?(t5(`${a}//${s}${c}`),n5("Auth",!0)):AK()}function R5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SK(t){const e=R5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:JP(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:JP(s)}}}function JP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,n){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}async function CK(t,e){return vr(t,"POST","/v1/accounts:update",e)}async function IK(t,e){return vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NK(t,e){return Zs(t,"POST","/v1/accounts:signInWithPassword",yr(t,e))}async function PK(t,e){return vr(t,"POST","/v1/accounts:sendOobCode",yr(t,e))}async function RK(t,e){return PK(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MK(t,e){return Zs(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}async function kK(t,e){return Zs(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends gv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wc(e,n,"signInWithPassword",NK,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return MK(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wc(e,r,"signUpPassword",IK,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kK(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e){return Zs(t,"POST","/v1/accounts:signInWithIdp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK="http://localhost";class tu extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new tu(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ec(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ec(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ec(e,n)}buildRequest(){const e={requestUri:DK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){return vr(t,"POST","/v1/accounts:sendVerificationCode",yr(t,e))}async function OK(t,e){return Zs(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,e))}async function LK(t,e){const n=await Zs(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,e));if(n.temporaryProof)throw Od(t,"account-exists-with-different-credential",n);return n}const VK={USER_NOT_FOUND:"user-not-found"};async function UK(t,e){const n={...e,operation:"REAUTH"};return Zs(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,n),VK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends gv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new $d({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new $d({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return OK(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return LK(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return UK(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new $d({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zK(t){const e=kd(Dd(t)).link,n=e?kd(Dd(e)).deep_link_id:null,r=kd(Dd(t)).deep_link_id;return(r?kd(Dd(r)).link:null)||r||n||e||t}class rS{constructor(e){const n=kd(Dd(e)),r=n.apiKey??null,i=n.oobCode??null,a=jK(n.mode??null);Ee(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zK(e);try{return new rS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.providerId=pu.PROVIDER_ID}static credential(e,n){return sh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rS.parseLink(n);return Ee(r,"argument-error"),sh._fromEmailAndCode(e,r.code,r.tenantId)}}pu.PROVIDER_ID="password";pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends iS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Lh{constructor(){super("facebook.com")}static credential(e){return tu._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tu._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Lh{constructor(){super("github.com")}static credential(e){return tu._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Lh{constructor(){super("twitter.com")}static credential(e,n){return tu._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FK(t,e){return Zs(t,"POST","/v1/accounts:signUp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ki._fromIdTokenResponse(e,r,i),s=QP(r);return new nu({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=QP(r);return new nu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function QP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends ra{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qg(e,n,r,i)}}function M5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qg._fromErrorAndOperation(t,a,e,r):a})}async function qK(t,e,n=!1){const r=await eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e,n=!1){const{auth:r}=t;if(Rr(r.app))return Promise.reject(Ma(r));const i="reauthenticate";try{const a=await eu(t,M5(r,i,e,t),n);Ee(a.idToken,r,"internal-error");const s=eS(a.idToken);Ee(s,r,"internal-error");const{sub:u}=s;return Ee(t.uid===u,r,"user-mismatch"),nu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Si(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(t,e,n=!1){if(Rr(t.app))return Promise.reject(Ma(t));const r="signIn",i=await M5(t,r,e),a=await nu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function O5(t,e){return D5(ia(t),e)}async function BK(t,e){return k5(ht(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t){const e=ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HK(t,e,n){if(Rr(t.app))return Promise.reject(Ma(t));const r=ia(t),s=await wc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FK,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&L5(t),c}),u=await nu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function GK(t,e,n){return Rr(t.app)?Promise.reject(Ma(t)):O5(ht(t),pu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&L5(t),r})}async function $K(t,e){const n=ht(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await RK(n.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(t,e){return vr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WK(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await eu(r,KK(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function YK(t,e){return JK(ht(t),null,e)}async function JK(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const s=await eu(t,CK(r,a));await t._updateTokensIfNecessary(s,!0)}function XK(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function QK(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function ZK(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function V5(t){return ht(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t,e){return vr(t,"POST","/v2/accounts/mfaEnrollment:start",yr(t,e))}const Zg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zg,"1"),this.storage.removeItem(Zg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=1e3,tW=10;class j5 extends U5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);rK()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j5.type="LOCAL";const nW=j5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5 extends U5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z5.type="SESSION";const F5=z5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async f=>f(n.origin,a)),c=await rW(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const f=aS("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function aW(t){dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function oW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function lW(){return oS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="firebaseLocalStorageDb",uW=1,ey="firebaseLocalStorage",B5="fbase_key";class Vh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vv(t,e){return t.transaction([ey],e?"readwrite":"readonly").objectStore(ey)}function cW(){const t=indexedDB.deleteDatabase(q5);return new Vh(t).toPromise()}function sE(){const t=indexedDB.open(q5,uW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ey,{keyPath:B5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ey)?e(r):(r.close(),await cW(),e(await sE()))})})}async function eR(t,e,n){const r=vv(t,!0).put({[B5]:e,value:n});return new Vh(r).toPromise()}async function fW(t,e){const n=vv(t,!1).get(e),r=await new Vh(n).toPromise();return r===void 0?null:r.value}function tR(t,e){const n=vv(t,!0).delete(e);return new Vh(n).toPromise()}const dW=800,hW=3;class H5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yv._getInstance(lW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await oW(),!this.activeServiceWorker)return;this.sender=new iW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sE();return await eR(e,Zg,"1"),await tR(e,Zg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=vv(i,!1).getAll();return new Vh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H5.type="LOCAL";const pW=H5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e){return vr(t,"POST","/v2/accounts/mfaSignIn:start",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=N5("rcb"),mW=new Dh(3e4,6e4);class gW{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=dn().grecaptcha)!=null&&e.render)}load(e,n=""){return Ee(yW(n),e,"argument-error"),this.shouldResolveImmediately(n)&&BP(dn().grecaptcha)?Promise.resolve(dn().grecaptcha):new Promise((r,i)=>{const a=dn().setTimeout(()=>{i(Lr(e,"network-request-failed"))},mW.get());dn()[Xb]=()=>{dn().clearTimeout(a),delete dn()[Xb];const u=dn().grecaptcha;if(!u||!BP(u)){i(Lr(e,"internal-error"));return}const c=u.render;u.render=(f,h)=>{const m=c(f,h);return this.counter++,m},this.hostLanguage=n,r(u)};const s=`${cK()}?${Qc({onload:Xb,render:"explicit",hl:n})}`;nS(s).catch(()=>{clearTimeout(a),i(Lr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=dn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function yW(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class vW{async load(e){return new mK(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="recaptcha",_W={theme:"light",type:"image"};class rR{constructor(e,n,r={..._W}){this.parameters=r,this.type=Kd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ia(e),this.isInvisible=this.parameters.size==="invisible",Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Ee(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vW:new gW,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=dn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ee(d5()&&!oS(),this.auth,"internal-error"),await bW(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await K7(this.auth);Ee(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function bW(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=$d._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function wW(t,e,n){if(Rr(t.app))return Promise.reject(Ma(t));const r=ia(t),i=await EW(r,e,ht(n));return new xW(i,a=>O5(r,a))}async function EW(t,e,n){var r;if(!t._getRecaptchaConfig())try{await xK(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){Ee(a.type==="enroll",t,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await wc(t,s,"mfaSmsEnrollment",async(h,m)=>{if(m.phoneEnrollmentInfo.captchaResponse===Gd){Ee((n==null?void 0:n.type)===Kd,h,"argument-error");const v=await Qb(h,m,n);return ZP(h,v)}return ZP(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{Ee(a.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Ee(s,t,"missing-multi-factor-info");const u={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await wc(t,u,"mfaSmsSignIn",async(m,v)=>{if(v.phoneSignInInfo.captchaResponse===Gd){Ee((n==null?void 0:n.type)===Kd,m,"argument-error");const w=await Qb(m,v,n);return nR(m,w)}return nR(m,v)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await wc(t,a,"sendVerificationCode",async(f,h)=>{if(h.captchaResponse===Gd){Ee((n==null?void 0:n.type)===Kd,f,"argument-error");const m=await Qb(f,h,n);return XP(f,m)}return XP(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{n==null||n._reset()}}async function Qb(t,e,n){Ee(n.type===Kd,t,"argument-error");const r=await n.verify();Ee(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){return e?go(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ec(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ec(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TW(t){return D5(t.auth,new sS(t),t.bypassAuthState)}function SW(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),k5(n,new sS(t),t.bypassAuthState)}async function AW(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),qK(n,new sS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TW;case"linkViaPopup":case"linkViaRedirect":return AW;case"reauthViaPopup":case"reauthViaRedirect":return SW;default:Si(this.auth,"internal-error")}}resolve(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=new Dh(2e3,1e4);async function IW(t,e,n){if(Rr(t.app))return Promise.reject(Lr(t,"operation-not-supported-in-this-environment"));const r=ia(t);j7(t,e,iS);const i=G5(r,n);return new Fl(r,"signInViaPopup",e,i).executeNotNull()}class Fl extends $5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Co(this.filter.length===1,"Popup operations only handle one event");const e=aS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CW.get())};e()}}Fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW="pendingRedirect",Sg=new Map;class PW extends $5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sg.get(this.auth._key());if(!e){try{const r=await RW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sg.set(this.auth._key(),e)}return this.bypassAuthState||Sg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RW(t,e){const n=DW(e),r=kW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MW(t,e){Sg.set(t._key(),e)}function kW(t){return go(t._redirectPersistence)}function DW(t){return Tg(NW,t.config.apiKey,t.name)}async function OW(t,e,n=!1){if(Rr(t.app))return Promise.reject(Ma(t));const r=ia(t),i=G5(r,e),s=await new PW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=600*1e3;class VW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K5(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LW&&this.cachedEventUids.clear(),this.cachedEventUids.has(iR(e))}saveEventToCache(e){this.cachedEventUids.add(iR(e)),this.lastProcessedEventTime=Date.now()}}function iR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e={}){return vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FW=/^https?/;async function qW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jW(t);for(const n of e)try{if(BW(n))return}catch{}Si(t,"unauthorized-domain")}function BW(t){const e=aE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!FW.test(n))return!1;if(zW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=new Dh(3e4,6e4);function aR(){const t=dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GW(t){return new Promise((e,n)=>{var i,a,s;function r(){aR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aR(),n(Lr(t,"network-request-failed"))},timeout:HW.get()})}if((a=(i=dn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=dn().gapi)!=null&&s.load)r();else{const u=N5("iframefcb");return dn()[u]=()=>{gapi.load?r():n(Lr(t,"network-request-failed"))},nS(`${dK()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Ag=null,e})}let Ag=null;function $W(t){return Ag=Ag||GW(t),Ag}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=new Dh(5e3,15e3),WW="__/auth/iframe",YW="emulator/auth/iframe",JW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QW(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ZT(e,YW):`https://${t.config.authDomain}/${WW}`,r={apiKey:e.apiKey,appName:t.name,v:Zc},i=XW.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Qc(r).slice(1)}`}async function ZW(t){const e=await $W(t),n=dn().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:QW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JW,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Lr(t,"network-request-failed"),u=dn().setTimeout(()=>{a(s)},KW.get());function c(){dn().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tY=500,nY=600,rY="_blank",iY="http://localhost";class oR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aY(t,e,n,r=tY,i=nY){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...eY,width:r.toString(),height:i.toString(),top:a,left:s},f=ir().toLowerCase();n&&(u=w5(f)?rY:n),b5(f)&&(e=e||iY,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[w,A])=>`${v}${w}=${A},`,"");if(nK(f)&&u!=="_self")return oY(e||"",u),new oR(null);const m=window.open(e||"",u,h);Ee(m,t,"popup-blocked");try{m.focus()}catch{}return new oR(m)}function oY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY="__/auth/handler",lY="emulator/auth/handler",uY=encodeURIComponent("fac");async function sR(t,e,n,r,i,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zc,eventId:i};if(e instanceof iS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",w$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Lh){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${uY}=${encodeURIComponent(c)}`:"";return`${cY(t)}?${Qc(u).slice(1)}${f}`}function cY({config:t}){return t.emulator?ZT(t,lY):`https://${t.authDomain}/${sY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="webStorageSupport";class fY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F5,this._completeRedirectFn=OW,this._overrideRedirectResult=MW}async _openPopup(e,n,r,i){var s;Co((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await sR(e,n,r,aE(),i);return aY(e,a,aS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await sR(e,n,r,aE(),i);return aW(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Co(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZW(e),r=new VW(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zb,{type:Zb},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Zb];a!==void 0&&n(!!a),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C5()||x5()||tS()}}const dY=fY;var lR="@firebase/auth",uR="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mY(t){Ti(new ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I5(t)},f=new lK(r,i,a,c);return EK(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new ni("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(r=>new hY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(lR,uR,pY(t)),Or(lR,uR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=300,yY=e5("authIdTokenMaxAge")||gY;let cR=null;const vY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yY)return;const i=n==null?void 0:n.token;cR!==i&&(cR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _Y(t=mv()){const e=Qs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wK(t,{popupRedirectResolver:dY,persistence:[pW,nW,F5]}),r=e5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=vY(a.toString());QK(n,s,()=>s(n.currentUser)),XK(n,u=>s(u))}}const i=Q4("auth");return i&&TK(n,`http://${i}`),n}function bY(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Lr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",bY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mY("Browser");var xY="firebase",wY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(xY,wY,"app");const W5="@firebase/installations",lS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=1e4,J5=`w:${lS}`,X5="FIS_v2",EY="https://firebaseinstallations.googleapis.com/v1",TY=3600*1e3,SY="installations",AY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ru=new Xs(SY,AY,CY);function Q5(t){return t instanceof ra&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5({projectId:t}){return`${EY}/projects/${t}/installations`}function eV(t){return{token:t.token,requestStatus:2,expiresIn:NY(t.expiresIn),creationTime:Date.now()}}async function tV(t,e){const r=(await e.json()).error;return ru.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IY(t,{refreshToken:e}){const n=nV(t);return n.append("Authorization",PY(e)),n}async function rV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function NY(t){return Number(t.replace("s","000"))}function PY(t){return`${X5} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Z5(t),i=nV(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:X5,appId:t.appId,sdkVersion:J5},u={method:"POST",headers:i,body:JSON.stringify(s)},c=await rV(()=>fetch(r,u));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:eV(f.authToken)}}else throw await tV("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=/^[cdef][\w-]{21}$/,lE="";function DY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=OY(t);return kY.test(n)?n:lE}catch{return lE}}function OY(t){return MY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Map;function oV(t,e){const n=_v(t);sV(n,e),LY(n,e)}function sV(t,e){const n=aV.get(t);if(n)for(const r of n)r(e)}function LY(t,e){const n=VY();n&&n.postMessage({key:t,fid:e}),UY()}let ql=null;function VY(){return!ql&&"BroadcastChannel"in self&&(ql=new BroadcastChannel("[Firebase] FID Change"),ql.onmessage=t=>{sV(t.data.key,t.data.fid)}),ql}function UY(){aV.size===0&&ql&&(ql.close(),ql=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY="firebase-installations-database",zY=1,iu="firebase-installations-store";let ex=null;function uS(){return ex||(ex=pv(jY,zY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(iu)}}})),ex}async function ty(t,e){const n=_v(t),i=(await uS()).transaction(iu,"readwrite"),a=i.objectStore(iu),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&oV(t,e.fid),e}async function lV(t){const e=_v(t),r=(await uS()).transaction(iu,"readwrite");await r.objectStore(iu).delete(e),await r.done}async function bv(t,e){const n=_v(t),i=(await uS()).transaction(iu,"readwrite"),a=i.objectStore(iu),s=await a.get(n),u=e(s);return u===void 0?await a.delete(n):await a.put(u,n),await i.done,u&&(!s||s.fid!==u.fid)&&oV(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t){let e;const n=await bv(t.appConfig,r=>{const i=FY(r),a=qY(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===lE?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function FY(t){const e=t||{fid:DY(),registrationStatus:0};return uV(e)}function qY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ru.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HY(t)}:{installationEntry:e}}async function BY(t,e){try{const n=await RY(t,e);return ty(t.appConfig,n)}catch(n){throw Q5(n)&&n.customData.serverCode===409?await lV(t.appConfig):await ty(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function HY(t){let e=await fR(t.appConfig);for(;e.registrationStatus===1;)await iV(100),e=await fR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await cS(t);return r||n}return e}function fR(t){return bv(t,e=>{if(!e)throw ru.create("installation-not-found");return uV(e)})}function uV(t){return GY(t)?{fid:t.fid,registrationStatus:0}:t}function GY(t){return t.registrationStatus===1&&t.registrationTime+Y5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Y({appConfig:t,heartbeatServiceProvider:e},n){const r=KY(t,n),i=IY(t,n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:J5,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(s)},c=await rV(()=>fetch(r,u));if(c.ok){const f=await c.json();return eV(f)}else throw await tV("Generate Auth Token",c)}function KY(t,{fid:e}){return`${Z5(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t,e=!1){let n;const r=await bv(t.appConfig,a=>{if(!cV(a))throw ru.create("not-registered");const s=a.authToken;if(!e&&JY(s))return a;if(s.requestStatus===1)return n=WY(t,e),a;{if(!navigator.onLine)throw ru.create("app-offline");const u=QY(a);return n=YY(t,u),u}});return n?await n:r.authToken}async function WY(t,e){let n=await dR(t.appConfig);for(;n.authToken.requestStatus===1;)await iV(100),n=await dR(t.appConfig);const r=n.authToken;return r.requestStatus===0?fS(t,e):r}function dR(t){return bv(t,e=>{if(!cV(e))throw ru.create("not-registered");const n=e.authToken;return ZY(n)?{...e,authToken:{requestStatus:0}}:e})}async function YY(t,e){try{const n=await $Y(t,e),r={...e,authToken:n};return await ty(t.appConfig,r),n}catch(n){if(Q5(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lV(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ty(t.appConfig,r)}throw n}}function cV(t){return t!==void 0&&t.registrationStatus===2}function JY(t){return t.requestStatus===2&&!XY(t)}function XY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+TY}function QY(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function ZY(t){return t.requestStatus===1&&t.requestTime+Y5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eJ(t){const e=t,{installationEntry:n,registrationPromise:r}=await cS(e);return r?r.catch(console.error):fS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tJ(t,e=!1){const n=t;return await nJ(n),(await fS(n,e)).token}async function nJ(t){const{registrationPromise:e}=await cS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(t){if(!t||!t.options)throw tx("App Configuration");if(!t.name)throw tx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tx(t){return ru.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="installations",iJ="installations-internal",aJ=t=>{const e=t.getProvider("app").getImmediate(),n=rJ(e),r=Qs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oJ=t=>{const e=t.getProvider("app").getImmediate(),n=Qs(e,fV).getImmediate();return{getId:()=>eJ(n),getToken:i=>tJ(n,i)}};function sJ(){Ti(new ni(fV,aJ,"PUBLIC")),Ti(new ni(iJ,oJ,"PRIVATE"))}sJ();Or(W5,lS);Or(W5,lS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="analytics",lJ="firebase_id",uJ="origin",cJ=60*1e3,fJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new hv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zr=new Xs("analytics","Analytics",dJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(t){if(!t.startsWith(dS)){const e=Zr.create("invalid-gtag-resource",{gtagURL:t});return dr.warn(e.message),""}return t}function dV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function mJ(t,e){const n=pJ("firebase-js-sdk-policy",{createScriptURL:hJ}),r=document.createElement("script"),i=`${dS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function gJ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function yJ(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const c=(await dV(n)).find(f=>f.measurementId===i);c&&await e[c.appId]}}catch(u){dr.error(u)}t("config",i,a)}async function vJ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const u=await dV(n);for(const c of s){const f=u.find(m=>m.measurementId===c),h=f&&e[f.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){dr.error(a)}}function _J(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[u,c]=s;await vJ(t,e,n,u,c)}else if(a==="config"){const[u,c]=s;await yJ(t,e,n,r,u,c)}else if(a==="consent"){const[u,c]=s;t("consent",u,c)}else if(a==="get"){const[u,c,f]=s;t("get",u,c,f)}else if(a==="set"){const[u]=s;t("set",u)}else t(a,...s)}catch(u){dr.error(u)}}return i}function bJ(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=_J(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function xJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(dS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ=30,EJ=1e3;class TJ{constructor(e={},n=EJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hV=new TJ;function SJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AJ(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:SJ(n)},i=fJ.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();(s=c.error)!=null&&s.message&&(u=c.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function CJ(t,e=hV,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Zr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Zr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new PJ;return setTimeout(async()=>{u.abort()},cJ),pV({appId:r,apiKey:i,measurementId:a},s,u,e)}async function pV(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hV){var u;const{appId:a,measurementId:s}=t;try{await IJ(r,e)}catch(c){if(s)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw c}try{const c=await AJ(t);return i.deleteThrottleMetadata(a),c}catch(c){const f=c;if(!NJ(f)){if(i.deleteThrottleMetadata(a),s)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:a,measurementId:s};throw c}const h=Number((u=f==null?void 0:f.customData)==null?void 0:u.httpStatus)===503?kP(n,i.intervalMillis,wJ):kP(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(a,m),dr.debug(`Calling attemptFetch again in ${h} millis`),pV(t,m,r,i)}}function IJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function NJ(t){if(!(t instanceof ra)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class PJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function RJ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function MJ(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kJ(){if(WT())try{await YT()}catch(t){return dr.warn(Zr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dr.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DJ(t,e,n,r,i,a,s){const u=CJ(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>dr.error(v)),e.push(u);const c=kJ().then(v=>{if(v)return r.getId()}),[f,h]=await Promise.all([u,c]);xJ(a)||mJ(a,f.measurementId),i("js",new Date);const m=(s==null?void 0:s.config)??{};return m[uJ]="firebase",m.update=!0,h!=null&&(m[lJ]=h),i("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e){this.app=e}_delete(){return delete Tc[this.app.options.appId],Promise.resolve()}}let Tc={},hR=[];const pR={};let nx="dataLayer",LJ="gtag",mR,hS,gR=!1;function VJ(){const t=[];if(r5()&&t.push("This is a browser extension environment."),i5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zr.create("invalid-analytics-context",{errorInfo:e});dr.warn(n.message)}}function UJ(t,e,n){VJ();const r=t.options.appId;if(!r)throw Zr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zr.create("no-api-key");if(Tc[r]!=null)throw Zr.create("already-exists",{id:r});if(!gR){gJ(nx);const{wrappedGtag:a,gtagCore:s}=bJ(Tc,hR,pR,nx,LJ);hS=a,mR=s,gR=!0}return Tc[r]=DJ(t,hR,pR,e,mR,nx,n),new OJ(t)}function jJ(t=mv()){t=ht(t);const e=Qs(t,ny);return e.isInitialized()?e.getImmediate():zJ(t)}function zJ(t,e={}){const n=Qs(t,ny);if(n.isInitialized()){const i=n.getImmediate();if(Fs(e,n.getOptions()))return i;throw Zr.create("already-initialized")}return n.initialize({options:e})}function FJ(t,e,n){t=ht(t),MJ(hS,Tc[t.app.options.appId],e,n).catch(r=>dr.error(r))}function qJ(t,e,n,r){t=ht(t),RJ(hS,Tc[t.app.options.appId],e,n,r).catch(i=>dr.error(i))}const yR="@firebase/analytics",vR="0.10.19";function BJ(){Ti(new ni(ny,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return UJ(r,i,n)},"PUBLIC")),Ti(new ni("analytics-internal",t,"PRIVATE")),Or(yR,vR),Or(yR,vR,"esm2020");function t(e){try{const n=e.getProvider(ny).getImmediate();return{logEvent:(r,i,a)=>qJ(n,r,i,a),setUserProperties:(r,i)=>FJ(n,r,i)}}catch(n){throw Zr.create("interop-component-reg-failed",{reason:n})}}}BJ();var _R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,mV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function L(){}L.prototype=O.prototype,k.F=O.prototype,k.prototype=new L,k.prototype.constructor=k,k.D=function(F,j,q){for(var H=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)H[_e-2]=arguments[_e];return O.prototype[j].apply(F,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,O,L){L||(L=0);const F=Array(16);if(typeof O=="string")for(var j=0;j<16;++j)F[j]=O.charCodeAt(L++)|O.charCodeAt(L++)<<8|O.charCodeAt(L++)<<16|O.charCodeAt(L++)<<24;else for(j=0;j<16;++j)F[j]=O[L++]|O[L++]<<8|O[L++]<<16|O[L++]<<24;O=k.g[0],L=k.g[1],j=k.g[2];let q=k.g[3],H;H=O+(q^L&(j^q))+F[0]+3614090360&4294967295,O=L+(H<<7&4294967295|H>>>25),H=q+(j^O&(L^j))+F[1]+3905402710&4294967295,q=O+(H<<12&4294967295|H>>>20),H=j+(L^q&(O^L))+F[2]+606105819&4294967295,j=q+(H<<17&4294967295|H>>>15),H=L+(O^j&(q^O))+F[3]+3250441966&4294967295,L=j+(H<<22&4294967295|H>>>10),H=O+(q^L&(j^q))+F[4]+4118548399&4294967295,O=L+(H<<7&4294967295|H>>>25),H=q+(j^O&(L^j))+F[5]+1200080426&4294967295,q=O+(H<<12&4294967295|H>>>20),H=j+(L^q&(O^L))+F[6]+2821735955&4294967295,j=q+(H<<17&4294967295|H>>>15),H=L+(O^j&(q^O))+F[7]+4249261313&4294967295,L=j+(H<<22&4294967295|H>>>10),H=O+(q^L&(j^q))+F[8]+1770035416&4294967295,O=L+(H<<7&4294967295|H>>>25),H=q+(j^O&(L^j))+F[9]+2336552879&4294967295,q=O+(H<<12&4294967295|H>>>20),H=j+(L^q&(O^L))+F[10]+4294925233&4294967295,j=q+(H<<17&4294967295|H>>>15),H=L+(O^j&(q^O))+F[11]+2304563134&4294967295,L=j+(H<<22&4294967295|H>>>10),H=O+(q^L&(j^q))+F[12]+1804603682&4294967295,O=L+(H<<7&4294967295|H>>>25),H=q+(j^O&(L^j))+F[13]+4254626195&4294967295,q=O+(H<<12&4294967295|H>>>20),H=j+(L^q&(O^L))+F[14]+2792965006&4294967295,j=q+(H<<17&4294967295|H>>>15),H=L+(O^j&(q^O))+F[15]+1236535329&4294967295,L=j+(H<<22&4294967295|H>>>10),H=O+(j^q&(L^j))+F[1]+4129170786&4294967295,O=L+(H<<5&4294967295|H>>>27),H=q+(L^j&(O^L))+F[6]+3225465664&4294967295,q=O+(H<<9&4294967295|H>>>23),H=j+(O^L&(q^O))+F[11]+643717713&4294967295,j=q+(H<<14&4294967295|H>>>18),H=L+(q^O&(j^q))+F[0]+3921069994&4294967295,L=j+(H<<20&4294967295|H>>>12),H=O+(j^q&(L^j))+F[5]+3593408605&4294967295,O=L+(H<<5&4294967295|H>>>27),H=q+(L^j&(O^L))+F[10]+38016083&4294967295,q=O+(H<<9&4294967295|H>>>23),H=j+(O^L&(q^O))+F[15]+3634488961&4294967295,j=q+(H<<14&4294967295|H>>>18),H=L+(q^O&(j^q))+F[4]+3889429448&4294967295,L=j+(H<<20&4294967295|H>>>12),H=O+(j^q&(L^j))+F[9]+568446438&4294967295,O=L+(H<<5&4294967295|H>>>27),H=q+(L^j&(O^L))+F[14]+3275163606&4294967295,q=O+(H<<9&4294967295|H>>>23),H=j+(O^L&(q^O))+F[3]+4107603335&4294967295,j=q+(H<<14&4294967295|H>>>18),H=L+(q^O&(j^q))+F[8]+1163531501&4294967295,L=j+(H<<20&4294967295|H>>>12),H=O+(j^q&(L^j))+F[13]+2850285829&4294967295,O=L+(H<<5&4294967295|H>>>27),H=q+(L^j&(O^L))+F[2]+4243563512&4294967295,q=O+(H<<9&4294967295|H>>>23),H=j+(O^L&(q^O))+F[7]+1735328473&4294967295,j=q+(H<<14&4294967295|H>>>18),H=L+(q^O&(j^q))+F[12]+2368359562&4294967295,L=j+(H<<20&4294967295|H>>>12),H=O+(L^j^q)+F[5]+4294588738&4294967295,O=L+(H<<4&4294967295|H>>>28),H=q+(O^L^j)+F[8]+2272392833&4294967295,q=O+(H<<11&4294967295|H>>>21),H=j+(q^O^L)+F[11]+1839030562&4294967295,j=q+(H<<16&4294967295|H>>>16),H=L+(j^q^O)+F[14]+4259657740&4294967295,L=j+(H<<23&4294967295|H>>>9),H=O+(L^j^q)+F[1]+2763975236&4294967295,O=L+(H<<4&4294967295|H>>>28),H=q+(O^L^j)+F[4]+1272893353&4294967295,q=O+(H<<11&4294967295|H>>>21),H=j+(q^O^L)+F[7]+4139469664&4294967295,j=q+(H<<16&4294967295|H>>>16),H=L+(j^q^O)+F[10]+3200236656&4294967295,L=j+(H<<23&4294967295|H>>>9),H=O+(L^j^q)+F[13]+681279174&4294967295,O=L+(H<<4&4294967295|H>>>28),H=q+(O^L^j)+F[0]+3936430074&4294967295,q=O+(H<<11&4294967295|H>>>21),H=j+(q^O^L)+F[3]+3572445317&4294967295,j=q+(H<<16&4294967295|H>>>16),H=L+(j^q^O)+F[6]+76029189&4294967295,L=j+(H<<23&4294967295|H>>>9),H=O+(L^j^q)+F[9]+3654602809&4294967295,O=L+(H<<4&4294967295|H>>>28),H=q+(O^L^j)+F[12]+3873151461&4294967295,q=O+(H<<11&4294967295|H>>>21),H=j+(q^O^L)+F[15]+530742520&4294967295,j=q+(H<<16&4294967295|H>>>16),H=L+(j^q^O)+F[2]+3299628645&4294967295,L=j+(H<<23&4294967295|H>>>9),H=O+(j^(L|~q))+F[0]+4096336452&4294967295,O=L+(H<<6&4294967295|H>>>26),H=q+(L^(O|~j))+F[7]+1126891415&4294967295,q=O+(H<<10&4294967295|H>>>22),H=j+(O^(q|~L))+F[14]+2878612391&4294967295,j=q+(H<<15&4294967295|H>>>17),H=L+(q^(j|~O))+F[5]+4237533241&4294967295,L=j+(H<<21&4294967295|H>>>11),H=O+(j^(L|~q))+F[12]+1700485571&4294967295,O=L+(H<<6&4294967295|H>>>26),H=q+(L^(O|~j))+F[3]+2399980690&4294967295,q=O+(H<<10&4294967295|H>>>22),H=j+(O^(q|~L))+F[10]+4293915773&4294967295,j=q+(H<<15&4294967295|H>>>17),H=L+(q^(j|~O))+F[1]+2240044497&4294967295,L=j+(H<<21&4294967295|H>>>11),H=O+(j^(L|~q))+F[8]+1873313359&4294967295,O=L+(H<<6&4294967295|H>>>26),H=q+(L^(O|~j))+F[15]+4264355552&4294967295,q=O+(H<<10&4294967295|H>>>22),H=j+(O^(q|~L))+F[6]+2734768916&4294967295,j=q+(H<<15&4294967295|H>>>17),H=L+(q^(j|~O))+F[13]+1309151649&4294967295,L=j+(H<<21&4294967295|H>>>11),H=O+(j^(L|~q))+F[4]+4149444226&4294967295,O=L+(H<<6&4294967295|H>>>26),H=q+(L^(O|~j))+F[11]+3174756917&4294967295,q=O+(H<<10&4294967295|H>>>22),H=j+(O^(q|~L))+F[2]+718787259&4294967295,j=q+(H<<15&4294967295|H>>>17),H=L+(q^(j|~O))+F[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(j+(H<<21&4294967295|H>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+q&4294967295}r.prototype.v=function(k,O){O===void 0&&(O=k.length);const L=O-this.blockSize,F=this.C;let j=this.h,q=0;for(;q<O;){if(j==0)for(;q<=L;)i(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<O;)if(F[j++]=k.charCodeAt(q++),j==this.blockSize){i(this,F),j=0;break}}else for(;q<O;)if(F[j++]=k[q++],j==this.blockSize){i(this,F),j=0;break}}this.h=j,this.o+=O},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var L=k.length-8;L<k.length;++L)k[L]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,L=0;L<4;++L)for(let F=0;F<32;F+=8)k[O++]=this.g[L]>>>F&255;return k};function a(k,O){var L=u;return Object.prototype.hasOwnProperty.call(L,k)?L[k]:L[k]=O(k)}function s(k,O){this.h=O;const L=[];let F=!0;for(let j=k.length-1;j>=0;j--){const q=k[j]|0;F&&q==O||(L[j]=q,F=!1)}this.g=L}var u={};function c(k){return-128<=k&&k<128?a(k,function(O){return new s([O|0],O<0?-1:0)}):new s([k|0],k<0?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return m;if(k<0)return C(f(-k));const O=[];let L=1;for(let F=0;k>=L;F++)O[F]=k/L|0,L*=4294967296;return new s(O,0)}function h(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return C(h(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=f(Math.pow(O,8));let F=m;for(let q=0;q<k.length;q+=8){var j=Math.min(8,k.length-q);const H=parseInt(k.substring(q,q+j),O);j<8?(j=f(Math.pow(O,j)),F=F.j(j).add(f(H))):(F=F.j(L),F=F.add(f(H)))}return F}var m=c(0),v=c(1),w=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-C(this).m();let k=0,O=1;for(let L=0;L<this.g.length;L++){const F=this.i(L);k+=(F>=0?F:4294967296+F)*O,O*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(S(this))return"-"+C(this).toString(k);const O=f(Math.pow(k,6));var L=this;let F="";for(;;){const j=V(L,O).g;L=P(L,j.j(O));let q=((L.g.length>0?L.g[0]:L.h)>>>0).toString(k);if(L=j,A(L))return q+F;for(;q.length<6;)q="0"+q;F=q+F}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=P(this,k),S(k)?-1:A(k)?0:1};function C(k){const O=k.g.length,L=[];for(let F=0;F<O;F++)L[F]=~k.g[F];return new s(L,~k.h).add(v)}t.abs=function(){return S(this)?C(this):this},t.add=function(k){const O=Math.max(this.g.length,k.g.length),L=[];let F=0;for(let j=0;j<=O;j++){let q=F+(this.i(j)&65535)+(k.i(j)&65535),H=(q>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);F=H>>>16,q&=65535,H&=65535,L[j]=H<<16|q}return new s(L,L[L.length-1]&-2147483648?-1:0)};function P(k,O){return k.add(C(O))}t.j=function(k){if(A(this)||A(k))return m;if(S(this))return S(k)?C(this).j(C(k)):C(C(this).j(k));if(S(k))return C(this.j(C(k)));if(this.l(w)<0&&k.l(w)<0)return f(this.m()*k.m());const O=this.g.length+k.g.length,L=[];for(var F=0;F<2*O;F++)L[F]=0;for(F=0;F<this.g.length;F++)for(let j=0;j<k.g.length;j++){const q=this.i(F)>>>16,H=this.i(F)&65535,_e=k.i(j)>>>16,Ce=k.i(j)&65535;L[2*F+2*j]+=H*Ce,D(L,2*F+2*j),L[2*F+2*j+1]+=q*Ce,D(L,2*F+2*j+1),L[2*F+2*j+1]+=H*_e,D(L,2*F+2*j+1),L[2*F+2*j+2]+=q*_e,D(L,2*F+2*j+2)}for(k=0;k<O;k++)L[k]=L[2*k+1]<<16|L[2*k];for(k=O;k<2*O;k++)L[k]=0;return new s(L,0)};function D(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function M(k,O){this.g=k,this.h=O}function V(k,O){if(A(O))throw Error("division by zero");if(A(k))return new M(m,m);if(S(k))return O=V(C(k),O),new M(C(O.g),C(O.h));if(S(O))return O=V(k,C(O)),new M(C(O.g),O.h);if(k.g.length>30){if(S(k)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var L=v,F=O;F.l(k)<=0;)L=U(L),F=U(F);var j=G(L,1),q=G(F,1);for(F=G(F,2),L=G(L,2);!A(F);){var H=q.add(F);H.l(k)<=0&&(j=j.add(L),q=H),F=G(F,1),L=G(L,1)}return O=P(k,j.j(O)),new M(j,O)}for(j=m;k.l(O)>=0;){for(L=Math.max(1,Math.floor(k.m()/O.m())),F=Math.ceil(Math.log(L)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),q=f(L),H=q.j(O);S(H)||H.l(k)>0;)L-=F,q=f(L),H=q.j(O);A(q)&&(q=v),j=j.add(q),k=P(k,H)}return new M(j,k)}t.B=function(k){return V(this,k).h},t.and=function(k){const O=Math.max(this.g.length,k.g.length),L=[];for(let F=0;F<O;F++)L[F]=this.i(F)&k.i(F);return new s(L,this.h&k.h)},t.or=function(k){const O=Math.max(this.g.length,k.g.length),L=[];for(let F=0;F<O;F++)L[F]=this.i(F)|k.i(F);return new s(L,this.h|k.h)},t.xor=function(k){const O=Math.max(this.g.length,k.g.length),L=[];for(let F=0;F<O;F++)L[F]=this.i(F)^k.i(F);return new s(L,this.h^k.h)};function U(k){const O=k.g.length+1,L=[];for(let F=0;F<O;F++)L[F]=k.i(F)<<1|k.i(F-1)>>>31;return new s(L,k.h)}function G(k,O){const L=O>>5;O%=32;const F=k.g.length-L,j=[];for(let q=0;q<F;q++)j[q]=O>0?k.i(q+L)>>>O|k.i(q+L+1)<<32-O:k.i(q+L);return new s(j,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mV=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Os=s}).apply(typeof _R<"u"?_R:typeof self<"u"?self:typeof window<"u"?window:{});var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gV,Ld,yV,Cg,uE,vV,_V,bV;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ym=="object"&&Ym];for(var I=0;I<b.length;++I){var R=b[I];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(b,I){if(I)e:{var R=r;b=b.split(".");for(var B=0;B<b.length-1;B++){var Q=b[B];if(!(Q in R))break e;R=R[Q]}b=b[b.length-1],B=R[b],I=I(B),I!=B&&I!=null&&e(R,b,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(I){var R=[],B;for(B in I)Object.prototype.hasOwnProperty.call(I,B)&&R.push([B,I[B]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function u(b){var I=typeof b;return I=="object"&&b!=null||I=="function"}function c(b,I,R){return b.call.apply(b.bind,arguments)}function f(b,I,R){return f=c,f.apply(null,arguments)}function h(b,I){var R=Array.prototype.slice.call(arguments,1);return function(){var B=R.slice();return B.push.apply(B,arguments),b.apply(this,B)}}function m(b,I){function R(){}R.prototype=I.prototype,b.Z=I.prototype,b.prototype=new R,b.prototype.constructor=b,b.Ob=function(B,Q,ne){for(var ve=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ve[Be-2]=arguments[Be];return I.prototype[Q].apply(B,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function w(b){const I=b.length;if(I>0){const R=Array(I);for(let B=0;B<I;B++)R[B]=b[B];return R}return[]}function A(b,I){for(let B=1;B<arguments.length;B++){const Q=arguments[B];var R=typeof Q;if(R=R!="object"?R:Q?Array.isArray(Q)?"array":R:"null",R=="array"||R=="object"&&typeof Q.length=="number"){R=b.length||0;const ne=Q.length||0;b.length=R+ne;for(let ve=0;ve<ne;ve++)b[R+ve]=Q[ve]}else b.push(Q)}}class S{constructor(I,R){this.i=I,this.j=R,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function C(b){s.setTimeout(()=>{throw b},0)}function P(){var b=k;let I=null;return b.g&&(I=b.g,b.g=b.g.next,b.g||(b.h=null),I.next=null),I}class D{constructor(){this.h=this.g=null}add(I,R){const B=M.get();B.set(I,R),this.h?this.h.next=B:this.g=B,this.h=B}}var M=new S(()=>new V,b=>b.reset());class V{constructor(){this.next=this.g=this.h=null}set(I,R){this.h=I,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let U,G=!1,k=new D,O=()=>{const b=Promise.resolve(void 0);U=()=>{b.then(L)}};function L(){for(var b;b=P();){try{b.h.call(b.g)}catch(R){C(R)}var I=M;I.j(b),I.h<100&&(I.h++,b.next=I.g,I.g=b)}G=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(b,I){this.type=b,this.g=this.target=I,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var b=!1,I=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const R=()=>{};s.addEventListener("test",R,I),s.removeEventListener("test",R,I)}catch{}return b})();function H(b){return/^[\s\xa0]*$/.test(b)}function _e(b,I){j.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,I)}m(_e,j),_e.prototype.init=function(b,I){const R=this.type=b.type,B=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=I,I=b.relatedTarget,I||(R=="mouseover"?I=b.fromElement:R=="mouseout"&&(I=b.toElement)),this.relatedTarget=I,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(b,I,R,B,Q){this.listener=b,this.proxy=null,this.src=I,this.type=R,this.capture=!!B,this.ha=Q,this.key=++J,this.da=this.fa=!1}function he(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function me(b,I,R){for(const B in b)I.call(R,b[B],B,b)}function Oe(b,I){for(const R in b)I.call(void 0,b[R],R,b)}function K(b){const I={};for(const R in b)I[R]=b[R];return I}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(b,I){let R,B;for(let Q=1;Q<arguments.length;Q++){B=arguments[Q];for(R in B)b[R]=B[R];for(let ne=0;ne<ae.length;ne++)R=ae[ne],Object.prototype.hasOwnProperty.call(B,R)&&(b[R]=B[R])}}function ye(b){this.src=b,this.g={},this.h=0}ye.prototype.add=function(b,I,R,B,Q){const ne=b.toString();b=this.g[ne],b||(b=this.g[ne]=[],this.h++);const ve=Se(b,I,B,Q);return ve>-1?(I=b[ve],R||(I.fa=!1)):(I=new X(I,this.src,ne,!!B,Q),I.fa=R,b.push(I)),I};function de(b,I){const R=I.type;if(R in b.g){var B=b.g[R],Q=Array.prototype.indexOf.call(B,I,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(B,Q,1),ne&&(he(I),b.g[R].length==0&&(delete b.g[R],b.h--))}}function Se(b,I,R,B){for(let Q=0;Q<b.length;++Q){const ne=b[Q];if(!ne.da&&ne.listener==I&&ne.capture==!!R&&ne.ha==B)return Q}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),rt={};function oe(b,I,R,B,Q){if(Array.isArray(I)){for(let ne=0;ne<I.length;ne++)oe(b,I[ne],R,B,Q);return null}return R=$o(R),b&&b[Ce]?b.J(I,R,u(B)?!!B.capture:!1,Q):Ve(b,I,R,!1,B,Q)}function Ve(b,I,R,B,Q,ne){if(!I)throw Error("Invalid event type");const ve=u(Q)?!!Q.capture:!!Q;let Be=Ht(b);if(Be||(b[Te]=Be=new ye(b)),R=Be.add(I,R,B,ve,ne),R.proxy)return R;if(B=je(),R.proxy=B,B.src=b,B.listener=R,b.addEventListener)q||(Q=ve),Q===void 0&&(Q=!1),b.addEventListener(I.toString(),B,Q);else if(b.attachEvent)b.attachEvent($e(I.toString()),B);else if(b.addListener&&b.removeListener)b.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return R}function je(){function b(R){return I.call(b.src,b.listener,R)}const I=_n;return b}function pe(b,I,R,B,Q){if(Array.isArray(I))for(var ne=0;ne<I.length;ne++)pe(b,I[ne],R,B,Q);else B=u(B)?!!B.capture:!!B,R=$o(R),b&&b[Ce]?(b=b.i,ne=String(I).toString(),ne in b.g&&(I=b.g[ne],R=Se(I,R,B,Q),R>-1&&(he(I[R]),Array.prototype.splice.call(I,R,1),I.length==0&&(delete b.g[ne],b.h--)))):b&&(b=Ht(b))&&(I=b.g[I.toString()],b=-1,I&&(b=Se(I,R,B,Q)),(R=b>-1?I[b]:null)&&zt(R))}function zt(b){if(typeof b!="number"&&b&&!b.da){var I=b.src;if(I&&I[Ce])de(I.i,b);else{var R=b.type,B=b.proxy;I.removeEventListener?I.removeEventListener(R,B,b.capture):I.detachEvent?I.detachEvent($e(R),B):I.addListener&&I.removeListener&&I.removeListener(B),(R=Ht(I))?(de(R,b),R.h==0&&(R.src=null,I[Te]=null)):he(b)}}}function $e(b){return b in rt?rt[b]:rt[b]="on"+b}function _n(b,I){if(b.da)b=!0;else{I=new _e(I,this);const R=b.listener,B=b.ha||b.src;b.fa&&zt(b),b=R.call(B,I)}return b}function Ht(b){return b=b[Te],b instanceof ye?b:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(b){return typeof b=="function"?b:(b[jr]||(b[jr]=function(I){return b.handleEvent(I)}),b[jr])}function tn(){F.call(this),this.i=new ye(this),this.M=this,this.G=null}m(tn,F),tn.prototype[Ce]=!0,tn.prototype.removeEventListener=function(b,I,R,B){pe(this,b,I,R,B)};function bn(b,I){var R,B=b.G;if(B)for(R=[];B;B=B.G)R.push(B);if(b=b.M,B=I.type||I,typeof I=="string")I=new j(I,b);else if(I instanceof j)I.target=I.target||b;else{var Q=I;I=new j(B,b),ge(I,Q)}Q=!0;let ne,ve;if(R)for(ve=R.length-1;ve>=0;ve--)ne=I.g=R[ve],Q=Ko(ne,B,!0,I)&&Q;if(ne=I.g=b,Q=Ko(ne,B,!0,I)&&Q,Q=Ko(ne,B,!1,I)&&Q,R)for(ve=0;ve<R.length;ve++)ne=I.g=R[ve],Q=Ko(ne,B,!1,I)&&Q}tn.prototype.N=function(){if(tn.Z.N.call(this),this.i){var b=this.i;for(const I in b.g){const R=b.g[I];for(let B=0;B<R.length;B++)he(R[B]);delete b.g[I],b.h--}}this.G=null},tn.prototype.J=function(b,I,R,B){return this.i.add(String(b),I,!1,R,B)},tn.prototype.K=function(b,I,R,B){return this.i.add(String(b),I,!0,R,B)};function Ko(b,I,R,B){if(I=b.i.g[String(I)],!I)return!0;I=I.concat();let Q=!0;for(let ne=0;ne<I.length;++ne){const ve=I[ne];if(ve&&!ve.da&&ve.capture==R){const Be=ve.listener,$t=ve.ha||ve.src;ve.fa&&de(b.i,ve),Q=Be.call($t,B)!==!1&&Q}}return Q&&!B.defaultPrevented}function V0(b,I){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:s.setTimeout(b,I||0)}function vp(b){b.g=V0(()=>{b.g=null,b.i&&(b.i=!1,vp(b))},b.l);const I=b.h;b.h=null,b.m.apply(null,I)}class or extends F{constructor(I,R){super(),this.m=I,this.l=R,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:vp(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ll(b){F.call(this),this.h=b,this.g={}}m(ll,F);var _f=[];function bf(b){me(b.g,function(I,R){this.g.hasOwnProperty(R)&&zt(I)},b),b.g={}}ll.prototype.N=function(){ll.Z.N.call(this),bf(this)},ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wo=s.JSON.stringify,U0=s.JSON.parse,_p=class{stringify(b){return s.JSON.stringify(b,void 0)}parse(b){return s.JSON.parse(b,void 0)}};function bp(){}function xp(){}var Mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zn(){j.call(this,"d")}m(zn,j);function ai(){j.call(this,"c")}m(ai,j);var Gt={},wp=null;function wu(){return wp=wp||new tn}Gt.Ia="serverreachability";function Ep(b){j.call(this,Gt.Ia,b)}m(Ep,j);function sa(b){const I=wu();bn(I,new Ep(I))}Gt.STAT_EVENT="statevent";function ul(b,I){j.call(this,Gt.STAT_EVENT,b),this.stat=I}m(ul,j);function nn(b){const I=wu();bn(I,new ul(I,b))}Gt.Ja="timingevent";function la(b,I){j.call(this,Gt.Ja,b),this.size=I}m(la,j);function ua(b,I){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){b()},I)}function ki(){this.g=!0}ki.prototype.ua=function(){this.g=!1};function j0(b,I,R,B,Q,ne){b.info(function(){if(b.g)if(ne){var ve="",Be=ne.split("&");for(let lt=0;lt<Be.length;lt++){var $t=Be[lt].split("=");if($t.length>1){const kt=$t[0];$t=$t[1];const ui=kt.split("_");ve=ui.length>=2&&ui[1]=="type"?ve+(kt+"="+$t+"&"):ve+(kt+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+B+") [attempt "+Q+"]: "+I+`
`+R+`
`+ve})}function Tp(b,I,R,B,Q,ne,ve){b.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Q+"]: "+I+`
`+R+`
`+ne+" "+ve})}function ca(b,I,R,B){b.info(function(){return"XMLHTTP TEXT ("+I+"): "+z0(b,R)+(B?" "+B:"")})}function cl(b,I){b.info(function(){return"TIMEOUT: "+I})}ki.prototype.info=function(){};function z0(b,I){if(!b.g)return I;if(!I)return null;try{const ne=JSON.parse(I);if(ne){for(b=0;b<ne.length;b++)if(Array.isArray(ne[b])){var R=ne[b];if(!(R.length<2)){var B=R[1];if(Array.isArray(B)&&!(B.length<1)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<B.length;ve++)B[ve]=""}}}}return Wo(ne)}catch{return I}}var fl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wf;function dl(){}m(dl,bp),dl.prototype.g=function(){return new XMLHttpRequest},wf=new dl;function Ba(b){return encodeURIComponent(String(b))}function Sp(b){var I=1;b=b.split(":");const R=[];for(;I>0&&b.length;)R.push(b.shift()),I--;return b.length&&R.push(b.join(":")),R}function Di(b,I,R,B){this.j=b,this.i=I,this.l=R,this.S=B||1,this.V=new ll(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oi}function Oi(){this.i=null,this.g="",this.h=!1}var rn={},Pn={};function fa(b,I,R){b.M=1,b.A=hl(on(I)),b.u=R,b.R=!0,Eu(b,null)}function Eu(b,I){b.F=Date.now(),da(b),b.B=on(b.A);var R=b.B,B=b.S;Array.isArray(B)||(B=[String(B)]),Cu(R.i,"t",B),b.C=0,R=b.j.L,b.h=new Oi,b.g=zp(b.j,R?I:null,!b.u),b.P>0&&(b.O=new or(f(b.Y,b,b.g),b.P)),I=b.V,R=b.g,B=b.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(_f[0]=Q.toString()),Q=_f);for(let ne=0;ne<Q.length;ne++){const ve=oe(R,Q[ne],B||I.handleEvent,!1,I.h||I);if(!ve)break;I.g[ve.key]=ve}I=b.J?K(b.J):{},b.u?(b.v||(b.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,I)):(b.v="GET",b.g.ea(b.B,b.v,null,I)),sa(),j0(b.i,b.v,b.B,b.l,b.S,b.u)}Di.prototype.ba=function(b){b=b.target;const I=this.O;I&&Ui(b)==3?I.j():this.Y(b)},Di.prototype.Y=function(b){try{if(b==this.g)e:{const Be=Ui(this.g),$t=this.g.ya(),lt=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Fn(this.g)))){this.K||Be!=4||$t==7||($t==8||lt<=0?sa(3):sa(2)),ha(this);var I=this.g.ca();this.X=I;var R=F0(this);if(this.o=I==200,Tp(this.i,this.v,this.B,this.l,this.S,Be,I),this.o){if(this.U&&!this.L){t:{if(this.g){var B,Q=this.g;if((B=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(B)){var ne=B;break t}}ne=null}if(b=ne)ca(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pa(this,b);else{this.o=!1,this.m=3,nn(12),zr(this),oi(this);break e}}if(this.R){b=!0;let kt;for(;!this.K&&this.C<R.length;)if(kt=Cp(this,R),kt==Pn){Be==4&&(this.m=4,nn(14),b=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==rn){this.m=4,nn(15),ca(this.i,this.l,R,"[Invalid Chunk]"),b=!1;break}else ca(this.i,this.l,kt,null),pa(this,kt);if(Ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||R.length!=0||this.h.h||(this.m=1,nn(16),b=!1),this.o=this.o&&b,!b)ca(this.i,this.l,R,"[Invalid Chunked Response]"),zr(this),oi(this);else if(R.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Vf(ve),ve.P=!0,nn(11))}}else ca(this.i,this.l,R,null),pa(this,R);Be==4&&zr(this),this.o&&!this.K&&(Be==4?Lp(this.j,this):(this.o=!1,da(this)))}else Ga(this.g),I==400&&R.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),zr(this),oi(this)}}}catch{}finally{}};function F0(b){if(!Ap(b))return b.g.la();const I=Fn(b.g);if(I==="")return"";let R="";const B=I.length,Q=Ui(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return zr(b),oi(b),"";b.h.i=new s.TextDecoder}for(let ne=0;ne<B;ne++)b.h.h=!0,R+=b.h.i.decode(I[ne],{stream:!(Q&&ne==B-1)});return I.length=0,b.h.g+=R,b.C=0,b.h.g}function Ap(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function Cp(b,I){var R=b.C,B=I.indexOf(`
`,R);return B==-1?Pn:(R=Number(I.substring(R,B)),isNaN(R)?rn:(B+=1,B+R>I.length?Pn:(I=I.slice(B,B+R),b.C=B+R,I)))}Di.prototype.cancel=function(){this.K=!0,zr(this)};function da(b){b.T=Date.now()+b.H,Tu(b,b.H)}function Tu(b,I){if(b.D!=null)throw Error("WatchDog timer not null");b.D=ua(f(b.aa,b),I)}function ha(b){b.D&&(s.clearTimeout(b.D),b.D=null)}Di.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(cl(this.i,this.B),this.M!=2&&(sa(),nn(17)),zr(this),this.m=2,oi(this)):Tu(this,this.T-b)};function oi(b){b.j.I==0||b.K||Lp(b.j,b)}function zr(b){ha(b);var I=b.O;I&&typeof I.dispose=="function"&&I.dispose(),b.O=null,bf(b.V),b.g&&(I=b.g,b.g=null,I.abort(),I.dispose())}function pa(b,I){try{var R=b.j;if(R.I!=0&&(R.g==b||ga(R.h,b))){if(!b.L&&ga(R.h,b)&&R.I==3){try{var B=R.Ba.g.parse(I)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Q=B;if(Q[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<b.F)Mu(R),ns(R);else break e;bl(R),nn(18)}}else R.xa=Q[1],0<R.xa-R.K&&Q[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=ua(f(R.Va,R),6e3));ma(R.h)<=1&&R.ta&&(R.ta=void 0)}else wa(R,11)}else if((b.L||R.g==b)&&Mu(R),!H(I))for(Q=R.Ba.g.parse(I),I=0;I<Q.length;I++){let lt=Q[I];const kt=lt[0];if(!(kt<=R.K))if(R.K=kt,lt=lt[1],R.I==2)if(lt[0]=="c"){R.M=lt[1],R.ba=lt[2];const ui=lt[3];ui!=null&&(R.ka=ui,R.j.info("VER="+R.ka));const Ea=lt[4];Ea!=null&&(R.za=Ea,R.j.info("SVER="+R.za));const ji=lt[5];ji!=null&&typeof ji=="number"&&ji>0&&(B=1.5*ji,R.O=B,R.j.info("backChannelRequestTimeoutMs_="+B)),B=R;const zi=b.g;if(zi){const xl=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xl){var ne=B.h;ne.g||xl.indexOf("spdy")==-1&&xl.indexOf("quic")==-1&&xl.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Sf(ne,ne.h),ne.h=null))}if(B.G){const ku=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(B.wa=ku,pt(B.J,B.G,ku))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-b.F,R.j.info("Handshake RTT: "+R.T+"ms")),B=R;var ve=b;if(B.na=jp(B,B.L?B.ba:null,B.W),ve.L){Af(B.h,ve);var Be=ve,$t=B.O;$t&&(Be.H=$t),Be.D&&(ha(Be),da(Be)),B.g=ve}else Dp(B);R.i.length>0&&xa(R)}else lt[0]!="stop"&&lt[0]!="close"||wa(R,7);else R.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?wa(R,7):Of(R):lt[0]!="noop"&&R.l&&R.l.qa(lt),R.A=0)}}sa(4)}catch{}}var an=class{constructor(b,I){this.g=b,this.map=I}};function Ef(b){this.l=b||10,s.PerformanceNavigationTiming?(b=s.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tf(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ma(b){return b.h?1:b.g?b.g.size:0}function ga(b,I){return b.h?b.h==I:b.g?b.g.has(I):!1}function Sf(b,I){b.g?b.g.add(I):b.h=I}function Af(b,I){b.h&&b.h==I?b.h=null:b.g&&b.g.has(I)&&b.g.delete(I)}Ef.prototype.cancel=function(){if(this.i=Cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Cf(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let I=b.i;for(const R of b.g.values())I=I.concat(R.G);return I}return w(b.i)}var Ip=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(b,I){if(b){b=b.split("&");for(let R=0;R<b.length;R++){const B=b[R].indexOf("=");let Q,ne=null;B>=0?(Q=b[R].substring(0,B),ne=b[R].substring(B+1)):Q=b[R],I(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Fr(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;b instanceof Fr?(this.l=b.l,Rn(this,b.j),this.o=b.o,this.g=b.g,Yo(this,b.u),this.h=b.h,If(this,Mp(b.i)),this.m=b.m):b&&(I=String(b).match(Ip))?(this.l=!1,Rn(this,I[1]||"",!0),this.o=ya(I[2]||""),this.g=ya(I[3]||"",!0),Yo(this,I[4]),this.h=ya(I[5]||"",!0),If(this,I[6]||"",!0),this.m=ya(I[7]||"")):(this.l=!1,this.i=new Xo(null,this.l))}Fr.prototype.toString=function(){const b=[];var I=this.j;I&&b.push(pl(I,Au,!0),":");var R=this.g;return(R||I=="file")&&(b.push("//"),(I=this.o)&&b.push(pl(I,Au,!0),"@"),b.push(Ba(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&b.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&b.push("/"),b.push(pl(R,R.charAt(0)=="/"?Nf:Np,!0))),(R=this.i.toString())&&b.push("?",R),(R=this.m)&&b.push("#",pl(R,Pp)),b.join("")},Fr.prototype.resolve=function(b){const I=on(this);let R=!!b.j;R?Rn(I,b.j):R=!!b.o,R?I.o=b.o:R=!!b.g,R?I.g=b.g:R=b.u!=null;var B=b.h;if(R)Yo(I,b.u);else if(R=!!b.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var Q=I.h.lastIndexOf("/");Q!=-1&&(B=I.h.slice(0,Q+1)+B)}if(Q=B,Q==".."||Q==".")B="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){B=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ve=0;ve<Q.length;){const Be=Q[ve++];Be=="."?B&&ve==Q.length&&ne.push(""):Be==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),B&&ve==Q.length&&ne.push("")):(ne.push(Be),B=!0)}B=ne.join("/")}else B=Q}return R?I.h=B:R=b.i.toString()!=="",R?If(I,Mp(b.i)):R=!!b.m,R&&(I.m=b.m),I};function on(b){return new Fr(b)}function Rn(b,I,R){b.j=R?ya(I,!0):I,b.j&&(b.j=b.j.replace(/:$/,""))}function Yo(b,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);b.u=I}else b.u=null}function If(b,I,R){I instanceof Xo?(b.i=I,Iu(b.i,b.l)):(R||(I=pl(I,Jo)),b.i=new Xo(I,b.l))}function pt(b,I,R){b.i.set(I,R)}function hl(b){return pt(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function ya(b,I){return b?I?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function pl(b,I,R){return typeof b=="string"?(b=encodeURI(b).replace(I,xr),R&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function xr(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Au=/[#\/\?@]/g,Np=/[#\?:]/g,Nf=/[#\?]/g,Jo=/[#\?@]/g,Pp=/#/g;function Xo(b,I){this.h=this.g=null,this.i=b||null,this.j=!!I}function wr(b){b.g||(b.g=new Map,b.h=0,b.i&&Su(b.i,function(I,R){b.add(decodeURIComponent(I.replace(/\+/g," ")),R)}))}t=Xo.prototype,t.add=function(b,I){wr(this),this.i=null,b=Qo(this,b);let R=this.g.get(b);return R||this.g.set(b,R=[]),R.push(I),this.h+=1,this};function Rp(b,I){wr(b),I=Qo(b,I),b.g.has(I)&&(b.i=null,b.h-=b.g.get(I).length,b.g.delete(I))}function Pf(b,I){return wr(b),I=Qo(b,I),b.g.has(I)}t.forEach=function(b,I){wr(this),this.g.forEach(function(R,B){R.forEach(function(Q){b.call(I,Q,B,this)},this)},this)};function Rf(b,I){wr(b);let R=[];if(typeof I=="string")Pf(b,I)&&(R=R.concat(b.g.get(Qo(b,I))));else for(b=Array.from(b.g.values()),I=0;I<b.length;I++)R=R.concat(b[I]);return R}t.set=function(b,I){return wr(this),this.i=null,b=Qo(this,b),Pf(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[I]),this.h+=1,this},t.get=function(b,I){return b?(b=Rf(this,b),b.length>0?String(b[0]):I):I};function Cu(b,I,R){Rp(b,I),R.length>0&&(b.i=null,b.g.set(Qo(b,I),w(R)),b.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],I=Array.from(this.g.keys());for(let B=0;B<I.length;B++){var R=I[B];const Q=Ba(R);R=Rf(this,R);for(let ne=0;ne<R.length;ne++){let ve=Q;R[ne]!==""&&(ve+="="+Ba(R[ne])),b.push(ve)}}return this.i=b.join("&")};function Mp(b){const I=new Xo;return I.i=b.i,b.g&&(I.g=new Map(b.g),I.h=b.h),I}function Qo(b,I){return I=String(I),b.j&&(I=I.toLowerCase()),I}function Iu(b,I){I&&!b.j&&(wr(b),b.i=null,b.g.forEach(function(R,B){const Q=B.toLowerCase();B!=Q&&(Rp(this,B),Cu(this,Q,R))},b)),b.j=I}function Li(b,I){const R=new ki;if(s.Image){const B=new Image;B.onload=h(si,R,"TestLoadImage: loaded",!0,I,B),B.onerror=h(si,R,"TestLoadImage: error",!1,I,B),B.onabort=h(si,R,"TestLoadImage: abort",!1,I,B),B.ontimeout=h(si,R,"TestLoadImage: timeout",!1,I,B),s.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=b}else I(!1)}function Mf(b,I){const R=new ki,B=new AbortController,Q=setTimeout(()=>{B.abort(),si(R,"TestPingServer: timeout",!1,I)},1e4);fetch(b,{signal:B.signal}).then(ne=>{clearTimeout(Q),ne.ok?si(R,"TestPingServer: ok",!0,I):si(R,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Q),si(R,"TestPingServer: error",!1,I)})}function si(b,I,R,B,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),B(R)}catch{}}function Zo(){this.g=new _p}function va(b){this.i=b.Sb||null,this.h=b.ab||!1}m(va,bp),va.prototype.g=function(){return new ml(this.i,this.h)};function ml(b,I){tn.call(this),this.H=b,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ml,tn),t=ml.prototype,t.open=function(b,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=I,this.readyState=1,Vi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(I.body=b),(this.H||s).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nu(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nu(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var I=b.value?b.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!b.done}))&&(this.response=this.responseText+=I)}b.done?es(this):Vi(this),this.readyState==3&&Nu(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,es(this))},t.Na=function(b){this.g&&(this.response=b,es(this))},t.ga=function(){this.g&&es(this)};function es(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Vi(b)}t.setRequestHeader=function(b,I){this.A.append(b,I)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],I=this.h.entries();for(var R=I.next();!R.done;)R=R.value,b.push(R[0]+": "+R[1]),R=I.next();return b.join(`\r
`)};function Vi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function li(b){let I="";return me(b,function(R,B){I+=B,I+=":",I+=R,I+=`\r
`}),I}function gl(b,I,R){e:{for(B in R){var B=!1;break e}B=!0}B||(R=li(R),typeof b=="string"?R!=null&&Ba(R):pt(b,I,R))}function vt(b){tn.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(vt,tn);var _a=/^https?$/i,kf=["POST","PUT"];t=vt.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,I,R,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);I=I?I.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wf.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(I,String(b),!0),this.B=!1}catch(ne){yl(this,ne);return}if(b=R||"",R=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Q in B)R.set(Q,B[Q]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ne of B.keys())R.set(ne,B.get(ne));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(R.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=s.FormData&&b instanceof s.FormData,!(Array.prototype.indexOf.call(kf,I,void 0)>=0)||B||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of R)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(ne){yl(this,ne)}};function yl(b,I){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=I,b.o=5,Df(b),Ha(b)}function Df(b){b.A||(b.A=!0,bn(b,"complete"),bn(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,bn(this,"complete"),bn(this,"abort"),Ha(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ha(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vl(this):this.Xa())},t.Xa=function(){vl(this)};function vl(b){if(b.h&&typeof a<"u"){if(b.v&&Ui(b)==4)setTimeout(b.Ca.bind(b),0);else if(bn(b,"readystatechange"),Ui(b)==4){b.h=!1;try{const ne=b.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var R;if(!(R=I)){var B;if(B=ne===0){let ve=String(b.D).match(Ip)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),B=!_a.test(ve?ve.toLowerCase():"")}R=B}if(R)bn(b,"complete"),bn(b,"success");else{b.o=6;try{var Q=Ui(b)>2?b.g.statusText:""}catch{Q=""}b.l=Q+" ["+b.ca()+"]",Df(b)}}finally{Ha(b)}}}}function Ha(b,I){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const R=b.g;b.g=null,I||bn(b,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ui(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var I=this.g.responseText;return b&&I.indexOf(b)==0&&(I=I.substring(b.length)),U0(I)}};function Fn(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(b){const I={};b=(b.g&&Ui(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<b.length;B++){if(H(b[B]))continue;var R=Sp(b[B]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ne=I[Q]||[];I[Q]=ne,ne.push(R)}Oe(I,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(b,I,R){return R&&R.internalChannelParams&&R.internalChannelParams[b]||I}function ts(b){this.za=0,this.i=[],this.j=new ki,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ba("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ba("baseRetryDelayMs",5e3,b),this.Za=ba("retryDelaySeedMs",1e4,b),this.Ta=ba("forwardChannelMaxRetries",2,b),this.va=ba("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Ef(b&&b.concurrentRequestLimit),this.Ba=new Zo,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ts.prototype,t.ka=8,t.I=1,t.connect=function(b,I,R,B){nn(0),this.W=b,this.H=I||{},R&&B!==void 0&&(this.H.OSID=R,this.H.OAID=B),this.F=this.X,this.J=jp(this,null,this.W),xa(this)};function Of(b){if(Pu(b),b.I==3){var I=b.V++,R=on(b.J);if(pt(R,"SID",b.M),pt(R,"RID",I),pt(R,"TYPE","terminate"),_l(b,R),I=new Di(b,b.j,I),I.M=2,I.A=hl(on(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(I.A.toString(),"")}catch{}!R&&s.Image&&(new Image().src=I.A,R=!0),R||(I.g=zp(I.j,null),I.g.ea(I.A)),I.F=Date.now(),da(I)}Up(b)}function ns(b){b.g&&(Vf(b),b.g.cancel(),b.g=null)}function Pu(b){ns(b),b.v&&(s.clearTimeout(b.v),b.v=null),Mu(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&s.clearTimeout(b.m),b.m=null)}function xa(b){if(!Tf(b.h)&&!b.m){b.m=!0;var I=b.Ea;U||O(),G||(U(),G=!0),k.add(I,b),b.D=0}}function Ru(b,I){return ma(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=I.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=ua(f(b.Ea,b,I),Vp(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const Q=new Di(this,this.j,b);let ne=this.o;if(this.U&&(ne?(ne=K(ne),ge(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var I=0,R=0;R<this.i.length;R++){t:{var B=this.i[R];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(I+=B,I>4096){I=R;break e}if(I===4096||R===this.i.length-1){I=R+1;break e}}I=1e3}else I=1e3;I=kp(this,Q,I),R=on(this.J),pt(R,"RID",b),pt(R,"CVER",22),this.G&&pt(R,"X-HTTP-Session-Id",this.G),_l(this,R),ne&&(this.R?I="headers="+Ba(li(ne))+"&"+I:this.u&&gl(R,this.u,ne)),Sf(this.h,Q),this.Ra&&pt(R,"TYPE","init"),this.S?(pt(R,"$req",I),pt(R,"SID","null"),Q.U=!0,fa(Q,R,null)):fa(Q,R,I),this.I=2}}else this.I==3&&(b?Lf(this,b):this.i.length==0||Tf(this.h)||Lf(this))};function Lf(b,I){var R;I?R=I.l:R=b.V++;const B=on(b.J);pt(B,"SID",b.M),pt(B,"RID",R),pt(B,"AID",b.K),_l(b,B),b.u&&b.o&&gl(B,b.u,b.o),R=new Di(b,b.j,R,b.D+1),b.u===null&&(R.J=b.o),I&&(b.i=I.G.concat(b.i)),I=kp(b,R,1e3),R.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Sf(b.h,R),fa(R,B,I)}function _l(b,I){b.H&&me(b.H,function(R,B){pt(I,B,R)}),b.l&&me({},function(R,B){pt(I,B,R)})}function kp(b,I,R){R=Math.min(b.i.length,R);const B=b.l?f(b.l.Ka,b.l,b):null;e:{var Q=b.i;let Be=-1;for(;;){const $t=["count="+R];Be==-1?R>0?(Be=Q[0].g,$t.push("ofs="+Be)):Be=0:$t.push("ofs="+Be);let lt=!0;for(let kt=0;kt<R;kt++){var ne=Q[kt].g;const ui=Q[kt].map;if(ne-=Be,ne<0)Be=Math.max(0,Q[kt].g-100),lt=!1;else try{ne="req"+ne+"_"||"";try{var ve=ui instanceof Map?ui:Object.entries(ui);for(const[Ea,ji]of ve){let zi=ji;u(ji)&&(zi=Wo(ji)),$t.push(ne+Ea+"="+encodeURIComponent(zi))}}catch(Ea){throw $t.push(ne+"type="+encodeURIComponent("_badmap")),Ea}}catch{B&&B(ui)}}if(lt){ve=$t.join("&");break e}}ve=void 0}return b=b.i.splice(0,R),I.G=b,ve}function Dp(b){if(!b.g&&!b.v){b.Y=1;var I=b.Da;U||O(),G||(U(),G=!0),k.add(I,b),b.A=0}}function bl(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=ua(f(b.Da,b),Vp(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,Op(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=ua(f(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),ns(this),Op(this))};function Vf(b){b.B!=null&&(s.clearTimeout(b.B),b.B=null)}function Op(b){b.g=new Di(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var I=on(b.na);pt(I,"RID","rpc"),pt(I,"SID",b.M),pt(I,"AID",b.K),pt(I,"CI",b.F?"0":"1"),!b.F&&b.ia&&pt(I,"TO",b.ia),pt(I,"TYPE","xmlhttp"),_l(b,I),b.u&&b.o&&gl(I,b.u,b.o),b.O&&(b.g.H=b.O);var R=b.g;b=b.ba,R.M=1,R.A=hl(on(I)),R.u=null,R.R=!0,Eu(R,b)}t.Va=function(){this.C!=null&&(this.C=null,ns(this),bl(this),nn(19))};function Mu(b){b.C!=null&&(s.clearTimeout(b.C),b.C=null)}function Lp(b,I){var R=null;if(b.g==I){Mu(b),Vf(b),b.g=null;var B=2}else if(ga(b.h,I))R=I.G,Af(b.h,I),B=1;else return;if(b.I!=0){if(I.o)if(B==1){R=I.u?I.u.length:0,I=Date.now()-I.F;var Q=b.D;B=wu(),bn(B,new la(B,R)),xa(b)}else Dp(b);else if(Q=I.m,Q==3||Q==0&&I.X>0||!(B==1&&Ru(b,I)||B==2&&bl(b)))switch(R&&R.length>0&&(I=b.h,I.i=I.i.concat(R)),Q){case 1:wa(b,5);break;case 4:wa(b,10);break;case 3:wa(b,6);break;default:wa(b,2)}}}function Vp(b,I){let R=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(R*=2),R*I}function wa(b,I){if(b.j.info("Error code "+I),I==2){var R=f(b.bb,b),B=b.Ua;const Q=!B;B=new Fr(B||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Rn(B,"https"),hl(B),Q?Li(B.toString(),R):Mf(B.toString(),R)}else nn(2);b.I=0,b.l&&b.l.pa(I),Up(b),Pu(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Up(b){if(b.I=0,b.ja=[],b.l){const I=Cf(b.h);(I.length!=0||b.i.length!=0)&&(A(b.ja,I),A(b.ja,b.i),b.h.i.length=0,w(b.i),b.i.length=0),b.l.oa()}}function jp(b,I,R){var B=R instanceof Fr?on(R):new Fr(R);if(B.g!="")I&&(B.g=I+"."+B.g),Yo(B,B.u);else{var Q=s.location;B=Q.protocol,I=I?I+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Fr(null);B&&Rn(ne,B),I&&(ne.g=I),Q&&Yo(ne,Q),R&&(ne.h=R),B=ne}return R=b.G,I=b.wa,R&&I&&pt(B,R,I),pt(B,"VER",b.ka),_l(b,B),B}function zp(b,I,R){if(I&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=b.Aa&&!b.ma?new vt(new va({ab:R})):new vt(b.ma),I.Fa(b.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fp(){}t=Fp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function rs(){}rs.prototype.g=function(b,I){return new sr(b,I)};function sr(b,I){tn.call(this),this.g=new ts(I),this.l=b,this.h=I&&I.messageUrlParams||null,b=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(b?b["X-WebChannel-Content-Type"]=I.messageContentType:b={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(b?b["X-WebChannel-Client-Profile"]=I.sa:b={"X-WebChannel-Client-Profile":I.sa}),this.g.U=b,(b=I&&I.Qb)&&!H(b)&&(this.g.u=b),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!H(I)&&(this.g.G=I,b=this.h,b!==null&&I in b&&(b=this.h,I in b&&delete b[I])),this.j=new $a(this)}m(sr,tn),sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Of(this.g)},sr.prototype.o=function(b){var I=this.g;if(typeof b=="string"){var R={};R.__data__=b,b=R}else this.v&&(R={},R.__data__=Wo(b),b=R);I.i.push(new an(I.Ya++,b)),I.I==3&&xa(I)},sr.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,sr.Z.N.call(this)};function qp(b){zn.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var I=b.__sm__;if(I){e:{for(const R in I){b=R;break e}b=void 0}(this.i=b)&&(b=this.i,I=I!==null&&b in I?I[b]:void 0),this.data=I}else this.data=b}m(qp,zn);function Bp(){ai.call(this),this.status=1}m(Bp,ai);function $a(b){this.g=b}m($a,Fp),$a.prototype.ra=function(){bn(this.g,"a")},$a.prototype.qa=function(b){bn(this.g,new qp(b))},$a.prototype.pa=function(b){bn(this.g,new Bp)},$a.prototype.oa=function(){bn(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,bV=function(){return new rs},_V=function(){return wu()},vV=Gt,uE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,Cg=fl,xf.COMPLETE="complete",yV=xf,xp.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",tn.prototype.listen=tn.prototype.J,Ld=xp,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,gV=vt}).apply(typeof Ym<"u"?Ym:typeof self<"u"?self:typeof window<"u"?window:{});const bR="@firebase/firestore",xR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new hv("@firebase/firestore");function dc(){return au.logLevel}function we(t,...e){if(au.logLevel<=Xe.DEBUG){const n=e.map(pS);au.debug(`Firestore (${ef}): ${t}`,...n)}}function Io(t,...e){if(au.logLevel<=Xe.ERROR){const n=e.map(pS);au.error(`Firestore (${ef}): ${t}`,...n)}}function Mc(t,...e){if(au.logLevel<=Xe.WARN){const n=e.map(pS);au.warn(`Firestore (${ef}): ${t}`,...n)}}function pS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xV(t,r,n)}function xV(t,e,n){let r=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Io(r),new Error(r)}function dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xV(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(er.UNAUTHENTICATED)))}shutdown(){}}class GJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $J{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new wo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new wo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wo)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new wV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class KJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KJ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YJ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=JJ(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function cE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return rx(i)===rx(a)?Qe(i,a):rx(i)?1:-1}return Qe(t.length,e.length)}const XJ=55296,QJ=57343;function rx(t){const e=t.charCodeAt(0);return e>=XJ&&e<=QJ}function kc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__name__";class Ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ia.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Qe(e.length,n.length)}static compareSegments(e,n){const r=Ia.isNumericId(e),i=Ia.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ia.extractNumericId(e).compare(Ia.extractNumericId(n)):cE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class Ct extends Ia{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const ZJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Ia{construct(e,n,r){return new Wn(e,n,r)}static isValidIdentifier(e){return ZJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ER}static keyField(){return new Wn([ER])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(n)}static emptyPath(){return new Wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ct.fromString(e))}static fromName(e){return new De(Ct.fromString(e).popFirst(5))}static empty(){return new De(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e,n){if(!n)throw new be(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eX(t,e,n,r){if(e===!0&&r===!0)throw new be(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TR(t){if(!De.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SR(t){if(De.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function TV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xv(t);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uh(t,e){if(!TV(t))throw new be(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new be(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=-62135596800,CR=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CR);return new Mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AR)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CR}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uh(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:gn("string",Mt._jsonSchemaVersion),seconds:gn("number"),nanoseconds:gn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Mt(0,0))}static max(){return new ze(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=-1;function tX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new qs(i,De.empty(),e)}function nX(t){return new qs(t.readTime,t.key,lh)}class qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qs(ze.min(),De.empty(),lh)}static max(){return new qs(ze.max(),De.empty(),lh)}}function rX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==iX)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,a=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++u,u===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function oX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=-1;function Ev(t){return t==null}function ry(t){return t===0&&1/t==-1/0}function sX(t){return typeof t=="number"&&Number.isInteger(t)&&!ry(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="";function lX(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IR(e)),e=uX(t.get(n),e);return IR(e)}function uX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case SV:n+="";break;default:n+=a}}return n}function IR(t){return t+SV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function el(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jm(this.root,e,this.comparator,!0)}}class Jm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Kn.RED,this.left=i??Kn.EMPTY,this.right=a??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Kn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PR(this.data.getIterator())}getIteratorFrom(e){return new PR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class PR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new Tn(Wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CV("Invalid base64 string: "+a):a}})(e);return new Jn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const cX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=cX.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?Jn.fromBase64String(t):Jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="server_timestamp",NV="__type__",PV="__previous_value__",RV="__local_write_time__";function yS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NV])==null?void 0:r.stringValue)===IV}function Tv(t){const e=t.mapValue.fields[PV];return yS(e)?Tv(e):e}function uh(t){const e=Bs(t.mapValue.fields[RV].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e,n,r,i,a,s,u,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const iy="(default)";class ch{constructor(e,n){this.projectId=e,this.database=n||iy}static empty(){return new ch("","")}get isDefaultDatabase(){return this.database===iy}isEqual(e){return e instanceof ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="__type__",dX="__max__",Xm={mapValue:{}},kV="__vector__",ay="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yS(t)?4:pX(t)?9007199254740991:hX(t)?10:11:Ue(28295,{value:t})}function Ua(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uh(t).isEqual(uh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Bs(i.timestampValue),u=Bs(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Hs(i.bytesValue).isEqual(Hs(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Jt(i.doubleValue),u=Jt(a.doubleValue);return s===u?ry(s)===ry(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return kc(t.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(NR(s)!==NR(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Ua(s[c],u[c])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function fh(t,e){return(t.values||[]).find((n=>Ua(n,e)))!==void 0}function Dc(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const u=Jt(a.integerValue||a.doubleValue),c=Jt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return RR(t.timestampValue,e.timestampValue);case 4:return RR(uh(t),uh(e));case 5:return cE(t.stringValue,e.stringValue);case 6:return(function(a,s){const u=Hs(a),c=Hs(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=Qe(u[f],c[f]);if(h!==0)return h}return Qe(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const u=Qe(Jt(a.latitude),Jt(s.latitude));return u!==0?u:Qe(Jt(a.longitude),Jt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MR(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var v,w,A,S;const u=a.fields||{},c=s.fields||{},f=(v=u[ay])==null?void 0:v.arrayValue,h=(w=c[ay])==null?void 0:w.arrayValue,m=Qe(((A=f==null?void 0:f.values)==null?void 0:A.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return m!==0?m:MR(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Xm.mapValue&&s===Xm.mapValue)return 0;if(a===Xm.mapValue)return 1;if(s===Xm.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const v=cE(c[m],h[m]);if(v!==0)return v;const w=Dc(u[c[m]],f[h[m]]);if(w!==0)return w}return Qe(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function RR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Bs(t),r=Bs(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function MR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Dc(n[i],r[i]);if(a)return a}return Qe(n.length,r.length)}function Oc(t){return fE(t)}function fE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Hs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=fE(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${fE(n.fields[s])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function Ig(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tv(t);return e?16+Ig(e):16;case 5:return 2*t.stringValue.length;case 6:return Hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ig(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return el(r.fields,((a,s)=>{i+=a.length+Ig(s)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function kR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dE(t){return!!t&&"integerValue"in t}function vS(t){return!!t&&"arrayValue"in t}function DR(t){return!!t&&"nullValue"in t}function OR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ng(t){return!!t&&"mapValue"in t}function hX(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MV])==null?void 0:r.stringValue)===kV}function Wd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return el(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wd(t.arrayValue.values[n]);return e}return{...t}}function pX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(n)}setAll(e){let n=Wn.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=Wd(s):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){el(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Mr(Wd(this.value))}}function DV(t){const e=[];return el(t.fields,((n,r)=>{const i=new Wn([n]);if(Ng(r)){const a=DV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,i,a,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new tr(e,0,ze.min(),ze.min(),ze.min(),Mr.empty(),0)}static newFoundDocument(e,n,r,i){return new tr(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new tr(e,2,n,ze.min(),ze.min(),Mr.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,ze.min(),ze.min(),Mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.position=e,this.inclusive=n}}function LR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(s.referenceValue),n.key):r=Dc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function VR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ua(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function mX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{}class mn extends OV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yX(e,n,r):n==="array-contains"?new bX(e,r):n==="in"?new xX(e,r):n==="not-in"?new wX(e,r):n==="array-contains-any"?new EX(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vX(e,r):new _X(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dc(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends OV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yi(e,n)}matches(e){return LV(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LV(t){return t.op==="and"}function VV(t){return gX(t)&&LV(t)}function gX(t){for(const e of t.filters)if(e instanceof Yi)return!1;return!0}function hE(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+Oc(t.value);if(VV(t))return t.filters.map((e=>hE(e))).join(",");{const e=t.filters.map((n=>hE(n))).join(",");return`${t.op}(${e})`}}function UV(t,e){return t instanceof mn?(function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&Ua(r.value,i.value)})(t,e):t instanceof Yi?(function(r,i){return i instanceof Yi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,u)=>a&&UV(s,i.filters[u])),!0):!1})(t,e):void Ue(19439)}function jV(t){return t instanceof mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oc(n.value)}`})(t):t instanceof Yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(jV).join(" ,")+"}"})(t):"Filter"}class yX extends mn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class vX extends mn{constructor(e,n){super(e,"in",n),this.keys=zV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _X extends mn{constructor(e,n){super(e,"not-in",n),this.keys=zV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zV(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>De.fromName(r.referenceValue)))}class bX extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vS(n)&&fh(n.arrayValue,this.value)}}class xX extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fh(this.value.arrayValue,n)}}class wX extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fh(this.value.arrayValue,n)}}class EX extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e,n=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Te=null}}function UR(t,e=null,n=[],r=[],i=null,a=null,s=null){return new TX(t,e,n,r,i,a,s)}function _S(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ev(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Oc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Oc(r))).join(",")),e.Te=n}return e.Te}function bS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VR(t.startAt,e.startAt)&&VR(t.endAt,e.endAt)}function pE(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SX(t,e,n,r,i,a,s,u){return new rf(t,e,n,r,i,a,s,u)}function xS(t){return new rf(t)}function jR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FV(t){return t.collectionGroup!==null}function Yd(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Tn(Wn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new dh(a,r))})),n.has(Wn.keyField().canonicalString())||e.Ie.push(new dh(Wn.keyField(),r))}return e.Ie}function ka(t){const e=qe(t);return e.Ee||(e.Ee=AX(e,Yd(t))),e.Ee}function AX(t,e){if(t.limitType==="F")return UR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new dh(i.field,a)}));const n=t.endAt?new oy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oy(t.startAt.position,t.startAt.inclusive):null;return UR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mE(t,e){const n=t.filters.concat([e]);return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gE(t,e,n){return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sv(t,e){return bS(ka(t),ka(e))&&t.limitType===e.limitType}function qV(t){return`${_S(ka(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>jV(i))).join(", ")}]`),Ev(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Oc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Oc(i))).join(",")),`Target(${r})`})(ka(t))}; limitType=${t.limitType})`}function Av(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Yd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const f=LR(s,u,c);return s.inclusive?f<=0:f<0})(r.startAt,Yd(r),i)||r.endAt&&!(function(s,u,c){const f=LR(s,u,c);return s.inclusive?f>=0:f>0})(r.endAt,Yd(r),i))})(t,e)}function CX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BV(t){return(e,n)=>{let r=!1;for(const i of Yd(t)){const a=IX(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function IX(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?Dc(c,f):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return AV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=new jt(De.comparator);function No(){return NX}const HV=new jt(De.comparator);function Vd(...t){let e=HV;for(const n of t)e=e.insert(n.key,n);return e}function GV(t){let e=HV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Bl(){return Jd()}function $V(){return Jd()}function Jd(){return new mu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const PX=new jt(De.comparator),RX=new Tn(De.comparator);function Ze(...t){let e=RX;for(const n of t)e=e.add(n);return e}const MX=new Tn(Qe);function kX(){return MX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ry(e)?"-0":e}}function KV(t){return{integerValue:""+t}}function DX(t,e){return sX(e)?KV(e):wS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this._=void 0}}function OX(t,e,n){return t instanceof sy?(function(i,a){const s={fields:{[NV]:{stringValue:IV},[RV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&yS(a)&&(a=Tv(a)),a&&(s.fields[PV]=a),{mapValue:s}})(n,e):t instanceof hh?YV(t,e):t instanceof ph?JV(t,e):(function(i,a){const s=WV(i,a),u=zR(s)+zR(i.Ae);return dE(s)&&dE(i.Ae)?KV(u):wS(i.serializer,u)})(t,e)}function LX(t,e,n){return t instanceof hh?YV(t,e):t instanceof ph?JV(t,e):n}function WV(t,e){return t instanceof ly?(function(r){return dE(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class sy extends Cv{}class hh extends Cv{constructor(e){super(),this.elements=e}}function YV(t,e){const n=XV(e);for(const r of t.elements)n.some((i=>Ua(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ph extends Cv{constructor(e){super(),this.elements=e}}function JV(t,e){let n=XV(e);for(const r of t.elements)n=n.filter((i=>!Ua(i,r)));return{arrayValue:{values:n}}}class ly extends Cv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zR(t){return Jt(t.integerValue||t.doubleValue)}function XV(t){return vS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof hh&&i instanceof hh||r instanceof ph&&i instanceof ph?kc(r.elements,i.elements,Ua):r instanceof ly&&i instanceof ly?Ua(r.Ae,i.Ae):r instanceof sy&&i instanceof sy})(t.transform,e.transform)}class UX{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iv{}function QV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nv(t.key,hr.none()):new jh(t.key,t.data,hr.none());{const n=t.data,r=Mr.empty();let i=new Tn(Wn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new tl(t.key,r,new Xr(i.toArray()),hr.none())}}function jX(t,e,n){t instanceof jh?(function(i,a,s){const u=i.value.clone(),c=qR(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof tl?(function(i,a,s){if(!Pg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=qR(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(ZV(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Xd(t,e,n,r){return t instanceof jh?(function(a,s,u,c){if(!Pg(a.precondition,s))return u;const f=a.value.clone(),h=BR(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof tl?(function(a,s,u,c){if(!Pg(a.precondition,s))return u;const f=BR(a.fieldTransforms,c,s),h=s.data;return h.setAll(ZV(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,s,u){return Pg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function zX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=WV(r.transform,i||null);a!=null&&(n===null&&(n=Mr.empty()),n.set(r.field,a))}return n||null}function FR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&kc(r,i,((a,s)=>VX(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jh extends Iv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tl extends Iv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZV(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function qR(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,LX(s,u,n[i]))}return r}function BR(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,OX(a,s,e))}return r}class Nv extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FX extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jX(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$V();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=n.has(i.key)?null:u;const c=QV(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&kc(this.mutations,e.mutations,((n,r)=>FR(n,r)))&&kc(this.baseMutations,e.baseMutations,((n,r)=>FR(n,r)))}}class ES{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return PX})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new ES(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,nt;function GX(t){switch(t){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function e3(t){if(t===void 0)return Io("GRPC error has no .code"),ue.UNKNOWN;switch(t){case fn.OK:return ue.OK;case fn.CANCELLED:return ue.CANCELLED;case fn.UNKNOWN:return ue.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ue.INTERNAL;case fn.UNAVAILABLE:return ue.UNAVAILABLE;case fn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case fn.NOT_FOUND:return ue.NOT_FOUND;case fn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case fn.ABORTED:return ue.ABORTED;case fn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case fn.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:t})}}(nt=fn||(fn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX=new Os([4294967295,4294967295],0);function HR(t){const e=$X().encode(t),n=new mV;return n.update(e),new Uint8Array(n.digest())}function GR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Os([n,r],0),new Os([i,a],0)]}class TS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ud(`Invalid padding: ${n}`);if(r<0)throw new Ud(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ud(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ud(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Os.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Os.fromNumber(r)));return i.compare(KX)===1&&(i=new Os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=HR(e),[r,i]=GR(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new TS(a,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=HR(e),[r,i]=GR(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pv(ze.min(),i,new jt(Qe),No(),Ze())}}class zh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zh(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class t3{constructor(e,n){this.targetId=e,this.Ce=n}}class n3{constructor(e,n,r=Jn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $R{constructor(){this.ve=0,this.Fe=KR(),this.Me=Jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),r=Ze();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:a})}})),new zh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=KR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WX{constructor(e){this.Ge=e,this.ze=new Map,this.je=No(),this.Je=Qm(),this.He=Qm(),this.Ye=new jt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(pE(a))if(r===0){const s=new De(a.path);this.et(n,s,tr.newNoDocument(s,ze.min()))}else dt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,u;try{s=Hs(r).toUint8Array()}catch(c){if(c instanceof CV)return Mc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new TS(s,i,a)}catch(c){return Mc(c instanceof Ud?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const u=this.ot(s);if(u){if(a.current&&pE(u.target)){const c=new De(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,tr.newNoDocument(c,e))}a.Be&&(n.set(s,a.ke()),a.qe())}}));let r=Ze();this.He.forEach(((a,s)=>{let u=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new Pv(e,n,this.Ye,this.je,r);return this.je=No(),this.Je=Qm(),this.He=Qm(),this.Ye=new jt(Qe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $R,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tn(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tn(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $R),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qm(){return new jt(De.comparator)}function KR(){return new jt(De.comparator)}const YX={asc:"ASCENDING",desc:"DESCENDING"},JX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XX={and:"AND",or:"OR"};class QX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yE(t,e){return t.useProto3Json||Ev(e)?e:{value:e}}function uy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZX(t,e){return uy(t,e.toTimestamp())}function Da(t){return dt(!!t,49232),ze.fromTimestamp((function(n){const r=Bs(n);return new Mt(r.seconds,r.nanos)})(t))}function SS(t,e){return vE(t,e).canonicalString()}function vE(t,e){const n=(function(i){return new Ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function i3(t){const e=Ct.fromString(t);return dt(u3(e),10190,{key:e.toString()}),e}function _E(t,e){return SS(t.databaseId,e.path)}function ix(t,e){const n=i3(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(o3(n))}function a3(t,e){return SS(t.databaseId,e)}function eQ(t){const e=i3(t);return e.length===4?Ct.emptyPath():o3(e)}function bE(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o3(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WR(t,e,n){return{name:_E(t,e),fields:n.value.mapValue.fields}}function tQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ue(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(dt(h===void 0||typeof h=="string",58123),Jn.fromBase64String(h||"")):(dt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Jn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(f){const h=f.code===void 0?ue.UNKNOWN:e3(f.code);return new be(h,f.message||"")})(s);n=new n3(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ix(t,r.document.name),a=Da(r.document.updateTime),s=r.document.createTime?Da(r.document.createTime):ze.min(),u=new Mr({mapValue:{fields:r.document.fields}}),c=tr.newFoundDocument(i,a,s,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Rg(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ix(t,r.document),a=r.readTime?Da(r.readTime):ze.min(),s=tr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Rg([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ix(t,r.document),a=r.removedTargetIds||[];n=new Rg([],a,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new HX(i,a),u=r.targetId;n=new t3(u,s)}}return n}function nQ(t,e){let n;if(e instanceof jh)n={update:WR(t,e.key,e.value)};else if(e instanceof Nv)n={delete:_E(t,e.key)};else if(e instanceof tl)n={update:WR(t,e.key,e.data),updateMask:fQ(e.fieldMask)};else{if(!(e instanceof FX))return Ue(16599,{Vt:e.type});n={verify:_E(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const u=s.transform;if(u instanceof sy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ph)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ly)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Ue(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:ZX(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)})(t,e.precondition)),n}function rQ(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Da(i.updateTime):Da(a);return s.isEqual(ze.min())&&(s=Da(a)),new UX(s,i.transformResults||[])})(n,e)))):[]}function iQ(t,e){return{documents:[a3(t,e.path)]}}function aQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=a3(t,i);const a=(function(f){if(f.length!==0)return l3(Yi.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:pc(v.field),direction:lQ(v.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=yE(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function oQ(t){let e=eQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const v=s3(m);return v instanceof Yi&&VV(v)?v.getFilters():[v]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((v=>(function(A){return new dh(mc(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let v;return v=typeof m=="object"?m.value:m,Ev(v)?null:v})(n.limit));let c=null;n.startAt&&(c=(function(m){const v=!!m.before,w=m.values||[];return new oy(w,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const v=!m.before,w=m.values||[];return new oy(w,v)})(n.endAt)),SX(e,i,s,a,u,"F",c,f)}function sQ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mc(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mc(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mc(n.unaryFilter.field);return mn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mc(n.unaryFilter.field);return mn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return mn.create(mc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yi.create(n.compositeFilter.filters.map((r=>s3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function lQ(t){return YX[t]}function uQ(t){return JX[t]}function cQ(t){return XX[t]}function pc(t){return{fieldPath:t.canonicalString()}}function mc(t){return Wn.fromServerFormat(t.fieldPath)}function l3(t){return t instanceof mn?(function(n){if(n.op==="=="){if(OR(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(DR(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OR(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(DR(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:uQ(n.op),value:n.value}}})(t):t instanceof Yi?(function(n){const r=n.getFilters().map((i=>l3(i)));return r.length===1?r[0]:{compositeFilter:{op:cQ(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function fQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function u3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r,i,a=ze.min(),s=ze.min(),u=Jn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e){this.yt=e}}function hQ(t){const e=oQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(){this.Cn=new mQ}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(qs.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class mQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(Ct.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c3=41943040;class Pr{static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(c3,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Lc(0)}static cr(){return new Lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="LruGarbageCollector",gQ=1048576;function XR([t,e],[n,r]){const i=Qe(t,n);return i===0?Qe(e,r):i}class yQ{constructor(e){this.Ir=e,this.buffer=new Tn(XR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();XR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(JR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nf(n)?we(JR,"Ignoring IndexedDB error during garbage collection: ",n):await tf(n)}await this.Vr(3e5)}))}}class _Q{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(wv.ce);const r=new yQ(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(YR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),dc()<=Xe.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function bQ(t,e){return new _Q(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(){this.changes=new mu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Xd(r.mutation,i,Xr.empty(),Mt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ze()){const i=Bl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Vd();return a.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ze())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let a=No();const s=Jd(),u=(function(){return Jd()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof tl)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),Xd(h.mutation,f,h.mutation.getFieldMask(),Mt.now())):s.set(f.key,Xr.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>u.set(f,new wQ(h,s.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Jd();let i=new jt(((s,u)=>s-u)),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Xr.empty();h=u.applyToLocalView(f,h),r.set(c,h);const m=(i.get(u.batchId)||Ze()).add(c);i=i.insert(u.batchId,m)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,m=$V();h.forEach((v=>{if(!a.has(v)){const w=QV(n.get(v),r.get(v));w!==null&&m.set(v,w),a=a.add(v)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return fe.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return De.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):fe.resolve(Bl());let u=lh,c=a;return s.next((f=>fe.forEach(f,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,Ze()))).next((h=>({batchId:u,changes:GV(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let i=Vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Vd();return this.indexManager.getCollectionParents(e,a).next((u=>fe.forEach(u,(c=>{const f=(function(m,v){return new rf(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((m,v)=>{s=s.insert(m,v)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,tr.newInvalidDocument(h)))}));let u=Vd();return s.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&Xd(h.mutation,f,Xr.empty(),Mt.now()),Av(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Da(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:hQ(i.bundledQuery),readTime:Da(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(){this.overlays=new jt(De.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return fe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),a=n.length+1,s=new De(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new jt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Bl(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Bl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return fe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new BX(n,r));let a=this.qr.get(n);a===void 0&&(a=Ze(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.Qr=new Tn(On.$r),this.Ur=new Tn(On.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new On(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Ct([])),r=new On(n,e),i=new On(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Ct([])),r=new On(n,e),i=new On(n,e+1);let a=Ze();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new On(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(On.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qX(a,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Zr=this.Zr.add(new On(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?gS:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),i=new On(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const u=this.Xr(s.Yr);a.push(u)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(Qe);return n.forEach((i=>{const a=new On(i,0),s=new On(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(u=>{r=r.add(u.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const s=new On(new De(a),0);let u=new Tn(Qe);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Yr)),!0)}),s),fe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const a=new On(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new On(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e){this.ri=e,this.docs=(function(){return new jt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=No();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():tr.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=No();const s=n.path,u=new De(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||rX(nX(h),r)<=0||(i.has(h.key)||Av(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new NQ(this)}getSize(e){return fe.resolve(this.size)}}class NQ extends xQ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e){this.persistence=e,this.si=new mu((n=>_S(n)),bS),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new AS,this.targetCount=0,this.ai=Lc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Lc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n){this.ui={},this.overlays={},this.ci=new wv(0),this.li=!1,this.li=!0,this.hi=new AQ,this.referenceDelegate=e(this),this.Pi=new PQ(this),this.indexManager=new pQ,this.remoteDocumentCache=(function(i){return new IQ(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dQ(n),this.Ii=new TQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new CQ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new RQ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class RQ extends aX{constructor(e){super(),this.currentSequenceNumber=e}}class CS{constructor(e){this.persistence=e,this.Ri=new AS,this.Vi=null}static mi(e){return new CS(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=De.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cy{constructor(e,n){this.persistence=e,this.pi=new mu((r=>lX(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=bQ(this,n)}static mi(e,n){return new cy(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((u=>{u||(r++,a.removeEntry(s,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ig(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ze(),i=Ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new IS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v$()?8:oX(ir())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new MQ;return this.Ss(e,n,s).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,s,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(dc()<=Xe.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(dc()<=Xe.DEBUG&&we("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(dc()<=Xe.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):fe.resolve())}ys(e,n){if(jR(n))return fe.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=gE(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=Ze(...a);return this.ps.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,u);return this.Cs(n,f,s,c.readTime)?this.ys(e,gE(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,i){return jR(n)||i.isEqual(ze.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?fe.resolve(null):(dc()<=Xe.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.vs(e,s,n,tX(i,lh)).next((u=>u)))}))}Ds(e,n){let r=new Tn(BV(e));return n.forEach(((i,a)=>{Av(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return dc()<=Xe.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",hc(n)),this.ps.getDocumentsMatchingQuery(e,n,qs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="LocalStore",DQ=3e8;class OQ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new jt(Qe),this.xs=new mu((a=>_S(a)),bS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LQ(t,e,n,r){return new OQ(t,e,n,r)}async function d3(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],u=[];let c=Ze();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:s,addedBatchIds:u})))}))}))}function VQ(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const m=f.batch,v=m.keys();let w=fe.resolve();return v.forEach((A=>{w=w.next((()=>h.getEntry(c,A))).next((S=>{const C=f.docVersions.get(A);dt(C!==null,48541),S.version.compareTo(C)<0&&(m.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),h.addEntry(S)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=Ze();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function h3(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function UQ(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,m)=>{const v=i.get(m);if(!v)return;u.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,m))));let w=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(Jn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(m,w),(function(S,C,P){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=DQ?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,w,h)&&u.push(n.Pi.updateTargetData(a,w))}));let c=No(),f=Ze();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(jQ(a,s,e.documentUpdates).next((h=>{c=h.ks,f=h.qs}))),!r.isEqual(ze.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(h)}return fe.waitFor(u).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.Ms=i,a)))}function jQ(t,e,n){let r=Ze(),i=Ze();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=No();return n.forEach(((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(ze.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):we(NS,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function zQ(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FQ(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,fe.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new ks(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function xE(t,e,n){const r=qe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!nf(s))throw s;we(NS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function QR(t,e,n){const r=qe(t);let i=ze.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const m=qe(c),v=m.xs.get(h);return v!==void 0?fe.resolve(m.Ms.get(v)):m.Pi.getTargetData(f,h)})(r,s,ka(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,u.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ze.min(),n?a:Ze()))).next((u=>(qQ(r,CX(e),u),{documents:u,Qs:a})))))}function qQ(t,e,n){let r=t.Os.get(e)||ze.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class ZR{constructor(){this.activeTargetIds=kX()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BQ{constructor(){this.Mo=new ZR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="ConnectivityMonitor";class t2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(e2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(e2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm=null;function wE(){return Zm===null?Zm=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zm++,"0x"+Zm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="RestConnection",GQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $Q{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===iy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=wE(),u=this.zo(e,n.toUriEncodedString());we(ax,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(u),h=Xc(f);return this.Jo(e,u,c,r,h).then((m=>(we(ax,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw Mc(ax,`RPC '${e}' ${s} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ef})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=GQ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class WQ extends $Q{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=wE();return new Promise(((u,c)=>{const f=new gV;f.setWithCredentials(!0),f.listenOnce(yV.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Cg.NO_ERROR:const m=f.getResponseJson();we(Qn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),u(m);break;case Cg.TIMEOUT:we(Qn,`RPC '${e}' ${s} timed out`),c(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Cg.HTTP_ERROR:const v=f.getStatus();if(we(Qn,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w==null?void 0:w.error;if(A&&A.status&&A.message){const S=(function(P){const D=P.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(D)>=0?D:ue.UNKNOWN})(A.status);c(new be(S,A.message))}else c(new be(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new be(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(Qn,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(Qn,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=wE(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bV(),u=_V(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");we(Qn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);this.I_(m);let v=!1,w=!1;const A=new KQ({Yo:C=>{w?we(Qn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(v||(we(Qn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),we(Qn,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),S=(C,P,D)=>{C.listen(P,(M=>{try{D(M)}catch(V){setTimeout((()=>{throw V}),0)}}))};return S(m,Ld.EventType.OPEN,(()=>{w||(we(Qn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),S(m,Ld.EventType.CLOSE,(()=>{w||(w=!0,we(Qn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(m))})),S(m,Ld.EventType.ERROR,(C=>{w||(w=!0,Mc(Qn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),A.a_(new be(ue.UNAVAILABLE,"The operation could not be completed")))})),S(m,Ld.EventType.MESSAGE,(C=>{var P;if(!w){const D=C.data[0];dt(!!D,16349);const M=D,V=(M==null?void 0:M.error)||((P=M[0])==null?void 0:P.error);if(V){we(Qn,`RPC '${e}' stream ${i} received error:`,V);const U=V.status;let G=(function(L){const F=fn[L];if(F!==void 0)return e3(F)})(U),k=V.message;G===void 0&&(G=ue.INTERNAL,k="Unknown error status: "+U+" with message "+V.message),w=!0,A.a_(new be(G,k)),m.close()}else we(Qn,`RPC '${e}' stream ${i} received:`,D),A.u_(D)}})),S(u,vV.STAT_EVENT,(C=>{C.stat===uE.PROXY?we(Qn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===uE.NOPROXY&&we(Qn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ox(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t){return new QX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="PersistentStream";class m3{constructor(e,n,r,i,a,s,u,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new be(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(n2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(n2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YQ extends m3{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tQ(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ze.min():s.readTime?Da(s.readTime):ze.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=bE(this.serializer),n.addTarget=(function(a,s){let u;const c=s.target;if(u=pE(c)?{documents:iQ(a,c)}:{query:aQ(a,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=r3(a,s.resumeToken);const f=yE(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(ze.min())>0){u.readTime=uy(a,s.snapshotVersion.toTimestamp());const f=yE(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=sQ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=bE(this.serializer),n.removeTarget=e,this.q_(n)}}class JQ extends m3{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rQ(e.writeResults,e.commitTime),r=Da(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>nQ(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{}class QQ extends XQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,vE(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(ue.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.Ho(e,vE(n,r),i,s,u,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ue.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Io(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="RemoteStore";class eZ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{gu(this)&&(we(ou,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ea.add(4),await Fh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Mv(f)})(this))}))})),this.Ra=new ZQ(r,i)}}async function Mv(t){if(gu(t))for(const e of t.da)await e(!0)}async function Fh(t){for(const e of t.da)await e(!1)}function g3(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kS(n)?MS(n):af(n).O_()&&RS(n,e))}function PS(t,e){const n=qe(t),r=af(n);n.Ia.delete(e),r.O_()&&y3(n,e),n.Ia.size===0&&(r.O_()?r.L_():gu(n)&&n.Ra.set("Unknown"))}function RS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}af(t).Y_(e)}function y3(t,e){t.Va.Ue(e),af(t).Z_(e)}function MS(t){t.Va=new WX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),af(t).start(),t.Ra.ua()}function kS(t){return gu(t)&&!af(t).x_()&&t.Ia.size>0}function gu(t){return qe(t).Ea.size===0}function v3(t){t.Va=void 0}async function tZ(t){t.Ra.set("Online")}async function nZ(t){t.Ia.forEach(((e,n)=>{RS(t,e)}))}async function rZ(t,e){v3(t),kS(t)?(t.Ra.ha(e),MS(t)):t.Ra.set("Unknown")}async function iZ(t,e,n){if(t.Ra.set("Online"),e instanceof n3&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){we(ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fy(t,r)}else if(e instanceof Rg?t.Va.Ze(e):e instanceof t3?t.Va.st(e):t.Va.tt(e),!n.isEqual(ze.min()))try{const r=await h3(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const u=a.Va.Tt(s);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Jn.EMPTY_BYTE_STRING,h.snapshotVersion)),y3(a,c);const m=new ks(h.target,c,f,h.sequenceNumber);RS(a,m)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){we(ou,"Failed to raise snapshot:",r),await fy(t,r)}}async function fy(t,e,n){if(!nf(e))throw e;t.Ea.add(1),await Fh(t),t.Ra.set("Offline"),n||(n=()=>h3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(ou,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mv(t)}))}function _3(t,e){return e().catch((n=>fy(t,n,e)))}async function kv(t){const e=qe(t),n=$s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gS;for(;aZ(e);)try{const i=await zQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,oZ(e,i)}catch(i){await fy(e,i)}b3(e)&&x3(e)}function aZ(t){return gu(t)&&t.Ta.length<10}function oZ(t,e){t.Ta.push(e);const n=$s(t);n.O_()&&n.X_&&n.ea(e.mutations)}function b3(t){return gu(t)&&!$s(t).x_()&&t.Ta.length>0}function x3(t){$s(t).start()}async function sZ(t){$s(t).ra()}async function lZ(t){const e=$s(t);for(const n of t.Ta)e.ea(n.mutations)}async function uZ(t,e,n){const r=t.Ta.shift(),i=ES.from(r,e,n);await _3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await kv(t)}async function cZ(t,e){e&&$s(t).X_&&await(async function(r,i){if((function(s){return GX(s)&&s!==ue.ABORTED})(i.code)){const a=r.Ta.shift();$s(r).B_(),await _3(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await kv(r)}})(t,e),b3(t)&&x3(t)}async function r2(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(ou,"RemoteStore received new credentials");const r=gu(n);n.Ea.add(3),await Fh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mv(n)}async function fZ(t,e){const n=qe(t);e?(n.Ea.delete(2),await Mv(n)):e||(n.Ea.add(2),await Fh(n),n.Ra.set("Unknown"))}function af(t){return t.ma||(t.ma=(function(n,r,i){const a=qe(n);return a.sa(),new YQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:tZ.bind(null,t),t_:nZ.bind(null,t),r_:rZ.bind(null,t),H_:iZ.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),kS(t)?MS(t):t.Ra.set("Unknown")):(await t.ma.stop(),v3(t))}))),t.ma}function $s(t){return t.fa||(t.fa=(function(n,r,i){const a=qe(n);return a.sa(),new JQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sZ.bind(null,t),r_:cZ.bind(null,t),ta:lZ.bind(null,t),na:uZ.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await kv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(ou,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,u=new DS(e,n,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OS(t,e){if(Io("AsyncQueue",`${e}: ${t}`),nf(t))return new be(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{static emptySet(e){return new Sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Vd(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.ga=new jt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vc{constructor(e,n,r,i,a,s,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new Vc(e,n,Sc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hZ{constructor(){this.queries=a2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=qe(n),a=i.queries;i.queries=a2(),a.forEach(((s,u)=>{for(const c of u.Sa)c.onError(r)}))})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function a2(){return new mu((t=>qV(t)),Sv)}async function w3(t,e){const n=qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new dZ,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=OS(s,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&LS(n)}async function E3(t,e){const n=qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pZ(t,e){const n=qe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const u of s.Sa)u.Fa(i)&&(r=!0);s.wa=i}}r&&LS(n)}function mZ(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function LS(t){t.Ca.forEach((e=>{e.next()}))}var EE,o2;(o2=EE||(EE={})).Ma="default",o2.Cache="cache";class T3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==EE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.key=e}}class A3{constructor(e){this.key=e}}class gZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=BV(e),this.tu=new Sc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new i2,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const v=i.get(h),w=Av(this.query,m)?m:null,A=!!v&&this.mutatedKeys.has(v.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;v&&w?v.data.isEqual(w.data)?A!==S&&(r.track({type:3,doc:w}),C=!0):this.su(v,w)||(r.track({type:2,doc:w}),C=!0,(c&&this.eu(w,c)>0||f&&this.eu(w,f)<0)&&(u=!0)):!v&&w?(r.track({type:0,doc:w}),C=!0):v&&!w&&(r.track({type:1,doc:v}),C=!0,(c||f)&&(u=!0)),C&&(w?(s=s.add(w),a=S?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,m)=>(function(w,A){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:C})}};return S(w)-S(A)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,s.length!==0||f?{snapshot:new Vc(this.query,e.tu,a,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new i2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new A3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new S3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const VS="SyncEngine";class yZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vZ{constructor(e){this.key=e,this.hu=!1}}class _Z{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new mu((u=>qV(u)),Sv),this.Iu=new Map,this.Eu=new Set,this.du=new jt(De.comparator),this.Au=new Map,this.Ru=new AS,this.Vu={},this.mu=new Map,this.fu=Lc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bZ(t,e,n=!0){const r=M3(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await C3(r,e,n,!0),i}async function xZ(t,e){const n=M3(t);await C3(n,e,!0,!1)}async function C3(t,e,n,r){const i=await FQ(t.localStore,ka(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await wZ(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&g3(t.remoteStore,i),u}async function wZ(t,e,n,r,i){t.pu=(m,v,w)=>(async function(S,C,P,D){let M=C.view.ru(P);M.Cs&&(M=await QR(S.localStore,C.query,!1).then((({documents:k})=>C.view.ru(k,M))));const V=D&&D.targetChanges.get(C.targetId),U=D&&D.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(M,S.isPrimaryClient,V,U);return l2(S,C.targetId,G.au),G.snapshot})(t,m,v,w);const a=await QR(t.localStore,e,!0),s=new gZ(e,a.Qs),u=s.ru(a.documents),c=zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);l2(t,n,f.au);const h=new yZ(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function EZ(t,e,n){const r=qe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!Sv(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&PS(r.remoteStore,i.targetId),TE(r,i.targetId)})).catch(tf)):(TE(r,i.targetId),await xE(r.localStore,i.targetId,!0))}async function TZ(t,e){const n=qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),PS(n.remoteStore,r.targetId))}async function SZ(t,e,n){const r=MZ(t);try{const i=await(function(s,u){const c=qe(s),f=Mt.now(),h=u.reduce(((w,A)=>w.add(A.key)),Ze());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let A=No(),S=Ze();return c.Ns.getEntries(w,h).next((C=>{A=C,A.forEach(((P,D)=>{D.isValidDocument()||(S=S.add(P))}))})).next((()=>c.localDocuments.getOverlayedDocuments(w,A))).next((C=>{m=C;const P=[];for(const D of u){const M=zX(D,m.get(D.key).overlayedDocument);M!=null&&P.push(new tl(D.key,M,DV(M.value.mapValue),hr.exists(!0)))}return c.mutationQueue.addMutationBatch(w,f,P,u)})).next((C=>{v=C;const P=C.applyToLocalDocumentSet(m,S);return c.documentOverlayCache.saveOverlays(w,C.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:GV(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let f=s.Vu[s.currentUser.toKey()];f||(f=new jt(Qe)),f=f.insert(u,c),s.Vu[s.currentUser.toKey()]=f})(r,i.batchId,n),await qh(r,i.changes),await kv(r.remoteStore)}catch(i){const a=OS(i,"Failed to persist write");n.reject(a)}}async function I3(t,e){const n=qe(t);try{const r=await UQ(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?dt(s.hu,14607):i.removedDocuments.size>0&&(dt(s.hu,42227),s.hu=!1))})),await qh(n,r,e)}catch(r){await tf(r)}}function s2(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=qe(s);c.onlineState=u;let f=!1;c.queries.forEach(((h,m)=>{for(const v of m.Sa)v.va(u)&&(f=!0)})),f&&LS(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AZ(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new jt(De.comparator);s=s.insert(a,tr.newNoDocument(a,ze.min()));const u=Ze().add(a),c=new Pv(ze.min(),new Map,new jt(Qe),s,u);await I3(r,c),r.du=r.du.remove(a),r.Au.delete(e),US(r)}else await xE(r.localStore,e,!1).then((()=>TE(r,e,n))).catch(tf)}async function CZ(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await VQ(n.localStore,e);P3(n,r,null),N3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qh(n,i)}catch(i){await tf(i)}}async function IZ(t,e,n){const r=qe(t);try{const i=await(function(s,u){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((m=>(dt(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);P3(r,e,n),N3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qh(r,i)}catch(i){await tf(i)}}function N3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function P3(t,e,n){const r=qe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function TE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||R3(t,r)}))}function R3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(PS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),US(t))}function l2(t,e,n){for(const r of n)r instanceof S3?(t.Ru.addReference(r.key,e),NZ(t,r)):r instanceof A3?(we(VS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||R3(t,r.key)):Ue(19791,{wu:r})}function NZ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(VS,"New document in limbo: "+n),t.Eu.add(r),US(t))}function US(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new vZ(n)),t.du=t.du.insert(n,r),g3(t.remoteStore,new ks(ka(xS(n.path)),r,"TargetPurposeLimboResolution",wv.ce))}}async function qh(t,e,n){const r=qe(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=IS.As(c.targetId,f);a.push(m)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>fe.forEach(f,(v=>fe.forEach(v.Es,(w=>h.persistence.referenceDelegate.addReference(m,v.targetId,w))).next((()=>fe.forEach(v.ds,(w=>h.persistence.referenceDelegate.removeReference(m,v.targetId,w)))))))))}catch(m){if(!nf(m))throw m;we(NS,"Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const w=h.Ms.get(v),A=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(A);h.Ms=h.Ms.insert(v,S)}}})(r.localStore,a))}async function PZ(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we(VS,"User change. New user:",e.toKey());const r=await d3(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((u=>{u.forEach((c=>{c.reject(new be(ue.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qh(n,r.Ls)}}function RZ(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let i=Ze();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function M3(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AZ.bind(null,e),e.Pu.H_=pZ.bind(null,e.eventManager),e.Pu.yu=mZ.bind(null,e.eventManager),e}function MZ(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IZ.bind(null,e),e}class dy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LQ(this.persistence,new kQ,e.initialUser,this.serializer)}Cu(e){return new f3(CS.mi,this.serializer)}Du(e){return new BQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dy.provider={build:()=>new dy};class kZ extends dy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof cy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new f3((r=>cy.mi(r,n)),this.serializer)}}class SE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PZ.bind(null,this.syncEngine),await fZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hZ})()}createDatastore(e){const n=Rv(e.databaseInfo.databaseId),r=(function(a){return new WQ(a)})(e.databaseInfo);return(function(a,s,u,c){return new QQ(a,s,u,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,u){return new eZ(r,i,a,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>s2(this.syncEngine,n,0)),(function(){return t2.v()?new t2:new HQ})())}createSyncEngine(e,n){return(function(i,a,s,u,c,f,h){const m=new _Z(i,a,s,u,c,f);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=qe(i);we(ou,"RemoteStore shutting down."),a.Ea.add(5),await Fh(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}SE.provider={build:()=>new SE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class DZ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=er.UNAUTHENTICATED,this.clientId=mS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{we(Ks,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(we(Ks,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=OS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sx(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ks,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await d3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function u2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OZ(t);we(Ks,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>r2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>r2(e.remoteStore,i))),t._onlineComponents=e}async function OZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ks,"Using user provided OfflineComponentProvider");try{await sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Mc("Error using user provided cache. Falling back to memory cache: "+n),await sx(t,new dy)}}else we(Ks,"Using default OfflineComponentProvider"),await sx(t,new kZ(void 0));return t._offlineComponents}async function D3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ks,"Using user provided OnlineComponentProvider"),await u2(t,t._uninitializedComponentsProvider._online)):(we(Ks,"Using default OnlineComponentProvider"),await u2(t,new SE))),t._onlineComponents}function LZ(t){return D3(t).then((e=>e.syncEngine))}async function O3(t){const e=await D3(t),n=e.eventManager;return n.onListen=bZ.bind(null,e.syncEngine),n.onUnlisten=EZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TZ.bind(null,e.syncEngine),n}function VZ(t,e,n={}){const r=new wo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,f){const h=new k3({next:v=>{h.Nu(),s.enqueueAndForget((()=>E3(a,m)));const w=v.docs.has(u);!w&&v.fromCache?f.reject(new be(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&c&&c.source==="server"?f.reject(new be(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new T3(xS(u.path),h,{includeMetadataChanges:!0,qa:!0});return w3(a,m)})(await O3(t),t.asyncQueue,e,n,r))),r.promise}function UZ(t,e,n={}){const r=new wo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,f){const h=new k3({next:v=>{h.Nu(),s.enqueueAndForget((()=>E3(a,m))),v.fromCache&&c.source==="server"?f.reject(new be(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new T3(u,h,{includeMetadataChanges:!0,qa:!0});return w3(a,m)})(await O3(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="firestore.googleapis.com",f2=!0;class d2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V3,this.ssl=f2}else this.host=e.host,this.ssl=e.ssl??f2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gQ)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HJ;switch(r.type){case"firstParty":return new WJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=c2.get(n);r&&(we("ComponentProvider","Removing Datastore"),c2.delete(n),r.terminate())})(this),Promise.resolve()}}function jZ(t,e,n,r={}){var f;t=Ai(t,Dv);const i=Xc(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(t5(`https://${u}`),n5("Firestore",!0)),a.host!==V3&&a.host!==u&&Mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:u,ssl:i,emulatorOptions:r};if(!Fs(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=er.MOCK_USER;else{h=c$(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new er(v)}t._authCredentials=new GJ(new wV(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uh(n,Xt._jsonSchema))return new Xt(e,r||null,new De(Ct.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:gn("string",Xt._jsonSchemaVersion),referencePath:gn("string")};class Ls extends yu{constructor(e,n,r){super(e,n,xS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new De(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=ht(t),EV("collection","path",e),t instanceof Dv){const r=Ct.fromString(e,...n);return SR(r),new Ls(t,null,r)}{if(!(t instanceof Xt||t instanceof Ls))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return SR(r),new Ls(t.firestore,null,r)}}function pn(t,e,...n){if(t=ht(t),arguments.length===1&&(e=mS.newId()),EV("doc","path",e),t instanceof Dv){const r=Ct.fromString(e,...n);return TR(r),new Xt(t,null,new De(r))}{if(!(t instanceof Xt||t instanceof Ls))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return TR(r),new Xt(t.firestore,t instanceof Ls?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="AsyncQueue";class p2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p3(this,"async_queue_retry"),this._c=()=>{const r=ox();r&&we(h2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ox();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ox();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nf(e))throw e;we(h2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Io("INTERNAL UNHANDLED ERROR: ",m2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=DS.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:m2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function m2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nl extends Dv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new p2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p2(e),this._firestoreClient=void 0,await e}}}function zZ(t,e){const n=typeof t=="object"?t:mv(),r=typeof t=="string"?t:iy,i=Qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=l$("firestore");a&&jZ(i,...a)}return i}function Ov(t){if(t._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FZ(t),t._firestoreClient}function FZ(t){var r,i,a;const e=t._freezeSettings(),n=(function(u,c,f,h){return new fX(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,L3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(Jn.fromBase64String(e))}catch(n){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xi(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uh(e,xi._jsonSchema))return xi.fromBase64String(e.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:gn("string",xi._jsonSchemaVersion),bytes:gn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oa._jsonSchemaVersion}}static fromJSON(e){if(Uh(e,Oa._jsonSchema))return new Oa(e.latitude,e.longitude)}}Oa._jsonSchemaVersion="firestore/geoPoint/1.0",Oa._jsonSchema={type:gn("string",Oa._jsonSchemaVersion),latitude:gn("number"),longitude:gn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:La._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uh(e,La._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new La(e.vectorValues);throw new be(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}La._jsonSchemaVersion="firestore/vectorValue/1.0",La._jsonSchema={type:gn("string",La._jsonSchemaVersion),vectorValues:gn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ=/^__.*__$/;class BZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new jh(e,this.data,n,this.fieldTransforms)}}class U3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new tl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class zS{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j3(this.Ac)&&qZ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rv(e)}Cc(e,n,r,i=!1){return new zS({Ac:e,methodName:n,Dc:r,path:Wn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hh(t){const e=t._freezeSettings(),n=Rv(t._databaseId);return new HZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FS(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);qS("Data must be an object, but it was:",s,r);const u=q3(r,s);let c,f;if(a.merge)c=new Xr(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const v=AE(e,m,n);if(!s.contains(v))throw new be(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);H3(h,v)||h.push(v)}c=new Xr(h),f=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=s.fieldTransforms;return new BZ(new Mr(u),c,f)}class Lv extends jS{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lv}}function z3(t,e,n,r){const i=t.Cc(1,e,n);qS("Data must be an object, but it was:",i,r);const a=[],s=Mr.empty();el(r,((c,f)=>{const h=BS(e,c,n);f=ht(f);const m=i.yc(h);if(f instanceof Lv)a.push(h);else{const v=Gh(f,m);v!=null&&(a.push(h),s.set(h,v))}}));const u=new Xr(a);return new U3(s,u,i.fieldTransforms)}function F3(t,e,n,r,i,a){const s=t.Cc(1,e,n),u=[AE(e,r,n)],c=[i];if(a.length%2!=0)throw new be(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(AE(e,a[v])),c.push(a[v+1]);const f=[],h=Mr.empty();for(let v=u.length-1;v>=0;--v)if(!H3(f,u[v])){const w=u[v];let A=c[v];A=ht(A);const S=s.yc(w);if(A instanceof Lv)f.push(w);else{const C=Gh(A,S);C!=null&&(f.push(w),h.set(w,C))}}const m=new Xr(f);return new U3(h,m,s.fieldTransforms)}function GZ(t,e,n,r=!1){return Gh(n,t.Cc(r?4:3,e))}function Gh(t,e){if(B3(t=ht(t)))return qS("Unsupported field value:",e,t),q3(t,e);if(t instanceof jS)return(function(r,i){if(!j3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const u of r){let c=Gh(u,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Mt.fromDate(r);return{timestampValue:uy(i.serializer,a)}}if(r instanceof Mt){const a=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uy(i.serializer,a)}}if(r instanceof Oa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:r3(i.serializer,r._byteString)};if(r instanceof Xt){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:SS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof La)return(function(s,u){return{mapValue:{fields:{[MV]:{stringValue:kV},[ay]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return wS(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${xv(r)}`)})(t,e)}function q3(t,e){const n={};return AV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(t,((r,i)=>{const a=Gh(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function B3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Oa||t instanceof xi||t instanceof Xt||t instanceof jS||t instanceof La)}function qS(t,e,n){if(!B3(n)||!TV(n)){const r=xv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function AE(t,e,n){if((e=ht(e))instanceof Bh)return e._internalPath;if(typeof e=="string")return BS(t,e);throw hy("Field path arguments must be of type string or ",t,!1,void 0,n)}const $Z=new RegExp("[~\\*/\\[\\]]");function BS(t,e,n){if(e.search($Z)>=0)throw hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bh(...e.split("."))._internalPath}catch{throw hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hy(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new be(ue.INVALID_ARGUMENT,u+t+c)}function H3(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KZ extends G3{data(){return super.data()}}function Vv(t,e){return typeof e=="string"?BS(t,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HS{}class $3 extends HS{}function of(t,e,...n){let r=[];e instanceof HS&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof GS)).length,u=a.filter((c=>c instanceof Uv)).length;if(s>1||s>0&&u>0)throw new be(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Uv extends $3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uv(e,n,r)}_apply(e){const n=this._parse(e);return K3(e._query,n),new yu(e.firestore,e.converter,mE(e._query,n))}_parse(e){const n=Hh(e.firestore);return(function(a,s,u,c,f,h,m){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new be(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){y2(m,h);const A=[];for(const S of m)A.push(g2(c,a,S));v={arrayValue:{values:A}}}else v=g2(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||y2(m,h),v=GZ(u,s,m,h==="in"||h==="not-in");return mn.create(f,h,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YZ(t,e,n){const r=e,i=Vv("where",t);return Uv._create(i,r,n)}class GS extends HS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new GS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)K3(s,c),s=mE(s,c)})(e._query,n),new yu(e.firestore,e.converter,mE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $S extends $3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $S(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new be(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dh(a,s)})(e._query,this._field,this._direction);return new yu(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new rf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function $h(t,e="asc"){const n=e,r=Vv("orderBy",t);return $S._create(r,n)}function g2(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new be(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FV(e)&&n.indexOf("/")!==-1)throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!De.isDocumentKey(r))throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kR(t,new De(r))}if(n instanceof Xt)return kR(t,n._key);throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xv(n)}.`)}function y2(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K3(t,e){const n=(function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JZ{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return el(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[ay].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>Jt(s.doubleValue)));return new La(n)}convertGeoPoint(e){return new Oa(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uh(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);dt(u3(r),9688,{name:e});const i=new ch(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(n)||Io(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kl extends G3{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Kl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kl._jsonSchema={type:gn("string",Kl._jsonSchemaVersion),bundleSource:gn("string","DocumentSnapshot"),bundleName:gn("string"),bundle:gn("string")};class Mg extends Kl{data(e={}){return super.data(e)}}class Ac{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Mg(this._firestore,this._userDataWriter,r.key,r,new jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new Mg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const c=new Mg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:XZ(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ac._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){t=Ai(t,Xt);const e=Ai(t.firestore,nl);return VZ(Ov(e),t._key).then((n=>ZZ(e,t,n)))}Ac._jsonSchemaVersion="firestore/querySnapshot/1.0",Ac._jsonSchema={type:gn("string",Ac._jsonSchemaVersion),bundleSource:gn("string","QuerySnapshot"),bundleName:gn("string"),bundle:gn("string")};class W3 extends JZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function vu(t){t=Ai(t,yu);const e=Ai(t.firestore,nl),n=Ov(e),r=new W3(e);return WZ(t._query),UZ(n,t._query).then((i=>new Ac(e,r,t,i)))}function Uc(t,e,n){t=Ai(t,Xt);const r=Ai(t.firestore,nl),i=KS(t.converter,e,n);return Kh(r,[FS(Hh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hr.none())])}function WS(t,e,n,...r){t=Ai(t,Xt);const i=Ai(t.firestore,nl),a=Hh(i);let s;return s=typeof(e=ht(e))=="string"||e instanceof Bh?F3(a,"updateDoc",t._key,e,n,r):z3(a,"updateDoc",t._key,e),Kh(i,[s.toMutation(t._key,hr.exists(!0))])}function QZ(t){return Kh(Ai(t.firestore,nl),[new Nv(t._key,hr.none())])}function jv(t,e){const n=Ai(t.firestore,nl),r=pn(t),i=KS(t.converter,e);return Kh(n,[FS(Hh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then((()=>r))}function Kh(t,e){return(function(r,i){const a=new wo;return r.asyncQueue.enqueueAndForget((async()=>SZ(await LZ(r),i,a))),a.promise})(Ov(t),e)}function ZZ(t,e,n){const r=n.docs.get(e._key),i=new W3(t);return new Kl(t,i,e._key,r,new jd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hh(e)}set(e,n,r){this._verifyNotCommitted();const i=lx(e,this._firestore),a=KS(i.converter,n,r),s=FS(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,hr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=lx(e,this._firestore);let s;return s=typeof(n=ht(n))=="string"||n instanceof Bh?F3(this._dataReader,"WriteBatch.update",a._key,n,r,i):z3(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=lx(e,this._firestore);return this._mutations=this._mutations.concat(new Nv(n._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lx(t,e){if((t=ht(t)).firestore!==e)throw new be(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t){return Ov(t=Ai(t,nl)),new eee(t,(e=>Kh(t,e)))}(function(e,n=!0){(function(i){ef=i})(Zc),Ti(new ni("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new nl(new $J(r.getProvider("auth-internal")),new YJ(s,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(f.options.projectId,h)})(s,i),s);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Or(bR,xR,e),Or(bR,xR,"esm2020")})();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee="/firebase-messaging-sw.js",ree="/firebase-cloud-messaging-push-scope",Y3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iee="https://fcmregistrations.googleapis.com/v1",J3="google.c.a.c_id",aee="google.c.a.c_l",oee="google.c.a.ts",see="google.c.a.e",v2=1e4;var _2;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(_2||(_2={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var mh;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(mh||(mh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lee(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="fcm_token_details_db",uee=5,b2="fcm_token_object_Store";async function cee(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(ux))return null;let e=null;return(await pv(ux,uee,{upgrade:async(r,i,a,s)=>{if(i<2||!r.objectStoreNames.contains(b2))return;const u=s.objectStore(b2),c=await u.index("fcmSenderId").get(t);if(await u.clear(),!!c){if(i===2){const f=c;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:uo(f.vapidKey)}}}else if(i===3){const f=c;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:uo(f.auth),p256dh:uo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:uo(f.vapidKey)}}}else if(i===4){const f=c;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:uo(f.auth),p256dh:uo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:uo(f.vapidKey)}}}}}})).close(),await Kb(ux),await Kb("fcm_vapid_details_db"),await Kb("undefined"),fee(e)?e:null}function fee(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dee="firebase-messaging-database",hee=1,gh="firebase-messaging-store";let cx=null;function X3(){return cx||(cx=pv(dee,hee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gh)}}})),cx}async function pee(t){const e=Q3(t),r=await(await X3()).transaction(gh).objectStore(gh).get(e);if(r)return r;{const i=await cee(t.appConfig.senderId);if(i)return await YS(t,i),i}}async function YS(t,e){const n=Q3(t),i=(await X3()).transaction(gh,"readwrite");return await i.objectStore(gh).put(e,n),await i.done,e}function Q3({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},pr=new Xs("messaging","Messaging",mee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gee(t,e){const n=await XS(t),r=Z3(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(JS(t.appConfig),i)).json()}catch(s){throw pr.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(a.error){const s=a.error.message;throw pr.create("token-subscribe-failed",{errorInfo:s})}if(!a.token)throw pr.create("token-subscribe-no-token");return a.token}async function yee(t,e){const n=await XS(t),r=Z3(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(`${JS(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw pr.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(a.error){const s=a.error.message;throw pr.create("token-update-failed",{errorInfo:s})}if(!a.token)throw pr.create("token-update-no-token");return a.token}async function vee(t,e){const r={method:"DELETE",headers:await XS(t)};try{const a=await(await fetch(`${JS(t.appConfig)}/${e}`,r)).json();if(a.error){const s=a.error.message;throw pr.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw pr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function JS({projectId:t}){return`${iee}/projects/${t}/registrations`}async function XS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Z3({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Y3&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=10080*60*1e3;async function bee(t){const e=await wee(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:uo(e.getKey("auth")),p256dh:uo(e.getKey("p256dh"))},r=await pee(t.firebaseDependencies);if(r){if(Eee(r.subscriptionOptions,n))return Date.now()>=r.createTime+_ee?xee(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await vee(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return x2(t.firebaseDependencies,n)}else return x2(t.firebaseDependencies,n)}async function xee(t,e){try{const n=await yee(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await YS(t.firebaseDependencies,r),n}catch(n){throw n}}async function x2(t,e){const r={token:await gee(t,e),createTime:Date.now(),subscriptionOptions:e};return await YS(t,r),r.token}async function wee(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lee(e)})}function Eee(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,a=e.p256dh===t.p256dh;return n&&r&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Tee(e,t),See(e,t),Aee(e,t),e}function Tee(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}function See(t,e){e.data&&(t.data=e.data)}function Aee(t,e){var i,a,s,u;if(!e.fcmOptions&&!((i=e.notification)!=null&&i.click_action))return;t.fcmOptions={};const n=((a=e.fcmOptions)==null?void 0:a.link)??((s=e.notification)==null?void 0:s.click_action);n&&(t.fcmOptions.link=n);const r=(u=e.fcmOptions)==null?void 0:u.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(t){return typeof t=="object"&&!!t&&J3 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t){if(!t||!t.options)throw fx("App Configuration Object");if(!t.name)throw fx("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw fx(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function fx(t){return pr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=Iee(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pee(t){try{t.swRegistration=await navigator.serviceWorker.register(nee,{scope:ree}),t.swRegistration.update().catch(()=>{}),await Ree(t.swRegistration)}catch(e){throw pr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Ree(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${v2} ms`)),v2),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=a=>{var s;((s=a.target)==null?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mee(t,e){if(!e&&!t.swRegistration&&await Pee(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw pr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Y3)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){if(!navigator)throw pr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw pr.create("permission-blocked");return await kee(t,e==null?void 0:e.vapidKey),await Mee(t,e==null?void 0:e.serviceWorkerRegistration),bee(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(t,e,n){const r=Oee(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[J3],message_name:n[aee],message_time:n[oee],message_device_time:Math.floor(Date.now()/1e3)})}function Oee(t){switch(t){case mh.NOTIFICATION_CLICKED:return"notification_open";case mh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lee(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===mh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(w2(n)):t.onMessageHandler.next(w2(n)));const r=n.data;Cee(r)&&r[see]==="1"&&await Dee(t,n.messageType,r)}const E2="@firebase/messaging",T2="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee=t=>{const e=new Nee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Lee(e,n)),e},Uee=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>eU(e,r)}};function jee(){Ti(new ni("messaging",Vee,"PUBLIC")),Ti(new ni("messaging-internal",Uee,"PRIVATE")),Or(E2,T2),Or(E2,T2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zee(){try{await YT()}catch{return!1}return typeof window<"u"&&WT()&&i5()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(t=mv()){return zee().then(e=>{if(!e)throw pr.create("unsupported-browser")},e=>{throw pr.create("indexed-db-unsupported")}),Qs(ht(t),"messaging").getImmediate()}async function qee(t,e){return t=ht(t),eU(t,e)}jee();const Bee={apiKey:"AIzaSyAzUpxTaGLN3uFCLtwimtjpAtODz_7GftE",authDomain:"fitspotter-a9f7b.firebaseapp.com",projectId:"fitspotter-a9f7b",storageBucket:"fitspotter-a9f7b.firebasestorage.app",messagingSenderId:"733811785720",appId:"1:733811785720:web:570aadb2db9ca9f2f1e00d",measurementId:"G-68QJEZDM9S"},zv=s5(Bee);jJ(zv);const cr=_Y(zv),Hee=new fo,ct=zZ(zv),Gee=Fee(zv),$ee=async()=>{try{return(await IW(cr,Hee)).user}catch(t){throw console.error("Google Sign In Error",t),t}},Kee=()=>{const t=vn(),[e,n]=T.useState("phone"),[r,i]=T.useState(""),[a,s]=T.useState(null),[u,c]=T.useState(""),[f,h]=T.useState(""),[m,v]=T.useState(!1),[w,A]=T.useState(!1),[S,C]=T.useState(null);T.useEffect(()=>{try{e==="phone"&&!window.recaptchaVerifier&&(window.recaptchaVerifier=new rR(cr,"recaptcha-container",{size:"invisible",callback:V=>{}}))}catch(V){console.error(V),s(V.message||"Failed to send code. Make sure phone auth is enabled in Firebase."),A(!1),window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)}},[e]);const P=async()=>{if(s(null),!r||r.length<8||!r.includes("+")){s("Please enter a valid phone number with country code (e.g., +91...)");return}A(!0);try{window.recaptchaVerifier||(window.recaptchaVerifier=new rR(cr,"recaptcha-container",{size:"invisible",callback:k=>{}}));const V=window.recaptchaVerifier,G=await wW(cr,r,V);window.confirmationResult=G,A(!1),t("/verify-otp",{state:{phoneNumber:r}})}catch(V){console.error(V),s(V.message||"Failed to send code. Make sure phone auth is enabled in Firebase."),A(!1)}},D=async()=>{if(C(null),!u||!f){C("Please fill in all fields.");return}A(!0);try{if(!(await GK(cr,u,f)).user.emailVerified){await cr.signOut(),C("Please verify your email address before logging in."),A(!1);return}t("/dashboard")}catch(V){C(V.message),A(!1)}},M=async()=>{try{await $ee(),t("/dashboard")}catch(V){console.error(V)}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 relative overflow-hidden font-sans",children:[y.jsx("div",{id:"recaptcha-container"}),y.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[400px] h-[400px] bg-accent-blue/10 rounded-full blur-[100px]"})]}),y.jsxs("div",{className:"relative z-10 w-full max-w-md flex flex-col items-center text-center",children:[y.jsx("div",{className:"w-24 h-24 bg-surface border border-secondary rounded-3xl flex items-center justify-center mb-8 shadow-2xl shadow-black/50 rotate-3 backdrop-blur-md",children:y.jsx("div",{className:"w-20 h-20 bg-primary rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(0,227,118,0.4)]",children:y.jsx(zs,{size:40,className:"text-black"})})}),y.jsxs("h1",{className:"text-4xl font-bold text-text mb-3 leading-tight tracking-tight",children:["Your AI Fitness",y.jsx("br",{}),"Partner Awaits"]}),y.jsx("p",{className:"text-muted mb-10 text-sm max-w-xs mx-auto leading-relaxed",children:e==="phone"?"Enter your phone number to start your personalized fitness journey.":"Enter your email to sign in."}),y.jsxs("div",{className:"w-full space-y-4",children:[e==="phone"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-left",children:[y.jsx("label",{className:"text-xs font-bold text-muted ml-1 mb-2 block uppercase tracking-wider",children:"Phone Number"}),y.jsx("div",{className:"flex bg-surface rounded-2xl border border-secondary overflow-hidden transition-all focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/50 shadow-lg",children:y.jsx("input",{type:"tel",value:r,onChange:V=>i(V.target.value),placeholder:"+91 98765 43210",className:"flex-1 bg-transparent px-4 py-4 text-text placeholder-gray-500 focus:outline-none font-medium"})}),y.jsx("p",{className:"text-[10px] text-muted mt-1 ml-1",children:"Include country code (e.g., +91 for India)"}),a&&y.jsxs("p",{className:"text-red-500 text-xs mt-2 ml-1 flex items-center gap-1",children:[y.jsx(G4,{size:12})," ",a]})]}),y.jsx("button",{onClick:P,disabled:w,className:"w-full bg-primary text-black font-bold py-4 rounded-full text-lg mt-4 hover:opacity-90 transition-all shadow-[0_0_25px_rgba(0,227,118,0.3)] flex items-center justify-center gap-2",children:w?y.jsx(nh,{className:"animate-spin",size:24}):"Send Code"}),y.jsx("div",{className:"text-center mt-4",children:y.jsxs("p",{className:"text-muted text-sm",children:["Don't have an account?"," ",y.jsx(Ra,{to:"/register",className:"text-primary font-bold hover:underline",children:"Create Account"})]})})]}),e==="email"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-left",children:[y.jsx("label",{className:"text-xs font-bold text-muted ml-1 mb-2 block uppercase tracking-wider",children:"Email Address"}),y.jsxs("div",{className:"flex bg-surface rounded-2xl border border-secondary overflow-hidden transition-all focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/50 shadow-lg",children:[y.jsx("div",{className:"px-4 py-4 bg-secondary/50 flex items-center justify-center border-r border-secondary text-muted",children:y.jsx(Bg,{size:20})}),y.jsx("input",{type:"email",value:u,onChange:V=>c(V.target.value),placeholder:"you@example.com",className:"flex-1 bg-transparent px-4 text-text placeholder-gray-500 focus:outline-none"})]})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("label",{className:"text-xs font-bold text-muted ml-1 mb-2 block uppercase tracking-wider",children:"Password"}),y.jsxs("div",{className:"flex bg-surface rounded-2xl border border-secondary overflow-hidden transition-all focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/50 shadow-lg",children:[y.jsx("div",{className:"px-4 py-4 bg-secondary/50 flex items-center justify-center border-r border-secondary text-muted",children:y.jsx(rh,{size:20})}),y.jsx("input",{type:m?"text":"password",value:f,onChange:V=>h(V.target.value),placeholder:"",className:"flex-1 bg-transparent px-4 text-text placeholder-gray-500 focus:outline-none"}),y.jsx("button",{onClick:()=>v(!m),className:"px-4 text-muted hover:text-text transition",children:m?y.jsx(z4,{size:18}):y.jsx(F4,{size:18})})]})]}),S&&y.jsx("p",{className:"text-red-500 text-sm text-center",children:S}),y.jsx("button",{onClick:D,disabled:w,className:"w-full bg-primary text-black font-bold py-4 rounded-full text-lg mt-4 hover:opacity-90 transition-all shadow-[0_0_25px_rgba(0,227,118,0.3)] flex items-center justify-center gap-2",children:w?y.jsx(nh,{className:"animate-spin",size:24}):"Sign In"}),y.jsx("div",{className:"text-center mt-4",children:y.jsxs("p",{className:"text-muted text-sm",children:["Don't have an account?"," ",y.jsx(Ra,{to:"/register",className:"text-primary font-bold hover:underline",children:"Sign Up"})]})})]})]}),y.jsxs("div",{className:"flex items-center gap-4 w-full my-8",children:[y.jsx("div",{className:"h-[1px] bg-secondary flex-1"}),y.jsx("span",{className:"text-muted text-xs font-medium uppercase tracking-wider",children:"Or continue with"}),y.jsx("div",{className:"h-[1px] bg-secondary flex-1"})]}),y.jsxs("div",{className:"flex gap-4 w-full",children:[y.jsxs("button",{onClick:M,className:"flex-1 bg-surface border border-secondary py-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-secondary/50 transition shadow-lg",children:[y.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-5 h-5",alt:"Google"}),y.jsx("span",{className:"text-text text-sm font-bold",children:"Google"})]}),y.jsxs("button",{className:"flex-1 bg-surface border border-secondary py-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-secondary/50 transition shadow-lg",children:[y.jsx("img",{src:"https://www.svgrepo.com/show/511330/apple-173.svg",className:"w-5 h-5 dark:invert",alt:"Apple"}),y.jsx("span",{className:"text-text text-sm font-bold",children:"Apple"})]})]}),y.jsx("button",{onClick:()=>n(e==="phone"?"email":"phone"),className:"mt-8 text-primary font-bold hover:underline text-sm tracking-wide",children:e==="phone"?"Use Email Instead":"Use Phone Instead"}),y.jsxs("p",{className:"text-[10px] text-muted mt-8 max-w-xs mx-auto leading-normal",children:["By continuing, you agree to our ",y.jsx("span",{className:"text-text underline cursor-pointer",children:"Terms of Service"})," and ",y.jsx("span",{className:"text-text underline cursor-pointer",children:"Privacy Policy"}),"."]})]})]})},lo=[{id:1,title:"Track Your Fitness",description:"Log your workouts, monitor your progress, and crush your goals with precision.",icon:Xw,color:"text-blue-400",bg:"bg-blue-400/10"},{id:2,title:"AI Nutrition",description:"Snap a photo of your meal and let our AI analyze calories and macros instantly.",icon:Zl,color:"text-[#00E376]",bg:"bg-[#00E376]/10"},{id:3,title:"Achieve Greatness",description:"Join a community of winners and transform your lifestyle today.",icon:$g,color:"text-purple-400",bg:"bg-purple-400/10"}],Wee=()=>{const t=vn(),[e,n]=T.useState(0),[r,i]=T.useState(!1),a=()=>{e<lo.length-1?(i(!0),setTimeout(()=>{n(u=>u+1),i(!1)},300)):s()},s=()=>{localStorage.setItem("hasOnboarded","true"),t("/dashboard")};return y.jsxs("div",{className:"min-h-screen bg-[#05100a] flex flex-col items-center justify-center p-6 relative overflow-hidden font-sans",children:[y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-64 h-64 bg-[#00E376]/10 rounded-full blur-3xl animate-pulse"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-64 h-64 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-700"})]}),y.jsxs("div",{className:`w-full max-w-md flex flex-col items-center text-center transition-opacity duration-300 ${r?"opacity-0 translate-x-[-20px]":"opacity-100 translate-x-0"}`,children:[y.jsx("div",{className:`w-32 h-32 rounded-full ${lo[e].bg} flex items-center justify-center mb-8 shadow-[0_0_30px_rgba(0,0,0,0.5)] animate-bounce-slow`,children:Us.createElement(lo[e].icon,{size:48,className:lo[e].color})}),y.jsx("h1",{className:"text-3xl font-bold text-white mb-4 tracking-tight",children:lo[e].title}),y.jsx("p",{className:"text-gray-400 text-lg mb-12 leading-relaxed",children:lo[e].description}),y.jsx("div",{className:"flex gap-2 mb-12",children:lo.map((u,c)=>y.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${c===e?"w-8 bg-[#00E376]":"w-2 bg-white/20"}`},c))}),y.jsxs("button",{onClick:a,className:"w-full bg-[#00E376] text-black font-bold py-4 rounded-2xl hover:opacity-90 transition-all active:scale-95 flex items-center justify-center gap-2 shadow-[0_0_20px_rgba(0,227,118,0.3)]",children:[e===lo.length-1?"Get Started":"Next",y.jsx(bo,{size:20})]}),e<lo.length-1&&y.jsx("button",{onClick:s,className:"mt-6 text-sm text-gray-500 hover:text-white transition",children:"Skip"})]})]})};function tU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tU(t))&&(r&&(r+=" "),r+=e);return r}var Yee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function QS(t){if(typeof t!="string")return!1;var e=Yee;return e.includes(t)}var Jee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xee=new Set(Jee);function nU(t){return typeof t!="string"?!1:Xee.has(t)}function rU(t){return typeof t=="string"&&t.startsWith("data-")}function Ji(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(nU(n)||rU(n))&&(e[n]=t[n]);return e}function Wh(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ji(e)}return typeof t=="object"&&!Array.isArray(t)?Ji(t):null}function mr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(nU(n)||rU(n)||QS(n))&&(e[n]=t[n]);return e}function Qee(t){return t==null?null:T.isValidElement(t)?mr(t.props):typeof t=="object"&&!Array.isArray(t)?mr(t):null}var Zee=["children","width","height","viewBox","className","style","title","desc"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function ete(t,e){if(t==null)return{};var n,r,i=tte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iU=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:u,title:c,desc:f}=t,h=ete(t,Zee),m=a||{width:r,height:i,x:0,y:0},v=Et("recharts-surface",s);return T.createElement("svg",CE({},mr(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),T.createElement("title",null,c),T.createElement("desc",null,f),n)}),nte=["children","className"];function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(null,arguments)}function rte(t,e){if(t==null)return{};var n,r,i=ite(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ite(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ci=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=rte(t,nte),a=Et("recharts-layer",r);return T.createElement("g",IE({className:a},mr(i),{ref:e}),n)}),ate=T.createContext(null);function At(t){return function(){return t}}const aU=Math.cos,py=Math.sin,aa=Math.sqrt,my=Math.PI,Fv=2*my,NE=Math.PI,PE=2*NE,Ul=1e-6,ote=PE-Ul;function oU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ste(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?oU:ste(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Ul)if(!(Math.abs(m*c-f*h)>Ul)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-s,A=i-u,S=c*c+f*f,C=w*w+A*A,P=Math.sqrt(S),D=Math.sqrt(v),M=a*Math.tan((NE-Math.acos((S+v-C)/(2*P*D)))/2),V=M/D,U=M/P;Math.abs(V-1)>Ul&&this._append`L${e+V*h},${n+V*m}`,this._append`A${a},${a},0,0,${+(m*w>h*A)},${this._x1=e+U*c},${this._y1=n+U*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,m=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ul||Math.abs(this._y1-h)>Ul)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%PE+PE),v>ote?this._append`A${r},${r},0,1,${m},${e-u},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:v>Ul&&this._append`A${r},${r},0,${+(v>=NE)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ZS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lte(e)}function e1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sU(t){this._context=t}sU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qv(t){return new sU(t)}function lU(t){return t[0]}function uU(t){return t[1]}function cU(t,e){var n=At(!0),r=null,i=qv,a=null,s=ZS(u);t=typeof t=="function"?t:t===void 0?lU:At(t),e=typeof e=="function"?e:e===void 0?uU:At(e);function u(c){var f,h=(c=e1(c)).length,m,v=!1,w;for(r==null&&(a=i(w=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(m,f,c),+e(m,f,c));if(w)return a=null,w+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:At(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function eg(t,e,n){var r=null,i=At(!0),a=null,s=qv,u=null,c=ZS(f);t=typeof t=="function"?t:t===void 0?lU:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?uU:At(+n);function f(m){var v,w,A,S=(m=e1(m)).length,C,P=!1,D,M=new Array(S),V=new Array(S);for(a==null&&(u=s(D=c())),v=0;v<=S;++v){if(!(v<S&&i(C=m[v],v,m))===P)if(P=!P)w=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=v-1;A>=w;--A)u.point(M[A],V[A]);u.lineEnd(),u.areaEnd()}P&&(M[v]=+t(C,v,m),V[v]=+e(C,v,m),u.point(r?+r(C,v,m):M[v],n?+n(C,v,m):V[v]))}if(D)return u=null,D+""||null}function h(){return cU().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:At(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:At(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:At(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:At(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:At(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:At(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:At(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),f):a},f}class fU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ute(t){return new fU(t,!0)}function cte(t){return new fU(t,!1)}const t1={draw(t,e){const n=aa(e/my);t.moveTo(n,0),t.arc(0,0,n,0,Fv)}},fte={draw(t,e){const n=aa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},dU=aa(1/3),dte=dU*2,hte={draw(t,e){const n=aa(e/dte),r=n*dU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pte={draw(t,e){const n=aa(e),r=-n/2;t.rect(r,r,n,n)}},mte=.8908130915292852,hU=py(my/10)/py(7*my/10),gte=py(Fv/10)*hU,yte=-aU(Fv/10)*hU,vte={draw(t,e){const n=aa(e*mte),r=gte*n,i=yte*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Fv*a/5,u=aU(s),c=py(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},dx=aa(3),_te={draw(t,e){const n=-aa(e/(dx*3));t.moveTo(0,n*2),t.lineTo(-dx*n,-n),t.lineTo(dx*n,-n),t.closePath()}},vi=-.5,_i=aa(3)/2,RE=1/aa(12),bte=(RE/2+1)*3,xte={draw(t,e){const n=aa(e/bte),r=n/2,i=n*RE,a=r,s=n*RE+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(vi*r-_i*i,_i*r+vi*i),t.lineTo(vi*a-_i*s,_i*a+vi*s),t.lineTo(vi*u-_i*c,_i*u+vi*c),t.lineTo(vi*r+_i*i,vi*i-_i*r),t.lineTo(vi*a+_i*s,vi*s-_i*a),t.lineTo(vi*u+_i*c,vi*c-_i*u),t.closePath()}};function wte(t,e){let n=null,r=ZS(i);t=typeof t=="function"?t:At(t||t1),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:At(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:At(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function gy(){}function yy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pU(t){this._context=t}pU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ete(t){return new pU(t)}function mU(t){this._context=t}mU.prototype={areaStart:gy,areaEnd:gy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tte(t){return new mU(t)}function gU(t){this._context=t}gU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ste(t){return new gU(t)}function yU(t){this._context=t}yU.prototype={areaStart:gy,areaEnd:gy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ate(t){return new yU(t)}function S2(t){return t<0?-1:1}function A2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(S2(a)+S2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function C2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function vy(t){this._context=t}vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hx(this,this._t0,C2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hx(this,C2(this,n=A2(this,t,e)),n);break;default:hx(this,this._t0,n=A2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vU(t){this._context=new _U(t)}(vU.prototype=Object.create(vy.prototype)).point=function(t,e){vy.prototype.point.call(this,e,t)};function _U(t){this._context=t}_U.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Cte(t){return new vy(t)}function Ite(t){return new vU(t)}function bU(t){this._context=t}bU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=I2(t),i=I2(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function I2(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Nte(t){return new bU(t)}function Bv(t,e){this._context=t,this._t=e}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Pte(t){return new Bv(t,.5)}function Rte(t){return new Bv(t,0)}function Mte(t){return new Bv(t,1)}function jc(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ME(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kte(t,e){return t[e]}function Dte(t){const e=[];return e.key=t,e}function Ote(){var t=At([]),e=ME,n=jc,r=kte;function i(a){var s=Array.from(t.apply(this,arguments),Dte),u,c=s.length,f=-1,h;for(const m of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(m,s[u].key,f,a)]).data=m;for(u=0,h=e1(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:At(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?ME:typeof a=="function"?a:At(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??jc,i):n},i}function Lte(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}jc(t,e)}}function Vte(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}jc(t,e)}}function Ute(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,v=h[r-1][1]||0,w=(m-v)/2,A=0;A<u;++A){var S=t[e[A]],C=S[r][1]||0,P=S[r-1][1]||0;w+=C-P}c+=m,f+=w*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,jc(t,e)}}var px={},mx={},N2;function jte(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(mx)),mx}var gx={},P2;function xU(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(gx)),gx}var yx={},R2;function n1(){return R2||(R2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(yx)),yx}var vx={},_x={},M2;function zte(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(_x)),_x}var k2;function r1(){return k2||(k2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zte(),n=n1();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<s;){const m=i[u];f?m==="\\"&&u+1<s?(u++,c+=i[u]):m===f?f="":c+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,a.push(c),c=""):c+=m:m==="["?(h=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,u++}return c&&a.push(c),a}t.toPath=r})(vx)),vx}var D2;function i1(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jte(),n=xU(),r=n1(),i=r1();function a(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return s(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function s(u,c,f){if(c.length===0)return f;let h=u;for(let m=0;m<c.length;m++){if(h==null||e.isUnsafeProperty(c[m]))return f;h=h[c[m]]}return h===void 0?f:h}t.get=a})(px)),px}var bx,O2;function Fte(){return O2||(O2=1,bx=i1().get),bx}var qte=Fte();const zc=qa(qte);var kr=t=>t===0?0:t>0?1:-1,Xi=t=>typeof t=="number"&&t!=+t,Po=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Xi(t),ja=t=>Re(t)||typeof t=="string",Bte=0,yh=t=>{var e=++Bte;return"".concat(t||"").concat(e)},Qi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var a;if(Po(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Xi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},wU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Bt(t,e,n){return Re(t)&&Re(e)?t+n*(e-t):e}function EU(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):zc(r,e))===n)}var Ut=t=>t===null||typeof t>"u",Yh=t=>Ut(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Hte(t){return t!=null}function Jh(){}var Gte=["type","size","sizeType"];function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(null,arguments)}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){$te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){if(t==null)return{};var n,r,i=Jte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TU={symbolCircle:t1,symbolCross:fte,symbolDiamond:hte,symbolSquare:pte,symbolStar:vte,symbolTriangle:_te,symbolWye:xte},Xte=Math.PI/180,Qte=t=>{var e="symbol".concat(Yh(t));return TU[e]||t1},Zte=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Xte;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ene=(t,e)=>{TU["symbol".concat(Yh(t))]=e},SU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Yte(t,Gte),a=V2(V2({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var v=Qte(s),w=wte().type(v).size(Zte(n,r,s)),A=w();if(A!==null)return A},{className:c,cx:f,cy:h}=a,m=mr(a);return Re(f)&&Re(h)&&Re(n)?T.createElement("path",kE({},m,{className:Et("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};SU.registerSymbol=ene;var AU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,a1=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{QS(i)&&(r[i]=(a=>n[i](n,a)))}),r},tne=(t,e,n)=>r=>(t(e,n,r),null),o1=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];QS(i)&&typeof a=="function"&&(r||(r={}),r[i]=tne(a,e,n))}),r};function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return(e=ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=ane(t,"string");return typeof e=="symbol"?e:e+""}function ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _r(t,e){var n=nne({},t),r=e,i=Object.keys(e),a=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return a}var xx={},wx={},j2;function one(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(wx)),wx}var Ex={},z2;function CU(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Ex)),Ex}var Tx={},Sx={},Ax={},F2;function sne(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ax)),Ax}var q2;function s1(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sne();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Sx)),Sx}var Cx={},B2;function lne(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Cx)),Cx}var H2;function une(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s1(),n=lne();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Tx)),Tx}var Ix={},Nx={},G2;function cne(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i1();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Nx)),Nx}var Px={},Rx={},Mx={},kx={},$2;function IU(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(kx)),kx}var Dx={},K2;function NU(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Dx)),Dx}var Ox={},W2;function PU(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Ox)),Ox}var Y2;function fne(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IU(),n=NU(),r=PU();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):a(h,m,function w(A,S,C,P,D,M){const V=v(A,S,C,P,D,M);return V!==void 0?!!V:a(A,S,w,M)},new Map)}function a(h,m,v,w){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,v,w);case"function":return Object.keys(m).length>0?a(h,{...m},v,w):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function s(h,m,v,w){if(m==null)return!0;if(Array.isArray(m))return c(h,m,v,w);if(m instanceof Map)return u(h,m,v,w);if(m instanceof Set)return f(h,m,v,w);const A=Object.keys(m);if(h==null)return A.length===0;if(A.length===0)return!0;if(w!=null&&w.has(m))return w.get(m)===h;w==null||w.set(m,h);try{for(let S=0;S<A.length;S++){const C=A[S];if(!n.isPrimitive(h)&&!(C in h)||m[C]===void 0&&h[C]!==void 0||m[C]===null&&h[C]!==null||!v(h[C],m[C],C,h,m,w))return!1}return!0}finally{w==null||w.delete(m)}}function u(h,m,v,w){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[A,S]of m.entries()){const C=h.get(A);if(v(C,S,A,h,m,w)===!1)return!1}return!0}function c(h,m,v,w){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const A=new Set;for(let S=0;S<m.length;S++){const C=m[S];let P=!1;for(let D=0;D<h.length;D++){if(A.has(D))continue;const M=h[D];let V=!1;if(v(M,C,S,h,m,w)&&(V=!0),V){A.add(D),P=!0;break}}if(!P)return!1}return!0}function f(h,m,v,w){return m.size===0?!0:h instanceof Set?c([...h],[...m],v,w):!1}t.isMatchWith=i,t.isSetMatch=f})(Mx)),Mx}var J2;function RU(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fne();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Rx)),Rx}var Lx={},Vx={},Ux={},X2;function dne(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ux)),Ux}var jx={},Q2;function MU(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(jx)),jx}var zx={},Z2;function kU(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",w="[object Object]",A="[object Error]",S="[object DataView]",C="[object Uint8Array]",P="[object Uint8ClampedArray]",D="[object Uint16Array]",M="[object Uint32Array]",V="[object BigUint64Array]",U="[object Int8Array]",G="[object Int16Array]",k="[object Int32Array]",O="[object BigInt64Array]",L="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=L,t.float64ArrayTag=F,t.functionTag=m,t.int16ArrayTag=G,t.int32ArrayTag=k,t.int8ArrayTag=U,t.mapTag=c,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=D,t.uint32ArrayTag=M,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=P})(zx)),zx}var Fx={},eM;function hne(){return eM||(eM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Fx)),Fx}var tM;function DU(){return tM||(tM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dne(),n=MU(),r=kU(),i=NU(),a=hne();function s(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,w=new Map,A=void 0){const S=A==null?void 0:A(h,m,v,w);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const C=new Array(h.length);w.set(h,C);for(let P=0;P<h.length;P++)C[P]=u(h[P],P,v,w,A);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;w.set(h,C);for(const[P,D]of h)C.set(P,u(D,P,v,w,A));return C}if(h instanceof Set){const C=new Set;w.set(h,C);for(const P of h)C.add(u(P,void 0,v,w,A));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,C);for(let P=0;P<h.length;P++)C[P]=u(h[P],P,v,w,A);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,C),c(C,h,v,w,A),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return w.set(h,C),c(C,h,v,w,A),C}if(typeof Blob<"u"&&h instanceof Blob){const C=new Blob([h],{type:h.type});return w.set(h,C),c(C,h,v,w,A),C}if(h instanceof Error){const C=new h.constructor;return w.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,c(C,h,v,w,A),C}if(h instanceof Boolean){const C=new Boolean(h.valueOf());return w.set(h,C),c(C,h,v,w,A),C}if(h instanceof Number){const C=new Number(h.valueOf());return w.set(h,C),c(C,h,v,w,A),C}if(h instanceof String){const C=new String(h.valueOf());return w.set(h,C),c(C,h,v,w,A),C}if(typeof h=="object"&&f(h)){const C=Object.create(Object.getPrototypeOf(h));return w.set(h,C),c(C,h,v,w,A),C}return h}function c(h,m,v=h,w,A){const S=[...Object.keys(m),...e.getSymbols(m)];for(let C=0;C<S.length;C++){const P=S[C],D=Object.getOwnPropertyDescriptor(h,P);(D==null||D.writable)&&(h[P]=u(m[P],P,v,w,A))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(Vx)),Vx}var nM;function pne(){return nM||(nM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Lx)),Lx}var rM;function mne(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RU(),n=pne();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Px)),Px}var qx={},Bx={},Hx={},iM;function gne(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DU(),n=kU();function r(i,a){return e.cloneDeepWith(i,(s,u,c,f)=>{const h=a==null?void 0:a(s,u,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(Hx)),Hx}var aM;function yne(){return aM||(aM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gne();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Bx)),Bx}var Gx={},$x={},oM;function OU(){return oM||(oM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})($x)),$x}var Kx={},sM;function vne(){return sM||(sM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MU();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Kx)),Kx}var lM;function _ne(){return lM||(lM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xU(),n=OU(),r=vne(),i=r1();function a(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=s;for(let h=0;h<c.length;h++){const m=c[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=a})(Gx)),Gx}var uM;function bne(){return uM||(uM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RU(),n=n1(),r=yne(),i=i1(),a=_ne();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?a.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(qx)),qx}var cM;function xne(){return cM||(cM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CU(),n=cne(),r=mne(),i=bne();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(Ix)),Ix}var fM;function wne(){return fM||(fM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=one(),n=CU(),r=une(),i=xne();function a(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=a})(xx)),xx}var Wx,dM;function Ene(){return dM||(dM=1,Wx=wne().uniqBy),Wx}var Tne=Ene();const hM=qa(Tne);function Sne(t,e,n){return e===!0?hM(t,n):typeof e=="function"?hM(t,e):t}var Yx={exports:{}},Jx={},Xx={exports:{}},Qx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM;function Ane(){if(pM)return Qx;pM=1;var t=Wc();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function u(m,v){var w=v(),A=r({inst:{value:w,getSnapshot:v}}),S=A[0].inst,C=A[1];return a(function(){S.value=w,S.getSnapshot=v,c(S)&&C({inst:S})},[m,w,v]),i(function(){return c(S)&&C({inst:S}),m(function(){c(S)&&C({inst:S})})},[m]),s(w),w}function c(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!n(m,w)}catch{return!0}}function f(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Qx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Qx}var mM;function Cne(){return mM||(mM=1,Xx.exports=Ane()),Xx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function Ine(){if(gM)return Jx;gM=1;var t=Wc(),e=Cne();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Jx.useSyncExternalStoreWithSelector=function(f,h,m,v,w){var A=a(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=u(function(){function P(G){if(!D){if(D=!0,M=G,G=v(G),w!==void 0&&S.hasValue){var k=S.value;if(w(k,G))return V=k}return V=G}if(k=V,r(M,G))return k;var O=v(G);return w!==void 0&&w(k,O)?(M=G,k):(M=G,V=O)}var D=!1,M,V,U=m===void 0?null:m;return[function(){return P(h())},U===null?void 0:function(){return P(U())}]},[h,m,v,w]);var C=i(f,A[0],A[1]);return s(function(){S.hasValue=!0,S.value=C},[C]),c(C),C},Jx}var yM;function Nne(){return yM||(yM=1,Yx.exports=Ine()),Yx.exports}var Pne=Nne(),l1=T.createContext(null),Rne=t=>t,Zt=()=>{var t=T.useContext(l1);return t?t.store.dispatch:Rne},kg=()=>{},Mne=()=>kg,kne=(t,e)=>t===e;function Me(t){var e=T.useContext(l1);return Pne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Mne,e?e.store.getState:kg,e?e.store.getState:kg,e?t:kg,kne)}function Dne(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function One(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Lne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var vM=t=>Array.isArray(t)?t:[t];function Vne(t){const e=Array.isArray(t[0])?t[0]:t;return Lne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Une(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var jne=class{constructor(t){this.value=t}deref(){return this.value}},zne=typeof WeakRef<"u"?WeakRef:jne,Fne=0,_M=1;function tg(){return{s:Fne,v:void 0,o:null,p:null}}function LU(t,e={}){let n=tg();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var m;let u=n;const{length:c}=arguments;for(let v=0,w=c;v<w;v++){const A=arguments[v];if(typeof A=="function"||typeof A=="object"&&A!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const C=S.get(A);C===void 0?(u=tg(),S.set(A,u)):u=C}else{let S=u.p;S===null&&(u.p=S=new Map);const C=S.get(A);C===void 0?(u=tg(),S.set(A,u)):u=C}}const f=u;let h;if(u.s===_M)h=u.v;else if(h=t.apply(null,arguments),a++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,h)&&(h=v,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new zne(h):h}return f.s=_M,f.v=h,h}return s.clearCache=()=>{n=tg(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function qne(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),Dne(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:m,memoizeOptions:v=[],argsMemoize:w=LU,argsMemoizeOptions:A=[]}=h,S=vM(v),C=vM(A),P=Vne(i),D=m(function(){return a++,f.apply(null,arguments)},...S),M=w(function(){s++;const U=Une(P,arguments);return u=D.apply(null,U),u},...C);return Object.assign(M,{resultFunc:f,memoizedResultFunc:D,dependencies:P,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var re=qne(LU),Bne=Object.assign((t,e=re)=>{One(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>Bne}),Zx={},ew={},tw={},bM;function Hne(){return bM||(bM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-s:s-u}return 0};t.compareValues=n})(tw)),tw}var nw={},rw={},xM;function VU(){return xM||(xM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(rw)),rw}var wM;function Gne(){return wM||(wM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(nw)),nw}var EM;function $ne(){return EM||(EM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hne(),n=Gne(),r=r1();function i(a,s,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const f=(w,A)=>{let S=w;for(let C=0;C<A.length&&S!=null;++C)S=S[A[C]];return S},h=(w,A)=>A==null||w==null?A:typeof w=="object"&&"key"in w?Object.hasOwn(A,w.key)?A[w.key]:f(A,w.path):typeof w=="function"?w(A):Array.isArray(w)?f(A,w):typeof A=="object"?A[w]:A,m=s.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return a.map(w=>({original:w,criteria:m.map(A=>h(A,w))})).slice().sort((w,A)=>{for(let S=0;S<m.length;S++){const C=e.compareValues(w.criteria[S],A.criteria[S],u[S]);if(C!==0)return C}return 0}).map(w=>w.original)}t.orderBy=i})(ew)),ew}var iw={},TM;function Kne(){return TM||(TM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(iw)),iw}var aw={},SM;function UU(){return SM||(SM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OU(),n=s1(),r=IU(),i=PU();function a(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],s):!1}t.isIterateeCall=a})(aw)),aw}var AM;function Wne(){return AM||(AM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$ne(),n=Kne(),r=UU();function i(a,...s){const u=s.length;return u>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(Zx)),Zx}var ow,CM;function Yne(){return CM||(CM=1,ow=Wne().sortBy),ow}var Jne=Yne();const Hv=qa(Jne);var jU=t=>t.legend.settings,Xne=t=>t.legend.size,Qne=t=>t.legend.payload;re([Qne,jU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Hv(r,n):r});var ng=1;function Zne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>ng||Math.abs(s.left-e.left)>ng||Math.abs(s.top-e.top)>ng||Math.abs(s.width-e.width)>ng)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function $n(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ere=typeof Symbol=="function"&&Symbol.observable||"@@observable",IM=ere,sw=()=>Math.random().toString(36).substring(7).split("").join("."),tre={INIT:`@@redux/INIT${sw()}`,REPLACE:`@@redux/REPLACE${sw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sw()}`},_y=tre;function u1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function zU(t,e,n){if(typeof t!="function")throw new Error($n(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($n(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($n(1));return n(zU)(t,e)}let r=t,i=e,a=new Map,s=a,u=0,c=!1;function f(){s===a&&(s=new Map,a.forEach((C,P)=>{s.set(P,C)}))}function h(){if(c)throw new Error($n(3));return i}function m(C){if(typeof C!="function")throw new Error($n(4));if(c)throw new Error($n(5));let P=!0;f();const D=u++;return s.set(D,C),function(){if(P){if(c)throw new Error($n(6));P=!1,f(),s.delete(D),a=null}}}function v(C){if(!u1(C))throw new Error($n(7));if(typeof C.type>"u")throw new Error($n(8));if(typeof C.type!="string")throw new Error($n(17));if(c)throw new Error($n(9));try{c=!0,i=r(i,C)}finally{c=!1}return(a=s).forEach(D=>{D()}),C}function w(C){if(typeof C!="function")throw new Error($n(10));r=C,v({type:_y.REPLACE})}function A(){const C=m;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error($n(11));function D(){const V=P;V.next&&V.next(h())}return D(),{unsubscribe:C(D)}},[IM](){return this}}}return v({type:_y.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:w,[IM]:A}}function nre(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:_y.INIT})>"u")throw new Error($n(12));if(typeof n(void 0,{type:_y.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($n(13))})}function FU(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{nre(n)}catch(a){i=a}return function(s={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],w=s[m],A=v(w,u);if(typeof A>"u")throw u&&u.type,new Error($n(14));f[m]=A,c=c||A!==w}return c=c||r.length!==Object.keys(s).length,c?f:s}}function by(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function rre(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error($n(15))};const s={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},u=t.map(c=>c(s));return a=by(...u)(i.dispatch),{...i,dispatch:a}}}function qU(t){return u1(t)&&"type"in t&&typeof t.type=="string"}var BU=Symbol.for("immer-nothing"),NM=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function Hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qr=Object,Fc=Qr.getPrototypeOf,xy="constructor",Gv="prototype",DE="configurable",wy="enumerable",Dg="writable",vh="value",Ro=t=>!!t&&!!t[gr];function Zi(t){var e;return t?HU(t)||$v(t)||!!t[NM]||!!((e=t[xy])!=null&&e[NM])||Kv(t)||Wv(t):!1}var ire=Qr[Gv][xy].toString(),PM=new WeakMap;function HU(t){if(!t||!c1(t))return!1;const e=Fc(t);if(e===null||e===Qr[Gv])return!0;const n=Qr.hasOwnProperty.call(e,xy)&&e[xy];if(n===Object)return!0;if(!gc(n))return!1;let r=PM.get(n);return r===void 0&&(r=Function.toString.call(n),PM.set(n,r)),r===ire}function Xh(t,e,n=!0){Qh(t)===0?(n?Reflect.ownKeys(t):Qr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Qh(t){const e=t[gr];return e?e.type_:$v(t)?1:Kv(t)?2:Wv(t)?3:0}var RM=(t,e,n=Qh(t))=>n===2?t.has(e):Qr[Gv].hasOwnProperty.call(t,e),OE=(t,e,n=Qh(t))=>n===2?t.get(e):t[e],Ey=(t,e,n,r=Qh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function are(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var $v=Array.isArray,Kv=t=>t instanceof Map,Wv=t=>t instanceof Set,c1=t=>typeof t=="object",gc=t=>typeof t=="function",lw=t=>typeof t=="boolean",co=t=>t.copy_||t.base_,f1=t=>t.modified_?t.copy_:t.base_;function LE(t,e){if(Kv(t))return new Map(t);if(Wv(t))return new Set(t);if($v(t))return Array[Gv].slice.call(t);const n=HU(t);if(e===!0||e==="class_only"&&!n){const r=Qr.getOwnPropertyDescriptors(t);delete r[gr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u[Dg]===!1&&(u[Dg]=!0,u[DE]=!0),(u.get||u.set)&&(r[s]={[DE]:!0,[Dg]:!0,[wy]:u[wy],[vh]:t[s]})}return Qr.create(Fc(t),r)}else{const r=Fc(t);if(r!==null&&n)return{...t};const i=Qr.create(r);return Qr.assign(i,t)}}function d1(t,e=!1){return Yv(t)||Ro(t)||!Zi(t)||(Qh(t)>1&&Qr.defineProperties(t,{set:rg,add:rg,clear:rg,delete:rg}),Qr.freeze(t),e&&Xh(t,(n,r)=>{d1(r,!0)},!1)),t}function ore(){Hi(2)}var rg={[vh]:ore};function Yv(t){return t===null||!c1(t)?!0:Qr.isFrozen(t)}var Ty="MapSet",VE="Patches",GU={};function qc(t){const e=GU[t];return e||Hi(0,t),e}var sre=t=>!!GU[t],_h,$U=()=>_h,lre=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sre(Ty)?qc(Ty):void 0});function MM(t,e){e&&(t.patchPlugin_=qc(VE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function UE(t){jE(t),t.drafts_.forEach(ure),t.drafts_=null}function jE(t){t===_h&&(_h=t.parent_)}var kM=t=>_h=lre(_h,t);function ure(t){const e=t[gr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[gr].modified_&&(UE(e),Hi(4)),Zi(t)&&(t=OM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[gr].base_,t,e)}else t=OM(e,n);return cre(e,t,!0),UE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BU?t:void 0}function OM(t,e){if(Yv(e))return e;const n=e[gr];if(!n)return h1(e,t.handledSet_,t);if(!Jv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);YU(n,t)}return n.copy_}function cre(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&d1(e,n)}function KU(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Jv=(t,e)=>t.scope_===e,fre=[];function WU(t,e,n,r){const i=co(t),a=t.type_;if(r!==void 0&&OE(i,r,a)===e){Ey(i,r,n,a);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Xh(i,(c,f)=>{if(Ro(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const s=t.draftLocations_.get(e)??fre;for(const u of s)Ey(i,u,n,a)}function dre(t,e,n){t.callbacks_.push(function(i){var u;const a=e;if(!a||!Jv(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const s=f1(a);WU(t,a.draft_??a,s,n),YU(a,i)})}function YU(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}KU(t)}}function hre(t,e,n){const{scope_:r}=t;if(Ro(n)){const i=n[gr];Jv(i,r)&&i.callbacks_.push(function(){Og(t);const s=f1(i);WU(t,n,s,e)})}else Zi(n)&&t.callbacks_.push(function(){const a=co(t);OE(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&h1(OE(t.copy_,e,t.type_),r.handledSet_,r)})}function h1(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ro(t)||e.has(t)||!Zi(t)||Yv(t)||(e.add(t),Xh(t,(r,i)=>{if(Ro(i)){const a=i[gr];if(Jv(a,n)){const s=f1(a);Ey(t,r,s,t.type_),KU(a)}}else Zi(i)&&h1(i,e,n)})),t}function pre(t,e){const n=$v(t),r={type_:n?1:0,scope_:e?e.scope_:$U(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=p1;n&&(i=[r],a=bh);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,[u,r]}var p1={get(t,e){if(e===gr)return t;const n=co(t);if(!RM(n,e,t.type_))return mre(t,n,e);const r=n[e];if(t.finalized_||!Zi(r))return r;if(r===uw(t.base_,e)){Og(t);const i=t.type_===1?+e:e,a=FE(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in co(t)},ownKeys(t){return Reflect.ownKeys(co(t))},set(t,e,n){const r=JU(co(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=uw(co(t),e),a=i==null?void 0:i[gr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(are(n,i)&&(n!==void 0||RM(t.base_,e,t.type_)))return!0;Og(t),zE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),hre(t,e,n)),!0},deleteProperty(t,e){return Og(t),uw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),zE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=co(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Dg]:!0,[DE]:t.type_!==1||e!=="length",[wy]:r[wy],[vh]:n[e]}},defineProperty(){Hi(11)},getPrototypeOf(t){return Fc(t.base_)},setPrototypeOf(){Hi(12)}},bh={};Xh(p1,(t,e)=>{bh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});bh.deleteProperty=function(t,e){return bh.set.call(this,t,e,void 0)};bh.set=function(t,e,n){return p1.set.call(this,t[0],e,n,t[0])};function uw(t,e){const n=t[gr];return(n?co(n):t)[e]}function mre(t,e,n){var i;const r=JU(e,n);return r?vh in r?r[vh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function JU(t,e){if(!(e in t))return;let n=Fc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Fc(n)}}function zE(t){t.modified_||(t.modified_=!0,t.parent_&&zE(t.parent_))}function Og(t){t.copy_||(t.assigned_=new Map,t.copy_=LE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gre=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(gc(n)&&!gc(r)){const s=r;r=n;const u=this;return function(f=s,...h){return u.produce(f,m=>r.call(this,m,...h))}}gc(r)||Hi(6),i!==void 0&&!gc(i)&&Hi(7);let a;if(Zi(n)){const s=kM(this),u=FE(s,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?UE(s):jE(s)}return MM(s,i),DM(a,s)}else if(!n||!c1(n)){if(a=r(n),a===void 0&&(a=n),a===BU&&(a=void 0),this.autoFreeze_&&d1(a,!0),i){const s=[],u=[];qc(VE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:u}),i(s,u)}return a}else Hi(1,n)},this.produceWithPatches=(n,r)=>{if(gc(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},lw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),lw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),lw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Zi(e)||Hi(8),Ro(e)&&(e=Wi(e));const n=kM(this),r=FE(n,e,void 0);return r[gr].isManual_=!0,jE(n),r}finishDraft(e,n){const r=e&&e[gr];(!r||!r.isManual_)&&Hi(9);const{scope_:i}=r;return MM(i,n),DM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=qc(VE).applyPatches_;return Ro(e)?i(e,n):this.produce(e,a=>i(a,n))}};function FE(t,e,n,r){const[i,a]=Kv(e)?qc(Ty).proxyMap_(e,n):Wv(e)?qc(Ty).proxySet_(e,n):pre(e,n);return((n==null?void 0:n.scope_)??$U()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?dre(n,a,r):a.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=c;a.modified_&&f&&f.generatePatches_(a,[],c)}),i}function Wi(t){return Ro(t)||Hi(10,t),XU(t)}function XU(t){if(!Zi(t)||Yv(t))return t;const e=t[gr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=LE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=LE(t,!0);return Xh(n,(i,a)=>{Ey(n,i,XU(a))},r),e&&(e.finalized_=!1),n}var yre=new gre,QU=yre.produce;function ZU(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var vre=ZU(),_re=ZU,bre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?by:by.apply(null,arguments)};function Ii(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ei(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>qU(r)&&r.type===t,n}var ej=class zd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zd.prototype)}static get[Symbol.species](){return zd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zd(...e[0].concat(this)):new zd(...e.concat(this))}};function LM(t){return Zi(t)?QU(t,()=>{}):t}function ig(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function xre(t){return typeof t=="boolean"}var wre=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new ej;return n&&(xre(n)?s.push(vre):s.push(_re(n.extraArgument))),s},tj="RTK_autoBatch",Ot=()=>t=>({payload:t,meta:{[tj]:!0}}),VM=t=>e=>{setTimeout(e,t)},nj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VM(10):t.type==="callback"?t.queueNotification:VM(t.timeout),f=()=>{s=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[tj]),a=!i,a&&(s||(s=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},Ere=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new ej(t);return r&&i.push(nj(typeof r=="object"?r:void 0)),i};function Tre(t){const e=wre(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(u1(n))u=FU(n);else throw new Error(ei(1));let c;typeof r=="function"?c=r(e):c=e();let f=by;i&&(f=bre({trace:!1,...typeof i=="object"&&i}));const h=rre(...c),m=Ere(h);let v=typeof s=="function"?s(m):m();const w=f(...v);return zU(u,a,w)}function rj(t){const e={},n=[];let r;const i={addCase(a,s){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ei(28));if(u in e)throw new Error(ei(29));return e[u]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Sre(t){return typeof t=="function"}function Are(t,e){let[n,r,i]=rj(e),a;if(Sre(t))a=()=>LM(t());else{const u=LM(t);a=()=>u}function s(u=a(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if(Ro(h)){const w=m(h,c);return w===void 0?h:w}else{if(Zi(h))return QU(h,v=>m(v,c));{const v=m(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return s.getInitialState=a,s}var Cre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ire=(t=21)=>{let e="",n=t;for(;n--;)e+=Cre[Math.random()*64|0];return e},Nre=Symbol.for("rtk-slice-createasyncthunk");function Pre(t,e){return`${t}/${e}`}function Rre({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Nre];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(ei(11));const u=(typeof i.reducers=="function"?i.reducers(kre()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(V,U){const G=typeof V=="string"?V:V.type;if(!G)throw new Error(ei(12));if(G in f.sliceCaseReducersByType)throw new Error(ei(13));return f.sliceCaseReducersByType[G]=U,h},addMatcher(V,U){return f.sliceMatchers.push({matcher:V,reducer:U}),h},exposeAction(V,U){return f.actionCreators[V]=U,h},exposeCaseReducer(V,U){return f.sliceCaseReducersByName[V]=U,h}};c.forEach(V=>{const U=u[V],G={reducerName:V,type:Pre(a,V),createNotation:typeof i.reducers=="function"};Ore(U)?Vre(G,U,h,e):Dre(G,U,h)});function m(){const[V={},U=[],G=void 0]=typeof i.extraReducers=="function"?rj(i.extraReducers):[i.extraReducers],k={...V,...f.sliceCaseReducersByType};return Are(i.initialState,O=>{for(let L in k)O.addCase(L,k[L]);for(let L of f.sliceMatchers)O.addMatcher(L.matcher,L.reducer);for(let L of U)O.addMatcher(L.matcher,L.reducer);G&&O.addDefaultCase(G)})}const v=V=>V,w=new Map,A=new WeakMap;let S;function C(V,U){return S||(S=m()),S(V,U)}function P(){return S||(S=m()),S.getInitialState()}function D(V,U=!1){function G(O){let L=O[V];return typeof L>"u"&&U&&(L=ig(A,G,P)),L}function k(O=v){const L=ig(w,U,()=>new WeakMap);return ig(L,O,()=>{const F={};for(const[j,q]of Object.entries(i.selectors??{}))F[j]=Mre(q,O,()=>ig(A,O,P),U);return F})}return{reducerPath:V,getSelectors:k,get selectors(){return k(G)},selectSlice:G}}const M={name:a,reducer:C,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:P,...D(s),injectInto(V,{reducerPath:U,...G}={}){const k=U??s;return V.inject({reducerPath:k,reducer:C},G),{...M,...D(k,!0)}}};return M}}function Mre(t,e,n,r){function i(a,...s){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Ur=Rre();function kre(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Dre({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Lre(r))throw new Error(ei(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Ii(t,s):Ii(t))}function Ore(t){return t._reducerDefinitionType==="asyncThunk"}function Lre(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Vre({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ei(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:f,options:h}=n,m=i(t,a,h);r.exposeAction(e,m),s&&r.addCase(m.fulfilled,s),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:s||ag,pending:u||ag,rejected:c||ag,settled:f||ag})}function ag(){}var Ure="task",ij="listener",aj="completed",m1="cancelled",jre=`task-${m1}`,zre=`task-${aj}`,qE=`${ij}-${m1}`,Fre=`${ij}-${aj}`,Xv=class{constructor(t){Ob(this,"name","TaskAbortError");Ob(this,"message");this.code=t,this.message=`${Ure} ${m1} (reason: ${t})`}},g1=(t,e)=>{if(typeof t!="function")throw new TypeError(ei(32))},Sy=()=>{},oj=(t,e=Sy)=>(t.catch(e),t),sj=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Yl=t=>{if(t.aborted){const{reason:e}=t;throw new Xv(e)}};function lj(t,e){let n=Sy;return new Promise((r,i)=>{const a=()=>i(new Xv(t.reason));if(t.aborted){a();return}n=sj(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Sy})}var qre=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Xv?"cancelled":"rejected",error:n}}finally{e==null||e()}},Ay=t=>e=>oj(lj(t,e).then(n=>(Yl(t),n))),uj=t=>{const e=Ay(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cc}=Object,UM={},Qv="listenerMiddleware",Bre=(t,e)=>{const n=r=>sj(t,()=>Wl(r,t.reason));return(r,i)=>{g1(r);const a=new AbortController;n(a);const s=qre(async()=>{Yl(t),Yl(a.signal);const u=await r({pause:Ay(a.signal),delay:uj(a.signal),signal:a.signal});return Yl(a.signal),u},()=>Wl(a,zre));return i!=null&&i.autoJoin&&e.push(s.catch(Sy)),{result:Ay(t)(s),cancel(){Wl(a,jre)}}}},Hre=(t,e)=>{const n=async(r,i)=>{Yl(e);let a=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(m,v)=>{v.unsubscribe(),c([m,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await lj(e,Promise.race(u));return Yl(e),c}finally{a()}};return(r,i)=>oj(n(r,i))},cj=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ii(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ei(21));return g1(a),{predicate:i,type:e,effect:a}},fj=Cc(t=>{const{type:e,predicate:n,effect:r}=cj(t);return{id:Ire(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ei(22))}}},{withTypes:()=>fj}),jM=(t,e)=>{const{type:n,effect:r,predicate:i}=cj(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},BE=t=>{t.pending.forEach(e=>{Wl(e,qE)})},Gre=(t,e)=>()=>{for(const n of e.keys())BE(n);t.clear()},zM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},dj=Cc(Ii(`${Qv}/add`),{withTypes:()=>dj}),$re=Ii(`${Qv}/removeAll`),hj=Cc(Ii(`${Qv}/remove`),{withTypes:()=>hj}),Kre=(...t)=>{console.error(`${Qv}/error`,...t)},Zh=(t={})=>{const e=new Map,n=new Map,r=w=>{const A=n.get(w)??0;n.set(w,A+1)},i=w=>{const A=n.get(w)??1;A===1?n.delete(w):n.set(w,A-1)},{extra:a,onError:s=Kre}=t;g1(s);const u=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),A=>{w.unsubscribe(),A!=null&&A.cancelActive&&BE(w)}),c=w=>{const A=jM(e,w)??fj(w);return u(A)};Cc(c,{withTypes:()=>c});const f=w=>{const A=jM(e,w);return A&&(A.unsubscribe(),w.cancelActive&&BE(A)),!!A};Cc(f,{withTypes:()=>f});const h=async(w,A,S,C)=>{const P=new AbortController,D=Hre(c,P.signal),M=[];try{w.pending.add(P),r(w),await Promise.resolve(w.effect(A,Cc({},S,{getOriginalState:C,condition:(V,U)=>D(V,U).then(Boolean),take:D,delay:uj(P.signal),pause:Ay(P.signal),extra:a,signal:P.signal,fork:Bre(P.signal,M),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((V,U,G)=>{V!==P&&(Wl(V,qE),G.delete(V))})},cancel:()=>{Wl(P,qE),w.pending.delete(P)},throwIfCancelled:()=>{Yl(P.signal)}})))}catch(V){V instanceof Xv||zM(s,V,{raisedBy:"effect"})}finally{await Promise.all(M),Wl(P,Fre),i(w),w.pending.delete(P)}},m=Gre(e,n);return{middleware:w=>A=>S=>{if(!qU(S))return A(S);if(dj.match(S))return c(S.payload);if($re.match(S)){m();return}if(hj.match(S))return f(S.payload);let C=w.getState();const P=()=>{if(C===UM)throw new Error(ei(23));return C};let D;try{if(D=A(S),e.size>0){const M=w.getState(),V=Array.from(e.values());for(const U of V){let G=!1;try{G=U.predicate(S,M,C)}catch(k){G=!1,zM(s,k,{raisedBy:"predicate"})}G&&h(U,S,w,P)}}}finally{C=UM}return D},startListening:c,stopListening:f,clearListeners:m}};function ei(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Wre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pj=Ur({name:"chartLayout",initialState:Wre,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Yre,setLayout:Jre,setChartSize:Xre,setScale:Qre}=pj.actions,Zre=pj.reducer;function mj(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eie(t,e,n){return(e=tie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tie(t){var e=nie(t,"string");return typeof e=="symbol"?e:e+""}function nie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e,n){return Ut(t)||Ut(e)?n:ja(e)?zc(t,e,n):typeof e=="function"?e(t):n}var rie=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&a!=="center"&&Re(t[a]))return yc(yc({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&s!=="middle"&&Re(t[s]))return yc(yc({},t),{},{[s]:t[s]+(i||0)})}return t},rl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",gj=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,s=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||s.push(e),a||s.push(n),s},yj=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:u,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:v,axisType:w}=t;if(!s)return null;var A=u==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,S=i==="category"&&s.bandwidth?s.bandwidth()/A:0;if(S=w==="angleAxis"&&a&&a.length>=2?kr(a[0]-a[1])*2*S:S,m||v){var C=(m||v||[]).map((P,D)=>{var M=r?r.indexOf(P):P;return{coordinate:s(M)+S,value:P,offset:S,index:D}});return C.filter(P=>!Xi(P.coordinate))}return c&&f?f.map((P,D)=>({coordinate:s(P)+S,value:P,index:D,offset:S})):s.ticks&&h!=null?s.ticks(h).map((P,D)=>({coordinate:s(P)+S,value:P,offset:S,index:D})):s.domain().map((P,D)=>({coordinate:s(P)+S,value:r?r[P]:P,index:D,offset:S}))},qM=1e-4,iie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-qM,a=Math.max(r[0],r[1])+qM,s=t(e[0]),u=t(e[n-1]);(s<i||s>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},aie=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},oie=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var u=Xi(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+u,a=t[s][n][1])}},sie=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Xi(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},lie={sign:oie,expand:Lte,none:jc,silhouette:Vte,wiggle:Ute,positive:sie},uie=(t,e,n)=>{var r=lie[n],i=Ote().keys(e).value((a,s)=>Number(Sn(a,s,0))).order(ME).offset(r);return i(t)};function cie(t){return t==null?void 0:String(t)}function BM(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ut(i[e.dataKey])){var u=EU(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Sn(i,Ut(s)?e.dataKey:s);return Ut(c)?null:e.scale(c)}var HM=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=Sn(a,e.dataKey,e.scale.domain()[s]);return Ut(u)?null:e.scale(u)-i/2+r},fie=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},die=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},hie=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],pie=(t,e,n)=>{if(t!=null)return hie(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,u=s.reduce((c,f)=>{var h=mj(f,e,n),m=die(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},GM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$M=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Hv(e,h=>h.coordinate),a=1/0,s=1,u=i.length;s<u;s++){var c=i[s],f=i[s-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function KM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return yc(yc({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Zv(t,e){if(t)return String(t);if(typeof e=="string")return e}var mie=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},gie=(t,e)=>e==="centric"?t.angle:t.radius,Uo=t=>t.layout.width,jo=t=>t.layout.height,yie=t=>t.layout.scale,vj=t=>t.layout.margin,e0=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),t0=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),vie="data-recharts-item-index",_ie="data-recharts-item-data-key",ep=60;function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return(e=xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xie(t){var e=wie(t,"string");return typeof e=="symbol"?e:e+""}function wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eie=t=>t.brush.height;function Tie(t){var e=t0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ep;return n+i}return n},0)}function Sie(t){var e=t0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ep;return n+i}return n},0)}function Aie(t){var e=e0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Cie(t){var e=e0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Un=re([Uo,jo,vj,Eie,Tie,Sie,Aie,Cie,jU,Xne],(t,e,n,r,i,a,s,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+s,bottom:(n.bottom||0)+u},v=og(og({},m),h),w=v.bottom;v.bottom+=r,v=rie(v,c,f);var A=t-v.left-v.right,S=e-v.top-v.bottom;return og(og({brushBottom:w},v),{},{width:Math.max(A,0),height:Math.max(S,0)})}),Iie=re(Un,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),y1=re(Uo,jo,(t,e)=>({x:0,y:0,width:t,height:e})),Nie=T.createContext(null),ar=()=>T.useContext(Nie)!=null,n0=t=>t.brush,r0=re([n0,Un,vj],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Re(t.width)?t.width:e.width})),cw={},fw={},dw={},YM;function Pie(){return YM||(YM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,u=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},m=()=>{f&&h(),S()};let v=null;const w=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},A=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{A(),s=void 0,u=null},C=()=>{h()},P=function(...D){if(i!=null&&i.aborted)return;s=this,u=D;const M=v==null;w(),c&&M&&h()};return P.schedule=w,P.cancel=S,P.flush=C,i==null||i.addEventListener("abort",S,{once:!0}),P}t.debounce=e})(dw)),dw}var JM;function Rie(){return JM||(JM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pie();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:u=!0,maxWait:c}=a,f=Array(2);s&&(f[0]="leading"),u&&(f[1]="trailing");let h,m=null;const v=e.debounce(function(...S){h=r.apply(this,S),m=null},i,{edges:f}),w=function(...S){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,S),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,S),h)},A=()=>(v.flush(),h);return w.cancel=v.cancel,w.flush=A,w}t.debounce=n})(fw)),fw}var XM;function Mie(){return XM||(XM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rie();function n(r,i=0,a={}){const{leading:s=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(cw)),cw}var hw,QM;function kie(){return QM||(QM=1,hw=Mie().throttle),hw}var Die=kie();const Oie=qa(Die);var Cy=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},_j=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,u=Po(r)?t:Number(r),c=Po(i)?e:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},Lie={width:0,height:0,overflow:"visible"},Vie={width:0,overflowX:"visible"},Uie={height:0,overflowY:"visible"},jie={},zie=t=>{var{width:e,height:n}=t,r=Po(e),i=Po(n);return r&&i?Lie:r?Vie:i?Uie:jie};function Fie(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Qt(t){return Number.isFinite(t)}function za(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=Bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bie(t){var e=Hie(t,"string");return typeof e=="symbol"?e:e+""}function Hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bj=T.createContext({width:-1,height:-1});function Gie(t){return za(t.width)&&za(t.height)}function xj(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return Gie(i)?T.createElement(bj.Provider,{value:i},e):null}var v1=()=>T.useContext(bj),$ie=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:u,maxHeight:c,children:f,debounce:h=0,id:m,className:v,onResize:w,style:A={}}=t,S=T.useRef(null),C=T.useRef();C.current=w,T.useImperativeHandle(e,()=>S.current);var[P,D]=T.useState({containerWidth:r.width,containerHeight:r.height}),M=T.useCallback((O,L)=>{D(F=>{var j=Math.round(O),q=Math.round(L);return F.containerWidth===j&&F.containerHeight===q?F:{containerWidth:j,containerHeight:q}})},[]);T.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Jh;var O=q=>{var H,{width:_e,height:Ce}=q[0].contentRect;M(_e,Ce),(H=C.current)===null||H===void 0||H.call(C,_e,Ce)};h>0&&(O=Oie(O,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),{width:F,height:j}=S.current.getBoundingClientRect();return M(F,j),L.observe(S.current),()=>{L.disconnect()}},[M,h]);var{containerWidth:V,containerHeight:U}=P;Cy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:G,calculatedHeight:k}=_j(V,U,{width:i,height:a,aspect:n,maxHeight:c});return Cy(G!=null&&G>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,k,i,a,s,u,n),T.createElement("div",{id:m?"".concat(m):void 0,className:Et("recharts-responsive-container",v),style:ek(ek({},A),{},{width:i,height:a,minWidth:s,minHeight:u,maxHeight:c}),ref:S},T.createElement("div",{style:zie({width:i,height:a})},T.createElement(xj,{width:G,height:k},f)))}),_1=T.forwardRef((t,e)=>{var n=v1();if(za(n.width)&&za(n.height))return t.children;var{width:r,height:i}=Fie({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=_j(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Re(a)&&Re(s)?T.createElement(xj,{width:a,height:s},t.children):T.createElement($ie,HE({},t,{width:r,height:i,ref:e}))});function wj(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var i0=()=>{var t,e=ar(),n=Me(Iie),r=Me(r0),i=(t=Me(n0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Kie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ej=()=>{var t;return(t=Me(Un))!==null&&t!==void 0?t:Kie},Tj=()=>Me(Uo),Sj=()=>Me(jo),ft=t=>t.layout.layoutType,tp=()=>Me(ft),Wie=()=>{var t=tp();return t!==void 0},a0=t=>{var e=Zt(),n=ar(),{width:r,height:i}=t,a=v1(),s=r,u=i;return a&&(s=a.width>0?a.width:r,u=a.height>0?a.height:i),T.useEffect(()=>{!n&&za(s)&&za(u)&&e(Xre({width:s,height:u}))},[e,n,s,u]),null},Aj=Symbol.for("immer-nothing"),tk=Symbol.for("immer-draftable"),ii=Symbol.for("immer-state");function Gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xh=Object.getPrototypeOf;function Hc(t){return!!t&&!!t[ii]}function su(t){var e;return t?Cj(t)||Array.isArray(t)||!!t[tk]||!!((e=t.constructor)!=null&&e[tk])||np(t)||s0(t):!1}var Yie=Object.prototype.constructor.toString(),nk=new WeakMap;function Cj(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=nk.get(n);return r===void 0&&(r=Function.toString.call(n),nk.set(n,r)),r===Yie}function Iy(t,e,n=!0){o0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function o0(t){const e=t[ii];return e?e.type_:Array.isArray(t)?1:np(t)?2:s0(t)?3:0}function GE(t,e){return o0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ij(t,e,n){const r=o0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Jie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function np(t){return t instanceof Map}function s0(t){return t instanceof Set}function jl(t){return t.copy_||t.base_}function $E(t,e){if(np(t))return new Map(t);if(s0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Cj(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ii];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(xh(t),r)}else{const r=xh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function b1(t,e=!1){return l0(t)||Hc(t)||!su(t)||(o0(t)>1&&Object.defineProperties(t,{set:sg,add:sg,clear:sg,delete:sg}),Object.freeze(t),e&&Object.values(t).forEach(n=>b1(n,!0))),t}function Xie(){Gi(2)}var sg={value:Xie};function l0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Qie={};function lu(t){const e=Qie[t];return e||Gi(0,t),e}var wh;function Nj(){return wh}function Zie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rk(t,e){e&&(lu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KE(t){WE(t),t.drafts_.forEach(eae),t.drafts_=null}function WE(t){t===wh&&(wh=t.parent_)}function ik(t){return wh=Zie(wh,t)}function eae(t){const e=t[ii];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ak(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ii].modified_&&(KE(e),Gi(4)),su(t)&&(t=Ny(e,t),e.parent_||Py(e,t)),e.patches_&&lu("Patches").generateReplacementPatches_(n[ii].base_,t,e.patches_,e.inversePatches_)):t=Ny(e,n,[]),KE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Aj?t:void 0}function Ny(t,e,n){if(l0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ii];if(!i)return Iy(e,(a,s)=>ok(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Py(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,u=!1;i.type_===3&&(s=new Set(a),a.clear(),u=!0),Iy(s,(c,f)=>ok(t,i,a,c,f,n,u),r),Py(t,a,!1),n&&t.patches_&&lu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function ok(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const u=l0(i);if(!(u&&!s)){if(Hc(i)){const c=a&&e&&e.type_!==3&&!GE(e.assigned_,r)?a.concat(r):void 0,f=Ny(t,i,c);if(Ij(n,r,f),Hc(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(su(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Ny(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(np(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Py(t,i)}}}function Py(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&b1(e,n)}function tae(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Nj(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=x1;n&&(i=[r],a=Eh);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,u}var x1={get(t,e){if(e===ii)return t;const n=jl(t);if(!GE(n,e))return nae(t,n,e);const r=n[e];return t.finalized_||!su(r)?r:r===pw(t.base_,e)?(mw(t),t.copy_[e]=JE(r,t)):r},has(t,e){return e in jl(t)},ownKeys(t){return Reflect.ownKeys(jl(t))},set(t,e,n){const r=Pj(jl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=pw(jl(t),e),a=i==null?void 0:i[ii];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Jie(n,i)&&(n!==void 0||GE(t.base_,e)))return!0;mw(t),YE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return pw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mw(t),YE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=jl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Gi(11)},getPrototypeOf(t){return xh(t.base_)},setPrototypeOf(){Gi(12)}},Eh={};Iy(x1,(t,e)=>{Eh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Eh.deleteProperty=function(t,e){return Eh.set.call(this,t,e,void 0)};Eh.set=function(t,e,n){return x1.set.call(this,t[0],e,n,t[0])};function pw(t,e){const n=t[ii];return(n?jl(n):t)[e]}function nae(t,e,n){var i;const r=Pj(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Pj(t,e){if(!(e in t))return;let n=xh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xh(n)}}function YE(t){t.modified_||(t.modified_=!0,t.parent_&&YE(t.parent_))}function mw(t){t.copy_||(t.copy_=$E(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rae=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...f){return s.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Gi(6),r!==void 0&&typeof r!="function"&&Gi(7);let i;if(su(e)){const a=ik(this),s=JE(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?KE(a):WE(a)}return rk(a,r),ak(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Aj&&(i=void 0),this.autoFreeze_&&b1(i,!0),r){const a=[],s=[];lu("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Gi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){su(t)||Gi(8),Hc(t)&&(t=iae(t));const e=ik(this),n=JE(t,void 0);return n[ii].isManual_=!0,WE(e),n}finishDraft(t,e){const n=t&&t[ii];(!n||!n.isManual_)&&Gi(9);const{scope_:r}=n;return rk(r,e),ak(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=lu("Patches").applyPatches_;return Hc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function JE(t,e){const n=np(t)?lu("MapSet").proxyMap_(t,e):s0(t)?lu("MapSet").proxySet_(t,e):tae(t,e);return(e?e.scope_:Nj()).drafts_.push(n),n}function iae(t){return Hc(t)||Gi(10,t),Rj(t)}function Rj(t){if(!su(t)||l0(t))return t;const e=t[ii];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=$E(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=$E(t,!0);return Iy(n,(i,a)=>{Ij(n,i,Rj(a))},r),e&&(e.finalized_=!1),n}var aae=new rae;aae.produce;var oae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Mj=Ur({name:"legend",initialState:oae,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ot()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Wi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Ot()},removeLegendPayload:{reducer(t,e){var n=Wi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ot()}}}),{setLegendSize:CSe,setLegendSettings:ISe,addLegendPayload:sae,replaceLegendPayload:lae,removeLegendPayload:uae}=Mj.actions,cae=Mj.reducer;function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pae(t){return Array.isArray(t)&&ja(t[0])&&ja(t[1])?t.join(" ~ "):t}var mae=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:v=!1}=t,w=()=>{if(a&&a.length){var U={padding:0,margin:0},G=(u?Hv(a,u):a).map((k,O)=>{if(k.type==="none")return null;var L=k.formatter||s||pae,{value:F,name:j}=k,q=F,H=j;if(L){var _e=L(F,j,k,O,a);if(Array.isArray(_e))[q,H]=_e;else if(_e!=null)q=_e;else return null}var Ce=gw({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Ce},ja(H)?T.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ja(H)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:U},G)}return null},A=gw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=gw({margin:0},i),C=!Ut(h),P=C?h:"",D=Et("recharts-default-tooltip",c),M=Et("recharts-tooltip-label",f);C&&m&&a!==void 0&&a!==null&&(P=m(h,a));var V=v?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",XE({className:D,style:A},V),T.createElement("p",{className:M,style:S},T.isValidElement(P)?P:"".concat(P)),w())},Td="recharts-tooltip-wrapper",gae={visibility:"hidden"};function yae(t){var{coordinate:e,translateX:n,translateY:r}=t;return Et(Td,{["".concat(Td,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(Td,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(Td,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(Td,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function lk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(a&&Re(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return s[r]?h:m;var v=c[r];if(v==null)return 0;if(s[r]){var w=h,A=v;return w<A?Math.max(m,v):Math.max(h,v)}if(f==null)return 0;var S=m+u,C=v+f;return S>C?Math.max(h,v):Math.max(m,v)}function vae(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _ae(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,f,h,m;return s.height>0&&s.width>0&&n?(h=lk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=lk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=vae({translateX:h,translateY:m,useTranslate3d:u})):f=gae,{cssProperties:f,cssClasses:yae({translateX:h,translateY:m,coordinate:n})}}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){QE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QE(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wae extends T.PureComponent{constructor(){super(...arguments),QE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),QE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:m,useTranslate3d:v,viewBox:w,wrapperStyle:A,lastBoundingBox:S,innerRef:C,hasPortalFromProps:P}=this.props,{cssClasses:D,cssProperties:M}=_ae({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:w}),V=P?{}:lg(lg({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),U=lg(lg({},V),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:U,ref:C},a)}}var kj=()=>{var t;return(t=Me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){Eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eae(t,e,n){return(e=Tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dk={curveBasisClosed:Tte,curveBasisOpen:Ste,curveBasis:Ete,curveBumpX:ute,curveBumpY:cte,curveLinearClosed:Ate,curveLinear:qv,curveMonotoneX:Cte,curveMonotoneY:Ite,curveNatural:Nte,curveStep:Pte,curveStepAfter:Mte,curveStepBefore:Rte},Ry=t=>Qt(t.x)&&Qt(t.y),hk=t=>t.base!=null&&Ry(t.base)&&Ry(t),Sd=t=>t.x,Ad=t=>t.y,Aae=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Yh(t));return(n==="curveMonotone"||n==="curveBump")&&e?dk["".concat(n).concat(e==="vertical"?"Y":"X")]:dk[n]||qv},Cae=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=Aae(e,i),u=a?n.filter(Ry):n,c;if(Array.isArray(r)){var f=n.map((w,A)=>fk(fk({},w),{},{base:r[A]}));i==="vertical"?c=eg().y(Ad).x1(Sd).x0(w=>w.base.x):c=eg().x(Sd).y1(Ad).y0(w=>w.base.y);var h=c.defined(hk).curve(s),m=a?f.filter(hk):f;return h(m)}i==="vertical"&&Re(r)?c=eg().y(Ad).x1(Sd).x0(r):Re(r)?c=eg().x(Sd).y1(Ad).y0(r):c=cU().x(Sd).y(Ad);var v=c.defined(Ry).curve(s);return v(u)},Dj=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Cae(t):r;return T.createElement("path",ZE({},Ji(t),a1(t),{className:Et("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Iae=["x","y","top","left","width","height","className"];function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(null,arguments)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Mae(t,"string");return typeof e=="symbol"?e:e+""}function Mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kae(t,e){if(t==null)return{};var n,r,i=Dae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oae=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Lae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:u}=t,c=kae(t,Iae),f=Nae({x:e,y:n,top:r,left:i,width:a,height:s},c);return!Re(e)||!Re(n)||!Re(a)||!Re(s)||!Re(r)||!Re(i)?null:T.createElement("path",eT({},mr(f),{className:Et("recharts-cross",u),d:Oae(e,n,a,s,r,i)}))};function Vae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){Uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uae(t,e,n){return(e=jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Oj=(t,e,n)=>t.map(r=>"".concat(Fae(r)," ").concat(e,"ms ").concat(n)).join(","),qae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Th=(t,e)=>Object.keys(e).reduce((n,r)=>gk(gk({},n),{},{[r]:t(r,e[r])}),{});function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bae(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Gae(t,"string");return typeof e=="symbol"?e:e+""}function Gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var My=(t,e,n)=>t+(e-t)*n,tT=t=>{var{from:e,to:n}=t;return e!==n},Lj=(t,e,n)=>{var r=Th((i,a)=>{if(tT(a)){var[s,u]=t(a.from,a.to,a.velocity);return En(En({},a),{},{from:s,velocity:u})}return a},e);return n<1?Th((i,a)=>tT(a)?En(En({},a),{},{velocity:My(a.velocity,r[i].velocity,n),from:My(a.from,r[i].from,n)}):a,e):Lj(t,r,n-1)};function $ae(t,e,n,r,i,a){var s,u=r.reduce((v,w)=>En(En({},v),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),c=()=>Th((v,w)=>w.from,u),f=()=>!Object.values(u).filter(tT).length,h=null,m=v=>{s||(s=v);var w=v-s,A=w/n.dt;u=Lj(n,u,A),i(En(En(En({},t),e),c())),s=v,f()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function Kae(t,e,n,r,i,a,s){var u=null,c=i.reduce((m,v)=>En(En({},m),{},{[v]:[t[v],e[v]]}),{}),f,h=m=>{f||(f=m);var v=(m-f)/r,w=Th((S,C)=>My(...C,n(v)),c);if(a(En(En(En({},t),e),w)),v<1)u=s.setTimeout(h);else{var A=Th((S,C)=>My(...C,n(1)),c);a(En(En(En({},t),e),A))}};return()=>(u=s.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const Wae=(t,e,n,r,i,a)=>{var s=qae(t,e);return n==null?()=>(i(En(En({},t),e)),()=>{}):n.isStepper===!0?$ae(t,e,n,s,i,a):Kae(t,e,n,r,s,i,a)};var ky=1e-4,Vj=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Uj=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),vk=(t,e)=>n=>{var r=Vj(t,e);return Uj(r,n)},Yae=(t,e)=>n=>{var r=Vj(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return Uj(i,n)},Jae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Xae=(t,e,n,r)=>{var i=vk(t,n),a=vk(e,r),s=Yae(t,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,m=h,v=0;v<8;++v){var w=i(m)-h,A=s(m);if(Math.abs(w-h)<ky||A<ky)return a(m);m=u(m-w/A)}return a(m)};return c.isStepper=!1,c},_k=function(){return Xae(...Jae(...arguments))},Qae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,u,c)=>{var f=-(s-u)*n,h=c*r,m=c+(f-h)*i/1e3,v=c*i/1e3+s;return Math.abs(v-u)<ky&&Math.abs(m)<ky?[u,0]:[v,m]};return a.isStepper=!0,a.dt=i,a},Zae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _k(t);case"spring":return Qae();default:if(t.split("(")[0]==="cubic-bezier")return _k(t)}return typeof t=="function"?t:null};function eoe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class toe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function noe(){return eoe(new toe)}var roe=T.createContext(noe);function ioe(t,e){var n=T.useContext(roe);return T.useMemo(()=>e??n(t),[t,e,n])}var aoe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rp={devToolsEnabled:!1,isSsr:aoe()},ooe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bk={t:0},yw={t:1};function u0(t){var e=_r(t,ooe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n==="auto"?!rp.isSsr:n,m=ioe(e.animationId,e.animationManager),[v,w]=T.useState(h?bk:yw),A=T.useRef(null);return T.useEffect(()=>{h||w(yw)},[h]),T.useEffect(()=>{if(!h||!r)return Jh;var S=Wae(bk,yw,Zae(a),i,w,m.getTimeoutController()),C=()=>{A.current=S()};return m.start([c,s,C,i,u]),()=>{m.stop(),A.current&&A.current(),u()}},[h,r,i,a,s,c,u,m]),f(v.t)}function c0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(yh(e)),r=T.useRef(t);return r.current!==t&&(n.current=yh(e),r.current=t),n.current}var soe=["radius"],loe=["radius"];function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uoe(t,e,n){return(e=coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){var e=foe(t,"string");return typeof e=="symbol"?e:e+""}function foe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(null,arguments)}function Ek(t,e){if(t==null)return{};var n,r,i=doe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function doe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tk=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=i[m]>a?a:i[m];f="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),f+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),f+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),f+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var w=Math.min(a,i);f="M ".concat(t,",").concat(e+s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t+u*w,",").concat(e,`
            L `).concat(t+n-u*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*w,`
            L `).concat(t+n,",").concat(e+r-s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t+n-u*w,",").concat(e+r,`
            L `).concat(t+u*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*w," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Sk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jj=t=>{var e=_r(t,Sk),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:s,width:u,height:c,radius:f,className:h}=e,{animationEasing:m,animationDuration:v,animationBegin:w,isAnimationActive:A,isUpdateAnimationActive:S}=e,C=T.useRef(u),P=T.useRef(c),D=T.useRef(a),M=T.useRef(s),V=T.useMemo(()=>({x:a,y:s,width:u,height:c,radius:f}),[a,s,u,c,f]),U=c0(V,"rectangle-");if(a!==+a||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var G=Et("recharts-rectangle",h);if(!S){var k=mr(e),{radius:O}=k,L=Ek(k,soe);return T.createElement("path",Dy({},L,{radius:typeof f=="number"?f:void 0,className:G,d:Tk(a,s,u,c,f)}))}var F=C.current,j=P.current,q=D.current,H=M.current,_e="0px ".concat(r===-1?1:r,"px"),Ce="".concat(r,"px 0px"),J=Oj(["strokeDasharray"],v,typeof m=="string"?m:Sk.animationEasing);return T.createElement(u0,{animationId:U,key:U,canBegin:r>0,duration:v,easing:m,isActive:S,begin:w},X=>{var he=Bt(F,u,X),me=Bt(j,c,X),Oe=Bt(q,a,X),K=Bt(H,s,X);n.current&&(C.current=he,P.current=me,D.current=Oe,M.current=K);var ae;A?X>0?ae={transition:J,strokeDasharray:Ce}:ae={strokeDasharray:_e}:ae={strokeDasharray:Ce};var ge=mr(e),{radius:ye}=ge,de=Ek(ge,loe);return T.createElement("path",Dy({},de,{radius:typeof f=="number"?f:void 0,className:G,d:Tk(Oe,K,he,me,f),ref:n,style:wk(wk({},ae),e.style)}))})};function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=moe(t,"string");return typeof e=="symbol"?e:e+""}function moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oy=Math.PI/180,goe=t=>t*180/Math.PI,Yn=(t,e,n,r)=>({x:t+Math.cos(-Oy*r)*n,y:e+Math.sin(-Oy*r)*n}),yoe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},voe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},_oe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=voe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:s,angle:goe(c),angleInRadian:c}},boe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},xoe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},woe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=_oe({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:f}=boe(e),h=a,m;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=c}return m?Ck(Ck({},e),{},{radius:i,angle:xoe(h,e)}):null};function zj(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=Yn(e,n,r,i),u=Yn(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function nT(){return nT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nT.apply(null,arguments)}var Eoe=(t,e)=>{var n=kr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ug=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,f=u*(s?1:-1)+r,h=Math.asin(u/f)/Oy,m=c?i:i+a*h,v=Yn(e,n,f,m),w=Yn(e,n,r,m),A=c?i-a*h:i,S=Yn(e,n,f*Math.cos(h*Oy),A);return{center:v,circleTangency:w,lineTangency:S,theta:h}},Fj=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,u=Eoe(a,s),c=a+u,f=Yn(e,n,i,a),h=Yn(e,n,i,c),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=Yn(e,n,r,a),w=Yn(e,n,r,c);m+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},Toe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=kr(f-c),{circleTangency:m,lineTangency:v,theta:w}=ug({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:S,theta:C}=ug({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:u}),P=u?Math.abs(c-f):Math.abs(c-f)-w-C;if(P<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Fj({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var D="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:V,theta:U}=ug({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:G,lineTangency:k,theta:O}=ug({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),L=u?Math.abs(c-f):Math.abs(c-f)-U-O;if(L<0&&a===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(V.x,",").concat(V.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},Soe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qj=t=>{var e=_r(t,Soe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:m}=e;if(a<i||f===h)return null;var v=Et("recharts-sector",m),w=a-i,A=Qi(s,w,0,!0),S;return A>0&&Math.abs(f-h)<360?S=Toe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,w/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):S=Fj({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),T.createElement("path",nT({},mr(e),{className:v,d:S}))};function Aoe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(AU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:u}=e,c=Yn(r,i,a,u),f=Yn(r,i,s,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return zj(e)}}var vw={},_w={},bw={},Ik;function Coe(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VU();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(bw)),bw}var Nk;function Ioe(){return Nk||(Nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Coe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(_w)),_w}var Pk;function Noe(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UU(),n=Ioe();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=s;return c}t.range=r})(vw)),vw}var xw,Rk;function Poe(){return Rk||(Rk=1,xw=Noe().range),xw}var Roe=Poe();const Bj=qa(Roe);function Vs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Moe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function w1(t){let e,n,r;t.length!==2?(e=Vs,n=(u,c)=>Vs(t(u),c),r=(u,c)=>t(u)-c):(e=t===Vs||t===Moe?t:koe,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=i(u,c,f,h-1);return m>f&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function koe(){return 0}function Hj(t){return t===null?NaN:+t}function*Doe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ooe=w1(Vs),ip=Ooe.right;w1(Hj).center;class Mk extends Map{constructor(e,n=Uoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(kk(this,e))}has(e){return super.has(kk(this,e))}set(e,n){return super.set(Loe(this,e),n)}delete(e){return super.delete(Voe(this,e))}}function kk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Loe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Voe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Uoe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function joe(t=Vs){if(t===Vs)return Gj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Gj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zoe=Math.sqrt(50),Foe=Math.sqrt(10),qoe=Math.sqrt(2);function Ly(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=zoe?10:a>=Foe?5:a>=qoe?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Ly(t,e,n*2):[u,c,f]}function rT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Ly(e,t,n):Ly(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function iT(t,e,n){return e=+e,t=+t,n=+n,Ly(t,e,n)[2]}function aT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?iT(e,t,n):iT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Dk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ok(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $j(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Gj:joe(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),w=Math.max(n,Math.floor(e-f*m/c+v)),A=Math.min(r,Math.floor(e+(c-f)*m/c+v));$j(t,e,w,A,i)}const a=t[e];let s=n,u=r;for(Cd(t,n,e),i(t[r],a)>0&&Cd(t,n,r);s<u;){for(Cd(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Cd(t,n,u):(++u,Cd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Cd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Boe(t,e,n){if(t=Float64Array.from(Doe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ok(t);if(e>=1)return Dk(t);var r,i=(r-1)*e,a=Math.floor(i),s=Dk($j(t,a).subarray(0,a+1)),u=Ok(t.subarray(a+1));return s+(u-s)*(i-a)}}function Hoe(t,e,n=Hj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function Goe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oT=Symbol("implicit");function E1(){var t=new Mk,e=[],n=[],r=oT;function i(a){let s=t.get(a);if(s===void 0){if(r!==oT)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Mk;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return E1(e,n).unknown(r)},Pi.apply(i,arguments),i}function T1(){var t=E1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var v=e().length,w=i<r,A=w?i:r,S=w?r:i;a=(S-A)/Math.max(1,v-c+f*2),u&&(a=Math.floor(a)),A+=(S-A-a*(v-c))*h,s=a*(1-c),u&&(A=Math.round(A),s=Math.round(s));var C=Goe(v).map(function(P){return A+a*P});return n(w?C.reverse():C)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),m()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return T1(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Pi.apply(m(),arguments)}function Kj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Kj(e())},t}function $oe(){return Kj(T1.apply(null,arguments).paddingInner(1))}function S1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Wj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ap(){}var Sh=.7,Vy=1/Sh,Ic="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Koe=/^#([0-9a-f]{3,8})$/,Woe=new RegExp(`^rgb\\(${Ic},${Ic},${Ic}\\)$`),Yoe=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),Joe=new RegExp(`^rgba\\(${Ic},${Ic},${Ic},${Ah}\\)$`),Xoe=new RegExp(`^rgba\\(${Va},${Va},${Va},${Ah}\\)$`),Qoe=new RegExp(`^hsl\\(${Ah},${Va},${Va}\\)$`),Zoe=new RegExp(`^hsla\\(${Ah},${Va},${Va},${Ah}\\)$`),Lk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S1(ap,Ch,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vk,formatHex:Vk,formatHex8:ese,formatHsl:tse,formatRgb:Uk,toString:Uk});function Vk(){return this.rgb().formatHex()}function ese(){return this.rgb().formatHex8()}function tse(){return Yj(this).formatHsl()}function Uk(){return this.rgb().formatRgb()}function Ch(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Koe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jk(e):n===3?new Dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Woe.exec(t))?new Dr(e[1],e[2],e[3],1):(e=Yoe.exec(t))?new Dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Joe.exec(t))?cg(e[1],e[2],e[3],e[4]):(e=Xoe.exec(t))?cg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qoe.exec(t))?qk(e[1],e[2]/100,e[3]/100,1):(e=Zoe.exec(t))?qk(e[1],e[2]/100,e[3]/100,e[4]):Lk.hasOwnProperty(t)?jk(Lk[t]):t==="transparent"?new Dr(NaN,NaN,NaN,0):null}function jk(t){return new Dr(t>>16&255,t>>8&255,t&255,1)}function cg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dr(t,e,n,r)}function nse(t){return t instanceof ap||(t=Ch(t)),t?(t=t.rgb(),new Dr(t.r,t.g,t.b,t.opacity)):new Dr}function sT(t,e,n,r){return arguments.length===1?nse(t):new Dr(t,e,n,r??1)}function Dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}S1(Dr,sT,Wj(ap,{brighter(t){return t=t==null?Vy:Math.pow(Vy,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dr(Jl(this.r),Jl(this.g),Jl(this.b),Uy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zk,formatHex:zk,formatHex8:rse,formatRgb:Fk,toString:Fk}));function zk(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}`}function rse(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}${Hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fk(){const t=Uy(this.opacity);return`${t===1?"rgb(":"rgba("}${Jl(this.r)}, ${Jl(this.g)}, ${Jl(this.b)}${t===1?")":`, ${t})`}`}function Uy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hl(t){return t=Jl(t),(t<16?"0":"")+t.toString(16)}function qk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $i(t,e,n,r)}function Yj(t){if(t instanceof $i)return new $i(t.h,t.s,t.l,t.opacity);if(t instanceof ap||(t=Ch(t)),!t)return new $i;if(t instanceof $i)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new $i(s,u,c,t.opacity)}function ise(t,e,n,r){return arguments.length===1?Yj(t):new $i(t,e,n,r??1)}function $i(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}S1($i,ise,Wj(ap,{brighter(t){return t=t==null?Vy:Math.pow(Vy,t),new $i(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new $i(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dr(ww(t>=240?t-240:t+120,i,r),ww(t,i,r),ww(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $i(Bk(this.h),fg(this.s),fg(this.l),Uy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Uy(this.opacity);return`${t===1?"hsl(":"hsla("}${Bk(this.h)}, ${fg(this.s)*100}%, ${fg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Bk(t){return t=(t||0)%360,t<0?t+360:t}function fg(t){return Math.max(0,Math.min(1,t||0))}function ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const A1=t=>()=>t;function ase(t,e){return function(n){return t+n*e}}function ose(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sse(t){return(t=+t)==1?Jj:function(e,n){return n-e?ose(e,n,t):A1(isNaN(e)?n:e)}}function Jj(t,e){var n=e-t;return n?ase(t,n):A1(isNaN(t)?e:t)}const Hk=(function t(e){var n=sse(e);function r(i,a){var s=n((i=sT(i)).r,(a=sT(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=Jj(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function lse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function use(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=lf(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function fse(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var lT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ew=new RegExp(lT.source,"g");function hse(t){return function(){return t}}function pse(t){return function(e){return t(e)+""}}function mse(t,e){var n=lT.lastIndex=Ew.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=lT.exec(t))&&(i=Ew.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:jy(r,i)})),n=Ew.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?pse(c[0].x):hse(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function lf(t,e){var n=typeof e,r;return e==null||n==="boolean"?A1(e):(n==="number"?jy:n==="string"?(r=Ch(e))?(e=r,Hk):mse:e instanceof Ch?Hk:e instanceof Date?fse:use(e)?lse:Array.isArray(e)?cse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dse:jy)(t,e)}function C1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function gse(t,e){e===void 0&&(e=t,t=lf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function yse(t){return function(){return t}}function zy(t){return+t}var Gk=[0,1];function fr(t){return t}function uT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yse(isNaN(e)?NaN:.5)}function vse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _se(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=uT(i,r),a=n(s,a)):(r=uT(r,i),a=n(a,s)),function(u){return a(r(u))}}function bse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=uT(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=ip(t,u,1,r)-1;return a[c](i[c](u))}}function op(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function f0(){var t=Gk,e=Gk,n=lf,r,i,a,s=fr,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==fr&&(s=vse(t[0],t[v-1])),u=v>2?bse:_se,c=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=u(t.map(r),e,n)))(r(s(v)))}return m.invert=function(v){return s(i((f||(f=u(e,t.map(r),jy)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,zy),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=C1,h()},m.clamp=function(v){return arguments.length?(s=v?!0:fr,h()):s!==fr},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,w){return r=v,i=w,h()}}function I1(){return f0()(fr,fr)}function xse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gc(t){return t=Fy(Math.abs(t)),t?t[1]:NaN}function wse(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Ese(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Tse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ih(t){if(!(e=Tse.exec(t)))throw new Error("invalid format: "+t);var e;return new N1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ih.prototype=N1.prototype;function N1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}N1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Xj;function Ase(t,e){var n=Fy(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Xj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fy(t,Math.max(0,e+a-1))[0]}function $k(t,e){var n=Fy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Kk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$k(t*100,e),r:$k,s:Ase,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Wk(t){return t}var Yk=Array.prototype.map,Jk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cse(t){var e=t.grouping===void 0||t.thousands===void 0?Wk:wse(Yk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Wk:Ese(Yk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Ih(m);var v=m.fill,w=m.align,A=m.sign,S=m.symbol,C=m.zero,P=m.width,D=m.comma,M=m.precision,V=m.trim,U=m.type;U==="n"?(D=!0,U="g"):Kk[U]||(M===void 0&&(M=12),V=!0,U="g"),(C||v==="0"&&w==="=")&&(C=!0,v="0",w="=");var G=S==="$"?n:S==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",k=S==="$"?r:/[%p]/.test(U)?s:"",O=Kk[U],L=/[defgprs%]/.test(U);M=M===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function F(j){var q=G,H=k,_e,Ce,J;if(U==="c")H=O(j)+H,j="";else{j=+j;var X=j<0||1/j<0;if(j=isNaN(j)?c:O(Math.abs(j),M),V&&(j=Sse(j)),X&&+j==0&&A!=="+"&&(X=!1),q=(X?A==="("?A:u:A==="-"||A==="("?"":A)+q,H=(U==="s"?Jk[8+Xj/3]:"")+H+(X&&A==="("?")":""),L){for(_e=-1,Ce=j.length;++_e<Ce;)if(J=j.charCodeAt(_e),48>J||J>57){H=(J===46?i+j.slice(_e+1):j.slice(_e))+H,j=j.slice(0,_e);break}}}D&&!C&&(j=e(j,1/0));var he=q.length+j.length+H.length,me=he<P?new Array(P-he+1).join(v):"";switch(D&&C&&(j=e(me+j,me.length?P-H.length:1/0),me=""),w){case"<":j=q+j+H+me;break;case"=":j=q+me+j+H;break;case"^":j=me.slice(0,he=me.length>>1)+q+j+H+me.slice(he);break;default:j=me+q+j+H;break}return a(j)}return F.toString=function(){return m+""},F}function h(m,v){var w=f((m=Ih(m),m.type="f",m)),A=Math.max(-8,Math.min(8,Math.floor(Gc(v)/3)))*3,S=Math.pow(10,-A),C=Jk[8+A/3];return function(P){return w(S*P)+C}}return{format:f,formatPrefix:h}}var dg,P1,Qj;Ise({thousands:",",grouping:[3],currency:["$",""]});function Ise(t){return dg=Cse(t),P1=dg.format,Qj=dg.formatPrefix,dg}function Nse(t){return Math.max(0,-Gc(Math.abs(t)))}function Pse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(e)/3)))*3-Gc(Math.abs(t)))}function Rse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gc(e)-Gc(t))+1}function Zj(t,e,n,r){var i=aT(t,e,n),a;switch(r=Ih(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Pse(i,s))&&(r.precision=a),Qj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Rse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Nse(i))&&(r.precision=a-(r.type==="%")*2);break}}return P1(r)}function il(t){var e=t.domain;return t.ticks=function(n){var r=e();return rT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Zj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=iT(s,u,n),f===c)return r[i]=s,r[a]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function e6(){var t=I1();return t.copy=function(){return op(t,e6())},Pi.apply(t,arguments),il(t)}function t6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return t6(t).unknown(e)},t=arguments.length?Array.from(t,zy):[0,1],il(n)}function n6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Xk(t){return Math.log(t)}function Qk(t){return Math.exp(t)}function Mse(t){return-Math.log(-t)}function kse(t){return-Math.exp(-t)}function Dse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ose(t){return t===10?Dse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Zk(t){return(e,n)=>-t(-e,n)}function R1(t){const e=t(Xk,Qk),n=e.domain;let r=10,i,a;function s(){return i=Lse(r),a=Ose(r),n()[0]<0?(i=Zk(i),a=Zk(a),t(Mse,kse)):t(Xk,Qk),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),w=i(h),A,S;const C=u==null?10:+u;let P=[];if(!(r%1)&&w-v<C){if(v=Math.floor(v),w=Math.ceil(w),f>0){for(;v<=w;++v)for(A=1;A<r;++A)if(S=v<0?A/a(-v):A*a(v),!(S<f)){if(S>h)break;P.push(S)}}else for(;v<=w;++v)for(A=r-1;A>=1;--A)if(S=v>0?A/a(-v):A*a(v),!(S<f)){if(S>h)break;P.push(S)}P.length*2<C&&(P=rT(f,h,C))}else P=rT(v,w,Math.min(w-v,C)).map(a);return m?P.reverse():P},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ih(c)).precision==null&&(c.trim=!0),c=P1(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(n6(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function r6(){const t=R1(f0()).domain([1,10]);return t.copy=()=>op(t,r6()).base(t.base()),Pi.apply(t,arguments),t}function eD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function M1(t){var e=1,n=t(eD(e),tD(e));return n.constant=function(r){return arguments.length?t(eD(e=+r),tD(e)):e},il(n)}function i6(){var t=M1(f0());return t.copy=function(){return op(t,i6()).constant(t.constant())},Pi.apply(t,arguments)}function nD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Use(t){return t<0?-t*t:t*t}function k1(t){var e=t(fr,fr),n=1;function r(){return n===1?t(fr,fr):n===.5?t(Vse,Use):t(nD(n),nD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},il(e)}function D1(){var t=k1(f0());return t.copy=function(){return op(t,D1()).exponent(t.exponent())},Pi.apply(t,arguments),t}function jse(){return D1.apply(null,arguments).exponent(.5)}function rD(t){return Math.sign(t)*t*t}function zse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function a6(){var t=I1(),e=[0,1],n=!1,r;function i(a){var s=zse(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(rD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,zy)).map(rD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return a6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pi.apply(i,arguments),il(i)}function o6(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=Hoe(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[ip(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Vs),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return o6().domain(t).range(e).unknown(r)},Pi.apply(a,arguments)}function s6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[ip(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return s6().domain([t,e]).range(i).unknown(a)},Pi.apply(il(s),arguments)}function l6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ip(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return l6().domain(t).range(e).unknown(n)},Pi.apply(i,arguments)}const Tw=new Date,Sw=new Date;function An(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>An(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Tw.setTime(+a),Sw.setTime(+s),t(Tw),t(Sw),Math.floor(n(Tw,Sw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const qy=An(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?An(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qy);qy.range;const yo=1e3,wi=yo*60,vo=wi*60,Mo=vo*24,O1=Mo*7,iD=Mo*30,Aw=Mo*365,Gl=An(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yo)},(t,e)=>(e-t)/yo,t=>t.getUTCSeconds());Gl.range;const L1=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yo)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getMinutes());L1.range;const V1=An(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCMinutes());V1.range;const U1=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yo-t.getMinutes()*wi)},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getHours());U1.range;const j1=An(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getUTCHours());j1.range;const sp=An(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wi)/Mo,t=>t.getDate()-1);sp.range;const d0=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mo,t=>t.getUTCDate()-1);d0.range;const u6=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mo,t=>Math.floor(t/Mo));u6.range;function _u(t){return An(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wi)/O1)}const h0=_u(0),By=_u(1),Fse=_u(2),qse=_u(3),$c=_u(4),Bse=_u(5),Hse=_u(6);h0.range;By.range;Fse.range;qse.range;$c.range;Bse.range;Hse.range;function bu(t){return An(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/O1)}const p0=bu(0),Hy=bu(1),Gse=bu(2),$se=bu(3),Kc=bu(4),Kse=bu(5),Wse=bu(6);p0.range;Hy.range;Gse.range;$se.range;Kc.range;Kse.range;Wse.range;const z1=An(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());z1.range;const F1=An(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());F1.range;const ko=An(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ko.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ko.range;const Do=An(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Do.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Do.range;function c6(t,e,n,r,i,a){const s=[[Gl,1,yo],[Gl,5,5*yo],[Gl,15,15*yo],[Gl,30,30*yo],[a,1,wi],[a,5,5*wi],[a,15,15*wi],[a,30,30*wi],[i,1,vo],[i,3,3*vo],[i,6,6*vo],[i,12,12*vo],[r,1,Mo],[r,2,2*Mo],[n,1,O1],[e,1,iD],[e,3,3*iD],[t,1,Aw]];function u(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const w=m&&typeof m.range=="function"?m:c(f,h,m),A=w?w.range(f,+h+1):[];return v?A.reverse():A}function c(f,h,m){const v=Math.abs(h-f)/m,w=w1(([,,C])=>C).right(s,v);if(w===s.length)return t.every(aT(f/Aw,h/Aw,m));if(w===0)return qy.every(Math.max(aT(f,h,m),1));const[A,S]=s[v/s[w-1][2]<s[w][2]/v?w-1:w];return A.every(S)}return[u,c]}const[Yse,Jse]=c6(Do,F1,p0,u6,j1,V1),[Xse,Qse]=c6(ko,z1,h0,sp,U1,L1);function Cw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Iw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Id(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Zse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Nd(i),h=Pd(i),m=Nd(a),v=Pd(a),w=Nd(s),A=Pd(s),S=Nd(u),C=Pd(u),P=Nd(c),D=Pd(c),M={a:X,A:he,b:me,B:Oe,c:null,d:cD,e:cD,f:wle,g:Mle,G:Dle,H:_le,I:ble,j:xle,L:f6,m:Ele,M:Tle,p:K,q:ae,Q:hD,s:pD,S:Sle,u:Ale,U:Cle,V:Ile,w:Nle,W:Ple,x:null,X:null,y:Rle,Y:kle,Z:Ole,"%":dD},V={a:ge,A:ye,b:de,B:Se,c:null,d:fD,e:fD,f:jle,g:Yle,G:Xle,H:Lle,I:Vle,j:Ule,L:h6,m:zle,M:Fle,p:Te,q:rt,Q:hD,s:pD,S:qle,u:Ble,U:Hle,V:Gle,w:$le,W:Kle,x:null,X:null,y:Wle,Y:Jle,Z:Qle,"%":dD},U={a:F,A:j,b:q,B:H,c:_e,d:lD,e:lD,f:mle,g:sD,G:oD,H:uD,I:uD,j:fle,L:ple,m:cle,M:dle,p:L,q:ule,Q:yle,s:vle,S:hle,u:ile,U:ale,V:ole,w:rle,W:sle,x:Ce,X:J,y:sD,Y:oD,Z:lle,"%":gle};M.x=G(n,M),M.X=G(r,M),M.c=G(e,M),V.x=G(n,V),V.X=G(r,V),V.c=G(e,V);function G(oe,Ve){return function(je){var pe=[],zt=-1,$e=0,_n=oe.length,Ht,jr,$o;for(je instanceof Date||(je=new Date(+je));++zt<_n;)oe.charCodeAt(zt)===37&&(pe.push(oe.slice($e,zt)),(jr=aD[Ht=oe.charAt(++zt)])!=null?Ht=oe.charAt(++zt):jr=Ht==="e"?" ":"0",($o=Ve[Ht])&&(Ht=$o(je,jr)),pe.push(Ht),$e=zt+1);return pe.push(oe.slice($e,zt)),pe.join("")}}function k(oe,Ve){return function(je){var pe=Id(1900,void 0,1),zt=O(pe,oe,je+="",0),$e,_n;if(zt!=je.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ve&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=Iw(Id(pe.y,0,1)),_n=$e.getUTCDay(),$e=_n>4||_n===0?Hy.ceil($e):Hy($e),$e=d0.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=Cw(Id(pe.y,0,1)),_n=$e.getDay(),$e=_n>4||_n===0?By.ceil($e):By($e),$e=sp.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),_n="Z"in pe?Iw(Id(pe.y,0,1)).getUTCDay():Cw(Id(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(_n+5)%7:pe.w+pe.U*7-(_n+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Iw(pe)):Cw(pe)}}function O(oe,Ve,je,pe){for(var zt=0,$e=Ve.length,_n=je.length,Ht,jr;zt<$e;){if(pe>=_n)return-1;if(Ht=Ve.charCodeAt(zt++),Ht===37){if(Ht=Ve.charAt(zt++),jr=U[Ht in aD?Ve.charAt(zt++):Ht],!jr||(pe=jr(oe,je,pe))<0)return-1}else if(Ht!=je.charCodeAt(pe++))return-1}return pe}function L(oe,Ve,je){var pe=f.exec(Ve.slice(je));return pe?(oe.p=h.get(pe[0].toLowerCase()),je+pe[0].length):-1}function F(oe,Ve,je){var pe=w.exec(Ve.slice(je));return pe?(oe.w=A.get(pe[0].toLowerCase()),je+pe[0].length):-1}function j(oe,Ve,je){var pe=m.exec(Ve.slice(je));return pe?(oe.w=v.get(pe[0].toLowerCase()),je+pe[0].length):-1}function q(oe,Ve,je){var pe=P.exec(Ve.slice(je));return pe?(oe.m=D.get(pe[0].toLowerCase()),je+pe[0].length):-1}function H(oe,Ve,je){var pe=S.exec(Ve.slice(je));return pe?(oe.m=C.get(pe[0].toLowerCase()),je+pe[0].length):-1}function _e(oe,Ve,je){return O(oe,e,Ve,je)}function Ce(oe,Ve,je){return O(oe,n,Ve,je)}function J(oe,Ve,je){return O(oe,r,Ve,je)}function X(oe){return s[oe.getDay()]}function he(oe){return a[oe.getDay()]}function me(oe){return c[oe.getMonth()]}function Oe(oe){return u[oe.getMonth()]}function K(oe){return i[+(oe.getHours()>=12)]}function ae(oe){return 1+~~(oe.getMonth()/3)}function ge(oe){return s[oe.getUTCDay()]}function ye(oe){return a[oe.getUTCDay()]}function de(oe){return c[oe.getUTCMonth()]}function Se(oe){return u[oe.getUTCMonth()]}function Te(oe){return i[+(oe.getUTCHours()>=12)]}function rt(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ve=G(oe+="",M);return Ve.toString=function(){return oe},Ve},parse:function(oe){var Ve=k(oe+="",!1);return Ve.toString=function(){return oe},Ve},utcFormat:function(oe){var Ve=G(oe+="",V);return Ve.toString=function(){return oe},Ve},utcParse:function(oe){var Ve=k(oe+="",!0);return Ve.toString=function(){return oe},Ve}}}var aD={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,ele=/^%/,tle=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function nle(t){return t.replace(tle,"\\$&")}function Nd(t){return new RegExp("^(?:"+t.map(nle).join("|")+")","i")}function Pd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function rle(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ile(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ale(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ole(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sle(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function oD(t,e,n){var r=jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sD(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lle(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ule(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function cle(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lD(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fle(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function uD(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dle(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hle(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ple(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mle(t,e,n){var r=jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gle(t,e,n){var r=ele.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function yle(t,e,n){var r=jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vle(t,e,n){var r=jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cD(t,e){return ot(t.getDate(),e,2)}function _le(t,e){return ot(t.getHours(),e,2)}function ble(t,e){return ot(t.getHours()%12||12,e,2)}function xle(t,e){return ot(1+sp.count(ko(t),t),e,3)}function f6(t,e){return ot(t.getMilliseconds(),e,3)}function wle(t,e){return f6(t,e)+"000"}function Ele(t,e){return ot(t.getMonth()+1,e,2)}function Tle(t,e){return ot(t.getMinutes(),e,2)}function Sle(t,e){return ot(t.getSeconds(),e,2)}function Ale(t){var e=t.getDay();return e===0?7:e}function Cle(t,e){return ot(h0.count(ko(t)-1,t),e,2)}function d6(t){var e=t.getDay();return e>=4||e===0?$c(t):$c.ceil(t)}function Ile(t,e){return t=d6(t),ot($c.count(ko(t),t)+(ko(t).getDay()===4),e,2)}function Nle(t){return t.getDay()}function Ple(t,e){return ot(By.count(ko(t)-1,t),e,2)}function Rle(t,e){return ot(t.getFullYear()%100,e,2)}function Mle(t,e){return t=d6(t),ot(t.getFullYear()%100,e,2)}function kle(t,e){return ot(t.getFullYear()%1e4,e,4)}function Dle(t,e){var n=t.getDay();return t=n>=4||n===0?$c(t):$c.ceil(t),ot(t.getFullYear()%1e4,e,4)}function Ole(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function fD(t,e){return ot(t.getUTCDate(),e,2)}function Lle(t,e){return ot(t.getUTCHours(),e,2)}function Vle(t,e){return ot(t.getUTCHours()%12||12,e,2)}function Ule(t,e){return ot(1+d0.count(Do(t),t),e,3)}function h6(t,e){return ot(t.getUTCMilliseconds(),e,3)}function jle(t,e){return h6(t,e)+"000"}function zle(t,e){return ot(t.getUTCMonth()+1,e,2)}function Fle(t,e){return ot(t.getUTCMinutes(),e,2)}function qle(t,e){return ot(t.getUTCSeconds(),e,2)}function Ble(t){var e=t.getUTCDay();return e===0?7:e}function Hle(t,e){return ot(p0.count(Do(t)-1,t),e,2)}function p6(t){var e=t.getUTCDay();return e>=4||e===0?Kc(t):Kc.ceil(t)}function Gle(t,e){return t=p6(t),ot(Kc.count(Do(t),t)+(Do(t).getUTCDay()===4),e,2)}function $le(t){return t.getUTCDay()}function Kle(t,e){return ot(Hy.count(Do(t)-1,t),e,2)}function Wle(t,e){return ot(t.getUTCFullYear()%100,e,2)}function Yle(t,e){return t=p6(t),ot(t.getUTCFullYear()%100,e,2)}function Jle(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function Xle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Kc(t):Kc.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function Qle(){return"+0000"}function dD(){return"%"}function hD(t){return+t}function pD(t){return Math.floor(+t/1e3)}var uc,m6,g6;Zle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zle(t){return uc=Zse(t),m6=uc.format,uc.parse,g6=uc.utcFormat,uc.utcParse,uc}function eue(t){return new Date(t)}function tue(t){return t instanceof Date?+t:+new Date(+t)}function q1(t,e,n,r,i,a,s,u,c,f){var h=I1(),m=h.invert,v=h.domain,w=f(".%L"),A=f(":%S"),S=f("%I:%M"),C=f("%I %p"),P=f("%a %d"),D=f("%b %d"),M=f("%B"),V=f("%Y");function U(G){return(c(G)<G?w:u(G)<G?A:s(G)<G?S:a(G)<G?C:r(G)<G?i(G)<G?P:D:n(G)<G?M:V)(G)}return h.invert=function(G){return new Date(m(G))},h.domain=function(G){return arguments.length?v(Array.from(G,tue)):v().map(eue)},h.ticks=function(G){var k=v();return t(k[0],k[k.length-1],G??10)},h.tickFormat=function(G,k){return k==null?U:f(k)},h.nice=function(G){var k=v();return(!G||typeof G.range!="function")&&(G=e(k[0],k[k.length-1],G??10)),G?v(n6(k,G)):h},h.copy=function(){return op(h,q1(t,e,n,r,i,a,s,u,c,f))},h}function nue(){return Pi.apply(q1(Xse,Qse,ko,z1,h0,sp,U1,L1,Gl,m6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rue(){return Pi.apply(q1(Yse,Jse,Do,F1,p0,d0,j1,V1,Gl,g6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function m0(){var t=0,e=1,n,r,i,a,s=fr,u=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(v){var w,A;return arguments.length?([w,A]=v,s=m(w,A),f):[s(0),s(1)]}}return f.range=h(lf),f.rangeRound=h(C1),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function al(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function y6(){var t=il(m0()(fr));return t.copy=function(){return al(t,y6())},zo.apply(t,arguments)}function v6(){var t=R1(m0()).domain([1,10]);return t.copy=function(){return al(t,v6()).base(t.base())},zo.apply(t,arguments)}function _6(){var t=M1(m0());return t.copy=function(){return al(t,_6()).constant(t.constant())},zo.apply(t,arguments)}function B1(){var t=k1(m0());return t.copy=function(){return al(t,B1()).exponent(t.exponent())},zo.apply(t,arguments)}function iue(){return B1.apply(null,arguments).exponent(.5)}function b6(){var t=[],e=fr;function n(r){if(r!=null&&!isNaN(r=+r))return e((ip(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Boe(t,a/r))},n.copy=function(){return b6(e).domain(t)},zo.apply(n,arguments)}function g0(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,f=fr,h,m=!1,v;function w(S){return isNaN(S=+S)?v:(S=.5+((S=+h(S))-a)*(r*S<r*a?u:c),f(m?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,w):[t,e,n]},w.clamp=function(S){return arguments.length?(m=!!S,w):m},w.interpolator=function(S){return arguments.length?(f=S,w):f};function A(S){return function(C){var P,D,M;return arguments.length?([P,D,M]=C,f=gse(S,[P,D,M]),w):[f(0),f(.5),f(1)]}}return w.range=A(lf),w.rangeRound=A(C1),w.unknown=function(S){return arguments.length?(v=S,w):v},function(S){return h=S,i=S(t),a=S(e),s=S(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,w}}function x6(){var t=il(g0()(fr));return t.copy=function(){return al(t,x6())},zo.apply(t,arguments)}function w6(){var t=R1(g0()).domain([.1,1,10]);return t.copy=function(){return al(t,w6()).base(t.base())},zo.apply(t,arguments)}function E6(){var t=M1(g0());return t.copy=function(){return al(t,E6()).constant(t.constant())},zo.apply(t,arguments)}function H1(){var t=k1(g0());return t.copy=function(){return al(t,H1()).exponent(t.exponent())},zo.apply(t,arguments)}function aue(){return H1.apply(null,arguments).exponent(.5)}const Fd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T1,scaleDiverging:x6,scaleDivergingLog:w6,scaleDivergingPow:H1,scaleDivergingSqrt:aue,scaleDivergingSymlog:E6,scaleIdentity:t6,scaleImplicit:oT,scaleLinear:e6,scaleLog:r6,scaleOrdinal:E1,scalePoint:$oe,scalePow:D1,scaleQuantile:o6,scaleQuantize:s6,scaleRadial:a6,scaleSequential:y6,scaleSequentialLog:v6,scaleSequentialPow:B1,scaleSequentialQuantile:b6,scaleSequentialSqrt:iue,scaleSequentialSymlog:_6,scaleSqrt:jse,scaleSymlog:i6,scaleThreshold:l6,scaleTime:nue,scaleUtc:rue,tickFormat:Zj},Symbol.toStringTag,{value:"Module"}));var ol=t=>t.chartData,oue=re([ol],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),y0=(t,e,n,r)=>r?oue(t):ol(t);function Ws(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Qt(e)&&Qt(n))return!0}return!1}function mD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function T6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Qt(n))i=n;else if(typeof n=="function")return;if(Qt(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Ws(s))return s}}function sue(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ws(r))return mD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Re(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&GM.test(i)){var c=GM.exec(i);if(c==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Re(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&$M.test(a)){var h=$M.exec(a);if(h==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var v=[s,u];if(Ws(v))return e==null?v:mD(v,e,n)}}}var uf=1e9,lue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$1,Lt=!0,Ni="[DecimalError] ",Xl=Ni+"Invalid argument: ",G1=Ni+"Exponent out of range: ",cf=Math.floor,zl=Math.pow,uue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Ln=1e7,Rt=7,S6=9007199254740991,Gy=cf(S6/Rt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return Eo(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return St(Eo(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return yn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jr))throw Error(Ni+"NaN");if(n.s<1)throw Error(Ni+(n.s?"NaN":"-Infinity"));return n.eq(Jr)?new r(0):(Lt=!1,e=Eo(Nh(n,a),Nh(t,a),a),Lt=!0,St(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I6(e,t):A6(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ni+"NaN");return n.s?(Lt=!1,e=Eo(n,t,0,1).times(t),Lt=!0,n.minus(e)):St(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return C6(this)};Ae.naturalLogarithm=Ae.ln=function(){return Nh(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A6(e,t):I6(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xl+t);if(e=yn(i)+1,r=i.d.length-1,n=r*Rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ni+"NaN")}for(t=yn(u),Lt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Pa(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Eo(u,a,s+2)).times(.5),Pa(a.d).slice(0,s)===(e=Pa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(St(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return Lt=!0,St(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,a,s,u,c,f,h=this,m=h.constructor,v=h.d,w=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=w.length,c<f&&(a=v,v=w,w=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+w[r]*v[i-r-1]+e,a[i--]=u%Ln|0,e=u/Ln|0;a[i]=(a[i]+e)%Ln|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Lt?St(t,m.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fa(t,0,uf),e===void 0?e=r.rounding:Fa(e,0,8),St(n,t+yn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uu(r,!0):(Fa(t,0,uf),e===void 0?e=i.rounding:Fa(e,0,8),r=St(new i(r),t+1,e),n=uu(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?uu(i):(Fa(t,0,uf),e===void 0?e=a.rounding:Fa(e,0,8),r=St(new a(i),t+yn(i)+1,e),n=uu(r.abs(),!1,t+yn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return St(new e(t),yn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Jr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ni+"Infinity");return u}if(u.eq(Jr))return u;if(r=c.precision,t.eq(Jr))return St(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=S6){for(i=new c(Jr),e=Math.ceil(r/Rt+4),Lt=!1;n%2&&(i=i.times(u),yD(i.d,e)),n=cf(n/2),n!==0;)u=u.times(u),yD(u.d,e);return Lt=!0,t.s<0?new c(Jr).div(i):St(i,r)}}else if(a<0)throw Error(Ni+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Lt=!1,i=t.times(Nh(u,r+f)),Lt=!0,i=C6(i),i.s=a,i};Ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=yn(i),r=uu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fa(t,1,uf),e===void 0?e=a.rounding:Fa(e,0,8),i=St(new a(i),t,e),n=yn(i),r=uu(i,t<=n||n<=a.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fa(t,1,uf),e===void 0?e=r.rounding:Fa(e,0,8)),St(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yn(t),n=t.constructor;return uu(t,e<=n.toExpNeg||e>=n.toExpPos)};function A6(t,e){var n,r,i,a,s,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Lt?St(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(m/Rt),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Ln|0,c[a]%=Ln;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Lt?St(e,m):e}function Fa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Xl+t)}function Pa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(a+=Cs(n)),a+=r;s=t[e],r=s+"",n=Rt-r.length,n&&(a+=Cs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Eo=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Ln|0,s=a/Ln|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ln+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,f,h,m,v,w,A,S,C,P,D,M,V,U,G,k,O,L=r.constructor,F=r.s==i.s?1:-1,j=r.d,q=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Ni+"Division by zero");for(c=r.e-i.e,k=q.length,U=j.length,w=new L(F),A=w.d=[],f=0;q[f]==(j[f]||0);)++f;if(q[f]>(j[f]||0)&&--c,a==null?D=a=L.precision:s?D=a+(yn(r)-yn(i))+1:D=a,D<0)return new L(0);if(D=D/Rt+2|0,f=0,k==1)for(h=0,q=q[0],D++;(f<U||h)&&D--;f++)M=h*Ln+(j[f]||0),A[f]=M/q|0,h=M%q|0;else{for(h=Ln/(q[0]+1)|0,h>1&&(q=t(q,h),j=t(j,h),k=q.length,U=j.length),V=k,S=j.slice(0,k),C=S.length;C<k;)S[C++]=0;O=q.slice(),O.unshift(0),G=q[0],q[1]>=Ln/2&&++G;do h=0,u=e(q,S,k,C),u<0?(P=S[0],k!=C&&(P=P*Ln+(S[1]||0)),h=P/G|0,h>1?(h>=Ln&&(h=Ln-1),m=t(q,h),v=m.length,C=S.length,u=e(m,S,v,C),u==1&&(h--,n(m,k<v?O:q,v))):(h==0&&(u=h=1),m=q.slice()),v=m.length,v<C&&m.unshift(0),n(S,m,C),u==-1&&(C=S.length,u=e(q,S,k,C),u<1&&(h++,n(S,k<C?O:q,C))),C=S.length):u===0&&(h++,S=[0]),A[f++]=h,u&&S[0]?S[C++]=j[V]||0:(S=[j[V]],C=1);while((V++<U||S[0]!==void 0)&&D--)}return A[0]||A.shift(),w.e=c,St(w,s?a+yn(w)+1:a)}})();function C6(t,e){var n,r,i,a,s,u,c=0,f=0,h=t.constructor,m=h.precision;if(yn(t)>16)throw Error(G1+yn(t));if(!t.s)return new h(Jr);for(Lt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(zl(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Jr),h.precision=u;;){if(i=St(i.times(t),u),n=n.times(++c),s=a.plus(Eo(i,n,u)),Pa(s.d).slice(0,u)===Pa(a.d).slice(0,u)){for(;f--;)a=St(a.times(a),u);return h.precision=m,e==null?(Lt=!0,St(a,m)):a}a=s}}function yn(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function Nw(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(Ni+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Cs(t){for(var e="";t--;)e+="0";return e}function Nh(t,e){var n,r,i,a,s,u,c,f,h,m=1,v=10,w=t,A=w.d,S=w.constructor,C=S.precision;if(w.s<1)throw Error(Ni+(w.s?"NaN":"-Infinity"));if(w.eq(Jr))return new S(0);if(e==null?(Lt=!1,f=C):f=e,w.eq(10))return e==null&&(Lt=!0),Nw(S,f);if(f+=v,S.precision=f,n=Pa(A),r=n.charAt(0),a=yn(w),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Pa(w.d),r=n.charAt(0),m++;a=yn(w),r>1?(w=new S("0."+n),a++):w=new S(r+"."+n.slice(1))}else return c=Nw(S,f+2,C).times(a+""),w=Nh(new S(r+"."+n.slice(1)),f-v).plus(c),S.precision=C,e==null?(Lt=!0,St(w,C)):w;for(u=s=w=Eo(w.minus(Jr),w.plus(Jr),f),h=St(w.times(w),f),i=3;;){if(s=St(s.times(h),f),c=u.plus(Eo(s,new S(i),f)),Pa(c.d).slice(0,f)===Pa(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Nw(S,f+2,C).times(a+""))),u=Eo(u,new S(m),f),S.precision=C,e==null?(Lt=!0,St(u,C)):u;u=c,i+=2}}function gD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cf(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>Gy||t.e<-Gy))throw Error(G1+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,a,s,u,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Rt,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Rt),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;r%=Rt,i=r-Rt+s}if(n!==void 0&&(a=zl(10,s-i-1),u=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/zl(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=yn(t),m.length=1,e=e-a-1,m[0]=zl(10,(Rt-e%Rt)%Rt),t.e=cf(-e/Rt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=zl(10,Rt-r),m[h]=i>0?(f/zl(10,s-i)%zl(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Ln&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=Ln)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(Lt&&(t.e>Gy||t.e<-Gy))throw Error(G1+yn(t));return t}function I6(t,e){var n,r,i,a,s,u,c,f,h,m,v=t.constructor,w=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Lt?St(e,w):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=m.length):(n=m,r=f,u=c.length),i=Math.max(Math.ceil(w/Rt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Ln-1;--c[a],c[i]+=Ln}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Lt?St(e,w):e):new v(0)}function uu(t,e,n){var r,i=yn(t),a=Pa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Cs(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Cs(-i-1)+a,n&&(r=n-s)>0&&(a+=Cs(r))):i>=s?(a+=Cs(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Cs(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Cs(r))),t.s<0?"-"+a:a}function yD(t,e){if(t.length>e)return t.length=e,!0}function N6(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return gD(s,a.toString())}else if(typeof a!="string")throw Error(Xl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,uue.test(a))gD(s,a);else throw Error(Xl+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N6,i.config=i.set=cue,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function cue(t){if(!t||typeof t!="object")throw Error(Ni+"Object expected");var e,n,r,i=["precision",1,uf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Xl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xl+n+": "+r);return this}var $1=N6(lue);Jr=new $1(1);const yt=$1;var fue=t=>t,P6={},R6=t=>t===P6,vD=t=>function e(){return arguments.length===0||arguments.length===1&&R6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},M6=(t,e)=>t===1?e:vD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==P6).length;return a>=t?e(...r):M6(t-a,vD(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var f=r.map(h=>R6(h)?u.shift():h);return e(...f,...u)}))}),due=t=>M6(t.length,t),cT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},hue=due((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),pue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fue;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),a(...arguments))}},fT=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function k6(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function D6(t,e,n){for(var r=new yt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var O6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},L6=(t,e,n)=>{if(t.lte(0))return new yt(0);var r=k6(t.toNumber()),i=new yt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new yt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new yt(c.toNumber()):new yt(Math.ceil(c.toNumber()))},mue=(t,e,n)=>{var r=new yt(1),i=new yt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new yt(10).pow(k6(t)-1),i=new yt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new yt(Math.floor(t)))}else t===0?i=new yt(Math.floor((e-1)/2)):n||(i=new yt(Math.floor(t)));var s=Math.floor((e-1)/2),u=pue(hue(c=>i.add(new yt(c-s).mul(r)).toNumber()),cT);return u(0,e)},V6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var s=L6(new yt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new yt(0):(u=new yt(e).add(n).div(2),u=u.sub(new yt(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),f=Math.ceil(new yt(n).sub(u).div(s).toNumber()),h=c+f+1;return h>r?V6(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new yt(c).mul(s)),tickMax:u.add(new yt(f).mul(s))})},gue=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=O6([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...cT(0,i-1).map(()=>1/0)]:[...cT(0,i-1).map(()=>-1/0),c];return n>r?fT(f):f}if(u===c)return mue(u,i,a);var{step:h,tickMin:m,tickMax:v}=V6(u,c,s,a,0),w=D6(m,v.add(new yt(.1).mul(h)),h);return n>r?fT(w):w},yue=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=O6([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),f=L6(new yt(u).sub(s).div(c-1),a,0),h=[...D6(new yt(s),new yt(u),f),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?fT(h):h},U6=t=>t.rootProps.maxBarSize,vue=t=>t.rootProps.barGap,j6=t=>t.rootProps.barCategoryGap,_ue=t=>t.rootProps.barSize,v0=t=>t.rootProps.stackOffset,z6=t=>t.rootProps.reverseStackOrder,K1=t=>t.options.chartName,W1=t=>t.rootProps.syncId,F6=t=>t.rootProps.syncMethod,Y1=t=>t.options.eventEmitter,Vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ho={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Yr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ho.angleAxisId,includeHidden:!1,name:void 0,reversed:ho.reversed,scale:ho.scale,tick:ho.tick,tickCount:void 0,ticks:void 0,type:ho.type,unit:void 0},xue={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,ticks:void 0,type:Yr.type,unit:void 0},wue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ho.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ho.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ho.scale,tick:ho.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Eue={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,ticks:void 0,type:"category",unit:void 0},J1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?wue:bue,X1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Eue:xue,b0=t=>t.polarOptions,Q1=re([Uo,jo,Un],yoe),q6=re([b0,Q1],(t,e)=>{if(t!=null)return Qi(t.innerRadius,e,0)}),B6=re([b0,Q1],(t,e)=>{if(t!=null)return Qi(t.outerRadius,e,e*.8)}),Tue=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},H6=re([b0],Tue);re([J1,H6],_0);var G6=re([Q1,q6,B6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([X1,G6],_0);var $6=re([ft,b0,q6,B6,Uo,jo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:f}=e;return{cx:Qi(s,i,i/2),cy:Qi(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),Cn=(t,e)=>e,x0=(t,e,n)=>n;function Z1(t){return t==null?void 0:t.id}function K6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=Z1(u);f.forEach((m,v)=>{var w=a==null||i?v:String(Sn(m,a,null)),A=Sn(m,u.dataKey,0),S;s.has(w)?S=s.get(w):S={},Object.assign(S,{[h]:A}),s.set(w,S)})}}),Array.from(s.values())}function w0(t){return t.stackId!=null&&t.dataKey!=null}var E0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function T0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Sue(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var In=t=>{var e=ft(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ff=t=>t.tooltip.settings.axisId;function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){Aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:e+""}function Iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dT=[0,"auto"],kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W6=(t,e)=>t.cartesianAxis.xAxis[e],Fo=(t,e)=>{var n=W6(t,e);return n??kn},Dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ep},Y6=(t,e)=>t.cartesianAxis.yAxis[e],qo=(t,e)=>{var n=Y6(t,e);return n??Dn},Nue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},eA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Nue},br=(t,e,n)=>{switch(e){case"xAxis":return Fo(t,n);case"yAxis":return qo(t,n);case"zAxis":return eA(t,n);case"angleAxis":return J1(t,n);case"radiusAxis":return X1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Pue=(t,e,n)=>{switch(e){case"xAxis":return Fo(t,n);case"yAxis":return qo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lp=(t,e,n)=>{switch(e){case"xAxis":return Fo(t,n);case"yAxis":return qo(t,n);case"angleAxis":return J1(t,n);case"radiusAxis":return X1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},J6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function X6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var S0=t=>t.graphicalItems.cartesianItems,Rue=re([Cn,x0],X6),Q6=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),up=re([S0,br,Rue],Q6,{memoizeOptions:{resultEqualityCheck:T0}}),Z6=re([up],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(w0)),ez=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Mue=re([up],ez),tz=t=>t.map(e=>e.data).filter(Boolean).flat(1),kue=re([up],tz,{memoizeOptions:{resultEqualityCheck:T0}}),nz=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},tA=re([kue,y0],nz),rz=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Sn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Sn(i,r)}))):t.map(r=>({value:r})),A0=re([tA,br,up],rz);function iz(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Lg(t){if(ja(t)||t instanceof Date){var e=Number(t);if(Qt(e))return e}}function bD(t){if(Array.isArray(t)){var e=[Lg(t[0]),Lg(t[1])];return Ws(e)?e:void 0}var n=Lg(t);if(n!=null)return[n,n]}function Oo(t){return t.map(Lg).filter(Hte)}function Due(t,e,n){return!n||typeof e!="number"||Xi(e)?[]:n.length?Oo(n.flatMap(r=>{var i=Sn(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Qt(a)||!Qt(s)))return[e-a,e+s]})):[]}var Nn=t=>{var e=In(t),n=ff(t);return lp(t,e,n)},cp=re([Nn],t=>t==null?void 0:t.dataKey),Oue=re([Z6,y0,Nn],K6),az=(t,e,n,r)=>{var i={},a=e.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[u,c]=s,f=r?[...c].reverse():c,h=f.map(Z1);return[u,{stackedData:uie(t,h,n),graphicalItems:f}]}))},hT=re([Oue,Z6,v0,z6],az),oz=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=pie(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Lue=re([br],t=>t.allowDataOverflow),nA=t=>{var e;if(t==null||!("domain"in t))return dT;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Oo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:dT},sz=re([br],nA),lz=re([sz,Lue],T6),Vue=re([hT,ol,Cn,lz],oz,{memoizeOptions:{resultEqualityCheck:E0}}),rA=t=>t.errorBars,Uue=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>iz(n,r)),Ky=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),u=Math.max(...a);return[s,u]}},uz=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var f,h,m=(f=r[c.id])===null||f===void 0?void 0:f.filter(P=>iz(i,P)),v=Sn(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),w=Due(u,v,m);if(w.length>=2){var A=Math.min(...w),S=Math.max(...w);(a==null||A<a)&&(a=A),(s==null||S>s)&&(s=S)}var C=bD(v);C!=null&&(a=a==null?C[0]:Math.min(a,C[0]),s=s==null?C[1]:Math.max(s,C[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=bD(Sn(u,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Qt(a)&&Qt(s))return[a,s]},jue=re([tA,br,Mue,rA,Cn],uz,{memoizeOptions:{resultEqualityCheck:E0}});function zue(t){var{value:e}=t;if(ja(e)||e instanceof Date)return e}var Fue=(t,e,n)=>{var r=t.map(zue).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&wU(r))?Bj(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},cz=t=>t.referenceElements.dots,df=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),que=re([cz,Cn,x0],df),fz=t=>t.referenceElements.areas,Bue=re([fz,Cn,x0],df),dz=t=>t.referenceElements.lines,Hue=re([dz,Cn,x0],df),hz=(t,e)=>{var n=Oo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gue=re(que,Cn,hz),pz=(t,e)=>{var n=Oo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$ue=re([Bue,Cn],pz);function Kue(t){var e;if(t.x!=null)return Oo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Oo(n)}function Wue(t){var e;if(t.y!=null)return Oo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Oo(n)}var mz=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Kue(r):Wue(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yue=re([Hue,Cn],mz),Jue=re(Gue,Yue,$ue,(t,e,n)=>Ky(t,n,e)),gz=(t,e,n,r,i,a,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",f=c?Ky(r,a,i):Ky(a,i);return sue(e,f,t.allowDataOverflow)},Xue=re([br,sz,lz,Vue,jue,Jue,ft,Cn],gz,{memoizeOptions:{resultEqualityCheck:E0}}),Que=[0,1],yz=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,f=rl(e,a);if(f&&u==null){var h;return Bj(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?Fue(r,t,f):i==="expand"?Que:s}},iA=re([br,ft,tA,A0,v0,Cn,Xue],yz),vz=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Yh(a));return u in Fd?u:"point"}}},fp=re([br,ft,J6,K1,Cn],vz);function Zue(t){if(t!=null){if(t in Fd)return Fd[t]();var e="scale".concat(Yh(t));if(e in Fd)return Fd[e]()}}function aA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Zue(e);if(i!=null){var a=i.domain(n).range(r);return iie(a),a}}}var _z=(t,e,n)=>{var r=nA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ws(t))return gue(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ws(t))return yue(t,e.tickCount,e.allowDecimals)}},oA=re([iA,lp,fp],_z),bz=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ws(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(s,u)]}return e},ece=re([br,iA,oA,Cn],bz),tce=re(A0,br,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Oo(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),xz=re(tce,ft,j6,Un,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Qt(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Qi(n,t*a),u=t*a/2;return u-s-(u-s)/a*s}return 0}),nce=(t,e)=>{var n=Fo(t,e);return n==null||typeof n.padding!="string"?0:xz(t,"xAxis",e,n.padding)},rce=(t,e)=>{var n=qo(t,e);return n==null||typeof n.padding!="string"?0:xz(t,"yAxis",e,n.padding)},ice=re(Fo,nce,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),ace=re(qo,rce,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),oce=re([Un,ice,r0,n0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),sce=re([Un,ft,ace,r0,n0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),dp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return oce(t,n,r);case"yAxis":return sce(t,n,r);case"zAxis":return(i=eA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return H6(t);case"radiusAxis":return G6(t,n);default:return}},wz=re([br,dp],_0),hf=re([br,fp,ece,wz],aA);re([up,rA,Cn],Uue);function Ez(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var C0=(t,e)=>e,I0=(t,e,n)=>n,lce=re(e0,C0,I0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Ez)),uce=re(t0,C0,I0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Ez)),Tz=(t,e)=>({width:t.width,height:e.height}),cce=(t,e)=>{var n=typeof e.width=="number"?e.width:ep;return{width:n,height:t.height}},Sz=re(Un,Fo,Tz),fce=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},dce=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},hce=re(jo,Un,lce,C0,I0,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=Tz(e,u);s==null&&(s=fce(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),a}),pce=re(Uo,Un,uce,C0,I0,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=cce(e,u);s==null&&(s=dce(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),a}),mce=(t,e)=>{var n=Fo(t,e);if(n!=null)return hce(t,n.orientation,n.mirror)},gce=re([Un,Fo,mce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),yce=(t,e)=>{var n=qo(t,e);if(n!=null)return pce(t,n.orientation,n.mirror)},vce=re([Un,qo,yce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Az=re(Un,qo,(t,e)=>{var n=typeof e.width=="number"?e.width:ep;return{width:n,height:t.height}}),xD=(t,e,n)=>{switch(e){case"xAxis":return Sz(t,n).width;case"yAxis":return Az(t,n).height;default:return}},Cz=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,u=rl(t,r),c=e.map(f=>f.value);if(s&&u&&a==="category"&&i&&wU(c))return c}},sA=re([ft,A0,br,Cn],Cz),Iz=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=rl(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},lA=re([ft,A0,lp,Cn],Iz),wD=re([ft,Pue,fp,hf,sA,lA,dp,oA,Cn],(t,e,n,r,i,a,s,u,c)=>{if(e!=null){var f=rl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:s,realScaleType:n,scale:r}}}),_ce=(t,e,n,r,i,a,s,u,c)=>{if(!(e==null||r==null)){var f=rl(t,c),{type:h,ticks:m,tickCount:v}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=h==="category"&&r.bandwidth?r.bandwidth()/w:0;A=c==="angleAxis"&&a!=null&&a.length>=2?kr(a[0]-a[1])*2*A:A;var S=m||i;if(S){var C=S.map((P,D)=>{var M=s?s.indexOf(P):P;return{index:D,coordinate:r(M)+A,value:P,offset:A}});return C.filter(P=>Qt(P.coordinate))}return f&&u?u.map((P,D)=>({coordinate:r(P)+A,value:P,index:D,offset:A})).filter(P=>Qt(P.coordinate)):r.ticks?r.ticks(v).map(P=>({coordinate:r(P)+A,value:P,offset:A})):r.domain().map((P,D)=>({coordinate:r(P)+A,value:s?s[P]:P,index:D,offset:A}))}},Nz=re([ft,lp,fp,hf,oA,dp,sA,lA,Cn],_ce),bce=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=rl(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?kr(r[0]-r[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}},Ys=re([ft,lp,hf,dp,sA,lA,Cn],bce),Js=re(br,hf,(t,e)=>{if(!(t==null||e==null))return $y($y({},t),{},{scale:e})}),xce=re([br,fp,iA,wz],aA);re((t,e,n)=>eA(t,n),xce,(t,e)=>{if(!(t==null||e==null))return $y($y({},t),{},{scale:e})});var wce=re([ft,e0,t0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Pz=t=>t.options.defaultTooltipEventType,Rz=t=>t.options.validateTooltipEventTypes;function Mz(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function uA(t,e){var n=Pz(t),r=Rz(t);return Mz(e,n,r)}function Ece(t){return Me(e=>uA(e,t))}var kz=(t,e)=>{var n,r=Number(e);if(!(Xi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tce=t=>t.tooltip.settings,Ms={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Sce={itemInteraction:{click:Ms,hover:Ms},axisInteraction:{click:Ms,hover:Ms},keyboardInteraction:Ms,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Dz=Ur({name:"tooltip",initialState:Sce,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ot()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Wi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Ot()},removeTooltipEntrySettings:{reducer(t,e){var n=Wi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ot()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Ace,replaceTooltipEntrySettings:Cce,removeTooltipEntrySettings:Ice,setTooltipSettingsState:Nce,setActiveMouseOverItemIndex:Oz,mouseLeaveItem:Pce,mouseLeaveChart:Lz,setActiveClickItemIndex:Rce,setMouseOverAxisIndex:Vz,setMouseClickAxisIndex:Mce,setSyncInteraction:pT,setKeyboardInteraction:mT}=Dz.actions,kce=Dz.reducer;function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Lce(t,"string");return typeof e=="symbol"?e:e+""}function Lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vce(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Uce(t){return t.index!=null}var Uz=(t,e,n,r)=>{if(e==null)return Ms;var i=Vce(t,e,n);if(i==null)return Ms;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Uce(i)){if(a)return hg(hg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return hg(hg({},Ms),{},{coordinate:i.coordinate})};function jce(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function zce(t,e){var n=jce(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Fce(t,e,n){if(n==null||e==null)return!0;var r=Sn(t,e);return r==null||!Ws(n)?!0:zce(r,n)}var cA=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!Qt(a))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(a,u)),f=e[c];return f==null||Fce(f,n,r)?String(c):null},jz=(t,e,n,r,i,a,s,u)=>{if(!(a==null||u==null)){var c=s[0],f=c==null?void 0:u(c.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},zz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},hp=t=>t.options.tooltipPayloadSearcher,pf=t=>t.tooltip;function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return(e=Bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t){var e=Hce(t,"string");return typeof e=="symbol"?e:e+""}function Hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gce(t,e){return t??e}var Fz=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,m=[];return t.reduce((v,w)=>{var A,{dataDefinedOnItem:S,settings:C}=w,P=Gce(S,u),D=Array.isArray(P)?mj(P,f,h):P,M=(A=C==null?void 0:C.dataKey)!==null&&A!==void 0?A:r,V=C==null?void 0:C.nameKey,U;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?U=EU(D,r,i):U=a(D,e,c,V),Array.isArray(U))U.forEach(k=>{var O=SD(SD({},C),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});v.push(KM({tooltipEntrySettings:O,dataKey:k.dataKey,payload:k.payload,value:Sn(k.payload,k.dataKey),name:k.name}))});else{var G;v.push(KM({tooltipEntrySettings:C,dataKey:M,payload:U,value:Sn(U,M),name:(G=Sn(U,V))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return v},m)}},fA=re([Nn,ft,J6,K1,In],vz),$ce=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Kce=re([In,ff],X6),pp=re([$ce,Nn,Kce],Q6,{memoizeOptions:{resultEqualityCheck:T0}}),Wce=re([pp],t=>t.filter(w0)),Yce=re([pp],tz,{memoizeOptions:{resultEqualityCheck:T0}}),mf=re([Yce,ol],nz),Jce=re([Wce,ol,Nn],K6),dA=re([mf,Nn,pp],rz),qz=re([Nn],nA),Xce=re([Nn],t=>t.allowDataOverflow),Bz=re([qz,Xce],T6),Qce=re([pp],t=>t.filter(w0)),Zce=re([Jce,Qce,v0,z6],az),efe=re([Zce,ol,In,Bz],oz),tfe=re([pp],ez),nfe=re([mf,Nn,tfe,rA,In],uz,{memoizeOptions:{resultEqualityCheck:E0}}),rfe=re([cz,In,ff],df),ife=re([rfe,In],hz),afe=re([fz,In,ff],df),ofe=re([afe,In],pz),sfe=re([dz,In,ff],df),lfe=re([sfe,In],mz),ufe=re([ife,lfe,ofe],Ky),cfe=re([Nn,qz,Bz,efe,nfe,ufe,ft,In],gz),mp=re([Nn,ft,mf,dA,v0,In,cfe],yz),ffe=re([mp,Nn,fA],_z),dfe=re([Nn,mp,ffe,In],bz),Hz=t=>{var e=In(t),n=ff(t),r=!1;return dp(t,e,n,r)},Gz=re([Nn,Hz],_0),$z=re([Nn,fA,dfe,Gz],aA),hfe=re([ft,dA,Nn,In],Cz),pfe=re([ft,dA,Nn,In],Iz),mfe=(t,e,n,r,i,a,s,u)=>{if(e){var{type:c}=e,f=rl(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?kr(i[0]-i[1])*2*m:m,f&&s?s.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:a?a[v]:v,index:w,offset:m}))}}},Bo=re([ft,Nn,fA,$z,Hz,hfe,pfe,In],mfe),hA=re([Pz,Rz,Tce],(t,e,n)=>Mz(n.shared,t,e)),Kz=t=>t.tooltip.settings.trigger,pA=t=>t.tooltip.settings.defaultIndex,gp=re([pf,hA,Kz,pA],Uz),cu=re([gp,mf,cp,mp],cA),Wz=re([Bo,cu],kz),Yz=re([gp],t=>{if(t)return t.dataKey});re([gp],t=>{if(t)return t.graphicalItemId});var Jz=re([pf,hA,Kz,pA],zz),gfe=re([Uo,jo,ft,Un,Bo,pA,Jz,hp],jz),yfe=re([gp,gfe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),vfe=re([gp],t=>t.active),_fe=re([Jz,cu,ol,cp,Wz,hp,hA],Fz),bfe=re([_fe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xfe(t,e,n){return(e=wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wfe(t){var e=Efe(t,"string");return typeof e=="symbol"?e:e+""}function Efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tfe=()=>Me(Nn),Sfe=()=>{var t=Tfe(),e=Me(Bo),n=Me($z);return Bc(!t||!n?void 0:CD(CD({},t),{},{scale:n}),e)};function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Afe(t,e,n){return(e=Cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cfe(t){var e=Ife(t,"string");return typeof e=="symbol"?e:e+""}function Ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nfe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Pfe=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return cc(cc(cc({},r),Yn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var u=i.coordinate,{angle:c}=r;return cc(cc(cc({},r),Yn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Rfe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var Xz=(t,e,n,r,i)=>{var a,s=-1,u=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var f=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(kr(h-f)!==kr(m-h)){var w=[];if(kr(m-h)===kr(i[1]-i[0])){v=m;var A=h+i[1]-i[0];w[0]=Math.min(A,(A+f)/2),w[1]=Math.max(A,(A+f)/2)}else{v=f;var S=m+i[1]-i[0];w[0]=Math.min(h,(S+h)/2),w[1]=Math.max(h,(S+h)/2)}var C=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>C[0]&&t<=C[1]||t>=w[0]&&t<=w[1]){({index:s}=n[c]);break}}else{var P=Math.min(f,m),D=Math.max(f,m);if(t>(P+h)/2&&t<=(D+h)/2){({index:s}=n[c]);break}}}else if(e){for(var M=0;M<u;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:s}=e[M]);break}}return s},Mfe=()=>Me(K1),mA=(t,e)=>e,Qz=(t,e,n)=>n,gA=(t,e,n,r)=>r,kfe=re(Bo,t=>Hv(t,e=>e.coordinate)),yA=re([pf,mA,Qz,gA],Uz),vA=re([yA,mf,cp,mp],cA),Dfe=(t,e,n)=>{if(e!=null){var r=pf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Zz=re([pf,mA,Qz,gA],zz),Wy=re([Uo,jo,ft,Un,Bo,gA,Zz,hp],jz),Ofe=re([yA,Wy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),eF=re([Bo,vA],kz),Lfe=re([Zz,vA,ol,cp,eF,hp,mA],Fz),Vfe=re([yA,vA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Ufe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Rfe(t,s)){var u=mie(t,e),c=Xz(u,a,i,n,r),f=Nfe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},jfe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var u=woe(t,n);if(u){var c=gie(u,e),f=Xz(c,s,a,r,i),h=Pfe(e,a,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},zfe=(t,e,n,r,i,a,s,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Ufe(t,e,r,i,a,s,u):jfe(t,e,n,r,i,a,s)},Ffe=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),qfe=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Vn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Sue}});function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bfe(t,e,n){return(e=Hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=Gfe(t,"string");return typeof e=="symbol"?e:e+""}function Gfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $fe={},Kfe={zIndexMap:Object.values(Vn).reduce((t,e)=>PD(PD({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),$fe)},Wfe=new Set(Object.values(Vn));function Yfe(t){return Wfe.has(t)}var tF=Ur({name:"zIndex",initialState:Kfe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ot()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Yfe(n)&&delete t.zIndexMap[n])},prepare:Ot()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ot()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Ot()}}}),{registerZIndexPortal:Jfe,unregisterZIndexPortal:Xfe,registerZIndexPortalId:Qfe,unregisterZIndexPortalId:Zfe}=tF.actions,ede=tF.reducer;function Ri(t){var{zIndex:e,children:n}=t,r=Wie(),i=r&&e!==void 0&&e!==0,a=ar(),s=Zt();T.useLayoutEffect(()=>i?(s(Jfe({zIndex:e})),()=>{s(Xfe({zIndex:e}))}):Jh,[s,e,i]);var u=Me(f=>Ffe(f,e,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?L4.createPortal(n,c):null}function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT.apply(null,arguments)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e,n){return(e=nde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nde(t){var e=rde(t,"string");return typeof e=="symbol"?e:e+""}function rde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ide(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function ade(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,m=n,v=r,w=i;if(!c||!m||h!=="ScatterChart"&&f!=="axis")return null;var A,S,C;if(h==="ScatterChart")A=m,S=Lae,C=Vn.cursorLine;else if(h==="BarChart")A=Vae(u,m,a,s),S=jj,C=Vn.cursorRectangle;else if(u==="radial"&&AU(m)){var{cx:P,cy:D,radius:M,startAngle:V,endAngle:U}=zj(m);A={cx:P,cy:D,startAngle:V,endAngle:U,innerRadius:M,outerRadius:M},S=qj,C=Vn.cursorLine}else A={points:Aoe(u,m,a)},S=Dj,C=Vn.cursorLine;var G=typeof c=="object"&&"className"in c?c.className:void 0,k=pg(pg(pg(pg({stroke:"#ccc",pointerEvents:"none"},a),A),Wh(c)),{},{payload:v,payloadIndex:w,className:Et("recharts-tooltip-cursor",G)});return T.createElement(Ri,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:C},T.createElement(ide,{cursor:c,cursorComp:S,cursorProps:k}))}function ode(t){var e=Sfe(),n=Ej(),r=tp(),i=Mfe();return e==null||n==null||r==null||i==null?null:T.createElement(ade,gT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var nF=T.createContext(null),sde=()=>T.useContext(nF),Pw={exports:{}},MD;function lde(){return MD||(MD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,m||c,v),A=n?n+f:f;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],w]:c._events[A].push(w):(c._events[A]=w,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,w=m.length,A=new Array(w);v<w;v++)A[v]=m[v].fn;return A},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,v,w,A){var S=n?n+f:f;if(!this._events[S])return!1;var C=this._events[S],P=arguments.length,D,M;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,m),!0;case 4:return C.fn.call(C.context,h,m,v),!0;case 5:return C.fn.call(C.context,h,m,v,w),!0;case 6:return C.fn.call(C.context,h,m,v,w,A),!0}for(M=1,D=new Array(P-1);M<P;M++)D[M-1]=arguments[M];C.fn.apply(C.context,D)}else{var V=C.length,U;for(M=0;M<V;M++)switch(C[M].once&&this.removeListener(f,C[M].fn,void 0,!0),P){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,h);break;case 3:C[M].fn.call(C[M].context,h,m);break;case 4:C[M].fn.call(C[M].context,h,m,v);break;default:if(!D)for(U=1,D=new Array(P-1);U<P;U++)D[U-1]=arguments[U];C[M].fn.apply(C[M].context,D)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,v){var w=n?n+f:f;if(!this._events[w])return this;if(!h)return s(this,w),this;var A=this._events[w];if(A.fn)A.fn===h&&(!v||A.once)&&(!m||A.context===m)&&s(this,w);else{for(var S=0,C=[],P=A.length;S<P;S++)(A[S].fn!==h||v&&!A[S].once||m&&A[S].context!==m)&&C.push(A[S]);C.length?this._events[w]=C.length===1?C[0]:C:s(this,w)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Pw)),Pw.exports}var ude=lde();const cde=qa(ude);var Ph=new cde,yT="recharts.syncEvent.tooltip",kD="recharts.syncEvent.brush";function rF(t,e){if(e){var n=Number.parseInt(e,10);if(!Xi(n))return t==null?void 0:t[n]}}var fde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iF=Ur({name:"options",initialState:fde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dde=iF.reducer,{createEventEmitter:hde}=iF.actions;function pde(t){return t.tooltip.syncInteraction}var mde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aF=Ur({name:"chartData",initialState:mde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:DD,setDataStartEndIndexes:gde,setComputedData:NSe}=aF.actions,yde=aF.reducer,vde=["x","y"];function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return(e=bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=xde(t,"string");return typeof e=="symbol"?e:e+""}function xde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wde(t,e){if(t==null)return{};var n,r,i=Ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tde(){var t=Me(W1),e=Me(Y1),n=Zt(),r=Me(F6),i=Me(Bo),a=tp(),s=i0(),u=Me(c=>c.rootProps.className);T.useEffect(()=>{if(t==null)return Jh;var c=(f,h,m)=>{if(e!==m&&t===f){if(r==="index"){var v;if(s&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var w=h.payload.coordinate,{x:A,y:S}=w,C=wde(w,vde),{x:P,y:D,width:M,height:V}=h.payload.sourceViewBox,U=fc(fc({},C),{},{x:s.x+(M?(A-P)/M:0)*s.width,y:s.y+(V?(S-D)/V:0)*s.height});n(fc(fc({},h),{},{payload:fc(fc({},h.payload),{},{coordinate:U})}))}else n(h);return}if(i!=null){var G;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,k);G=i[O]}else r==="value"&&(G=i.find(J=>String(J.value)===h.payload.label));var{coordinate:L}=h.payload;if(G==null||h.payload.active===!1||L==null||s==null){n(pT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:j}=L,q=Math.min(F,s.x+s.width),H=Math.min(j,s.y+s.height),_e={x:a==="horizontal"?G.coordinate:q,y:a==="horizontal"?H:G.coordinate},Ce=pT({active:h.payload.active,coordinate:_e,dataKey:h.payload.dataKey,index:String(G.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Ce)}}};return Ph.on(yT,c),()=>{Ph.off(yT,c)}},[u,n,e,t,r,i,a,s])}function Sde(){var t=Me(W1),e=Me(Y1),n=Zt();T.useEffect(()=>{if(t==null)return Jh;var r=(i,a,s)=>{e!==s&&t===i&&n(gde(a))};return Ph.on(kD,r),()=>{Ph.off(kD,r)}},[n,e,t])}function Ade(){var t=Zt();T.useEffect(()=>{t(hde())},[t]),Tde(),Sde()}function Cde(t,e,n,r,i,a){var s=Me(w=>Dfe(w,t,e)),u=Me(Y1),c=Me(W1),f=Me(F6),h=Me(pde),m=h==null?void 0:h.active,v=i0();T.useEffect(()=>{if(!m&&c!=null&&u!=null){var w=pT({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Ph.emit(yT,c,w,u)}},[m,n,s,i,r,u,c,f,a,v])}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){Ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ide(t,e,n){return(e=Nde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=Pde(t,"string");return typeof e=="symbol"?e:e+""}function Pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rde(t){return t.dataKey}function Mde(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(mae,e)}var UD=[],kde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function oF(t){var e,n,r=_r(t,kde),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:v,position:w,reverseDirection:A,useTranslate3d:S,wrapperStyle:C,cursor:P,shared:D,trigger:M,defaultIndex:V,portal:U,axisId:G}=r,k=Zt(),O=typeof V=="number"?String(V):V;T.useEffect(()=>{k(Nce({shared:D,trigger:M,axisId:G,active:i,defaultIndex:O}))},[k,D,M,G,i,O]);var L=i0(),F=kj(),j=Ece(D),{activeIndex:q,isActive:H}=(e=Me(Te=>Vfe(Te,j,M,O)))!==null&&e!==void 0?e:{},_e=Me(Te=>Lfe(Te,j,M,O)),Ce=Me(Te=>eF(Te,j,M,O)),J=Me(Te=>Ofe(Te,j,M,O)),X=_e,he=sde(),me=(n=i??H)!==null&&n!==void 0?n:!1,[Oe,K]=Zne([X,me]),ae=j==="axis"?Ce:void 0;Cde(j,M,J,ae,q,me);var ge=U??he;if(ge==null||L==null||j==null)return null;var ye=X??UD;me||(ye=UD),f&&ye.length&&(ye=Sne(ye.filter(Te=>Te.value!=null&&(Te.hide!==!0||r.includeHidden)),v,Rde));var de=ye.length>0,Se=T.createElement(wae,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:h,active:me,coordinate:J,hasPayload:de,offset:m,position:w,reverseDirection:A,useTranslate3d:S,viewBox:L,wrapperStyle:C,lastBoundingBox:Oe,innerRef:K,hasPortalFromProps:!!U},Mde(c,VD(VD({},r),{},{payload:ye,label:ae,active:me,activeIndex:q,coordinate:J,accessibilityLayer:F})));return T.createElement(T.Fragment,null,L4.createPortal(Se,ge),me&&T.createElement(ode,{cursor:P,tooltipEventType:j,coordinate:J,payload:ye,index:q}))}var N0=t=>null;N0.displayName="Cell";function Dde(t,e,n){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Lde(t,"string");return typeof e=="symbol"?e:e+""}function Lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vde{constructor(e){Dde(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ude(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e,n){return(e=zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qde={cacheSize:2e3,enableCache:!0},sF=Ude({},qde),zD=new Vde(sF.cacheSize),Bde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FD="recharts_measurement_span";function Hde(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(u)}var qD=(t,e)=>{try{var n=document.getElementById(FD);n||(n=document.createElement("span"),n.setAttribute("id",FD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Bde,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Qd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rp.isSsr)return{width:0,height:0};if(!sF.enableCache)return qD(e,n);var r=Hde(e,n),i=zD.get(r);if(i)return i;var a=qD(e,n);return zD.set(r,a),a},BD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$de=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kde=Object.keys(lF),vc="NaN";function Wde(t,e){return t*lF[e]}class Nr{static parse(e){var n,[,r,i]=(n=$de.exec(e))!==null&&n!==void 0?n:[];return new Nr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xi(e)&&(this.unit=""),n!==""&&!Gde.test(n)&&(this.num=NaN,this.unit=""),Kde.includes(n)&&(this.num=Wde(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xi(this.num)}}function uF(t){if(t.includes(vc))return vc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=BD.exec(e))!==null&&n!==void 0?n:[],s=Nr.parse(r??""),u=Nr.parse(a??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return vc;e=e.replace(BD,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,m,v]=(f=HD.exec(e))!==null&&f!==void 0?f:[],w=Nr.parse(h??""),A=Nr.parse(v??""),S=m==="+"?w.add(A):w.subtract(A);if(S.isNaN())return vc;e=e.replace(HD,S.toString())}return e}var GD=/\(([^()]*)\)/;function Yde(t){for(var e=t,n;(n=GD.exec(e))!=null;){var[,r]=n;e=e.replace(GD,uF(r))}return e}function Jde(t){var e=t.replace(/\s+/g,"");return e=Yde(e),e=uF(e),e}function Xde(t){try{return Jde(t)}catch{return vc}}function Rw(t){var e=Xde(t.slice(5,-1));return e===vc?"":e}var Qde=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Zde=["dx","dy","angle","className","breakAll"];function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(null,arguments)}function $D(t,e){if(t==null)return{};var n,r,i=ehe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ehe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cF=/[ \f\n\r\t\v\u2028\u2029]+/,fF=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ut(e)||(n?i=e.toString().split(""):i=e.toString().split(cF));var a=i.map(u=>({word:u,width:Qd(u,r).width})),s=n?0:Qd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function the(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var dF=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var f={words:[s],width:u};i.push(f)}return i},[]),hF=t=>t.reduce((e,n)=>e.width>n.width?e:n),nhe="",KD=(t,e,n,r,i,a,s,u)=>{var c=t.slice(0,e),f=fF({breakAll:n,style:r,children:c+nhe});if(!f)return[!1,[]];var h=dF(f.wordsWithComputedWidth,a,s,u),m=h.length>i||hF(h).width>Number(a);return[m,h]},rhe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:u,breakAll:c}=t,f=Re(a),h=String(s),m=dF(e,r,n,i);if(!f||i)return m;var v=m.length>a||hF(m).width>Number(r);if(!v)return m;for(var w=0,A=h.length-1,S=0,C;w<=A&&S<=h.length-1;){var P=Math.floor((w+A)/2),D=P-1,[M,V]=KD(h,D,c,u,a,r,n,i),[U]=KD(h,P,c,u,a,r,n,i);if(!M&&!U&&(w=P+1),M&&U&&(A=P-1),!M&&U){C=V;break}S++}return C||m},WD=t=>{var e=Ut(t)?[]:t.toString().split(cF);return[{words:e,width:void 0}]},ihe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!rp.isSsr){var u,c,f=fF({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;u=h,c=m}else return WD(r);return rhe({breakAll:a,children:r,maxLines:s,style:i},u,c,e,!!n)}return WD(r)},pF="#808080",ahe={angle:0,breakAll:!1,capHeight:"0.71em",fill:pF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},_A=T.forwardRef((t,e)=>{var n=_r(t,ahe),{x:r,y:i,lineHeight:a,capHeight:s,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,m=$D(n,Qde),v=T.useMemo(()=>ihe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:w,dy:A,angle:S,className:C,breakAll:P}=m,D=$D(m,Zde);if(!ja(r)||!ja(i)||v.length===0)return null;var M=Number(r)+(Re(w)?w:0),V=Number(i)+(Re(A)?A:0);if(!Qt(M)||!Qt(V))return null;var U;switch(h){case"start":U=Rw("calc(".concat(s,")"));break;case"middle":U=Rw("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:U=Rw("calc(".concat(v.length-1," * -").concat(a,")"));break}var G=[];if(c){var k=v[0].width,{width:O}=m;G.push("scale(".concat(Re(O)&&Re(k)?O/k:1,")"))}return S&&G.push("rotate(".concat(S,", ").concat(M,", ").concat(V,")")),G.length&&(D.transform=G.join(" ")),T.createElement("text",vT({},mr(D),{ref:e,x:M,y:V,className:Et("recharts-text",C),textAnchor:f,fill:u.includes("url")?pF:u}),v.map((L,F)=>{var j=L.words.join(P?"":" ");return T.createElement("tspan",{x:M,dy:F===0?U:a,key:"".concat(j,"-").concat(F)},j)}))});_A.displayName="Text";var ohe=["labelRef"];function she(t,e){if(t==null)return{};var n,r,i=lhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){uhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uhe(t,e,n){return(e=che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function che(t){var e=fhe(t,"string");return typeof e=="symbol"?e:e+""}function fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function po(){return po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},po.apply(null,arguments)}var mF=T.createContext(null),dhe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:u}=t,c=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return T.createElement(mF.Provider,{value:c},u)},gF=()=>{var t=T.useContext(mF),e=i0();return t||wj(e)},hhe=T.createContext(null),phe=()=>{var t=T.useContext(hhe),e=Me($6);return t||e},mhe=t=>{var{value:e,formatter:n}=t,r=Ut(t.children)?e:t.children;return typeof n=="function"?n(r):r},bA=t=>t!=null&&typeof t=="function",ghe=(t,e)=>{var n=kr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},yhe=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:v,clockWise:w}=i,A=(f+h)/2,S=ghe(m,v),C=S>=0?1:-1,P,D;switch(e){case"insideStart":P=m+C*a,D=w;break;case"insideEnd":P=v-C*a,D=!w;break;case"end":P=v+C*a,D=w;break;default:throw new Error("Unsupported position ".concat(e))}D=S<=0?D:!D;var M=Yn(u,c,A,P),V=Yn(u,c,A,P+(D?1:-1)*359),U="M".concat(M.x,",").concat(M.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(D?0:1,`,
    `).concat(V.x,",").concat(V.y),G=Ut(t.id)?yh("recharts-radial-line-"):t.id;return T.createElement("text",po({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:G,d:U})),T.createElement("textPath",{xlinkHref:"#".concat(G)},n))},vhe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:m}=Yn(r,i,s+e,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+s)/2,{x:w,y:A}=Yn(r,i,v,f);return{x:w,y:A,textAnchor:"middle",verticalAnchor:"middle"}},_T=t=>"cx"in t&&Re(t.cx),_he=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!_T(n)&&(a=n);var{x:s,y:u,upperWidth:c,lowerWidth:f,height:h}=e,m=s,v=s+(c-f)/2,w=(m+v)/2,A=(c+f)/2,S=m+c/2,C=h>=0?1:-1,P=C*r,D=C>0?"end":"start",M=C>0?"start":"end",V=c>=0?1:-1,U=V*r,G=V>0?"end":"start",k=V>0?"start":"end";if(i==="top"){var O={x:m+c/2,y:u-P,textAnchor:"middle",verticalAnchor:D};return Yt(Yt({},O),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var L={x:v+f/2,y:u+h+P,textAnchor:"middle",verticalAnchor:M};return Yt(Yt({},L),a?{height:Math.max(a.y+a.height-(u+h),0),width:f}:{})}if(i==="left"){var F={x:w-U,y:u+h/2,textAnchor:G,verticalAnchor:"middle"};return Yt(Yt({},F),a?{width:Math.max(F.x-a.x,0),height:h}:{})}if(i==="right"){var j={x:w+A+U,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return Yt(Yt({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:h}:{})}var q=a?{width:A,height:h}:{};return i==="insideLeft"?Yt({x:w+U,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},q):i==="insideRight"?Yt({x:w+A-U,y:u+h/2,textAnchor:G,verticalAnchor:"middle"},q):i==="insideTop"?Yt({x:m+c/2,y:u+P,textAnchor:"middle",verticalAnchor:M},q):i==="insideBottom"?Yt({x:v+f/2,y:u+h-P,textAnchor:"middle",verticalAnchor:D},q):i==="insideTopLeft"?Yt({x:m+U,y:u+P,textAnchor:k,verticalAnchor:M},q):i==="insideTopRight"?Yt({x:m+c-U,y:u+P,textAnchor:G,verticalAnchor:M},q):i==="insideBottomLeft"?Yt({x:v+U,y:u+h-P,textAnchor:k,verticalAnchor:D},q):i==="insideBottomRight"?Yt({x:v+f-U,y:u+h-P,textAnchor:G,verticalAnchor:D},q):i&&typeof i=="object"&&(Re(i.x)||Po(i.x))&&(Re(i.y)||Po(i.y))?Yt({x:s+Qi(i.x,A),y:u+Qi(i.y,h),textAnchor:"end",verticalAnchor:"end"},q):Yt({x:S,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},q)},bhe={angle:0,offset:5,zIndex:Vn.label,position:"middle",textBreakAll:!1};function Is(t){var e=_r(t,bhe),{viewBox:n,position:r,value:i,children:a,content:s,className:u="",textBreakAll:c,labelRef:f}=e,h=phe(),m=gF(),v=r==="center"?m:h??m,w,A,S;if(n==null?w=v:_T(n)?w=n:w=wj(n),!w||Ut(i)&&Ut(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var C=Yt(Yt({},e),{},{viewBox:w});if(T.isValidElement(s)){var{labelRef:P}=C,D=she(C,ohe);return T.cloneElement(s,D)}if(typeof s=="function"){if(A=T.createElement(s,C),T.isValidElement(A))return A}else A=mhe(e);var M=mr(e);if(_T(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return yhe(e,r,A,M,w);S=vhe(w,e.offset,e.position)}else S=_he(e,w);return T.createElement(Ri,{zIndex:e.zIndex},T.createElement(_A,po({ref:f,className:Et("recharts-label",u)},M,S,{textAnchor:the(M.textAnchor)?M.textAnchor:S.textAnchor,breakAll:c}),A))}Is.displayName="Label";var xhe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Is,po({key:"label-implicit"},r)):ja(t)?T.createElement(Is,po({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Is?T.cloneElement(t,Yt({key:"label-implicit"},r)):T.createElement(Is,po({key:"label-implicit",content:t},r)):bA(t)?T.createElement(Is,po({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Is,po({},t,{key:"label-implicit"},r)):null};function whe(t){var{label:e,labelRef:n}=t,r=gF();return xhe(e,r,n)||null}var Mw={},kw={},JD;function Ehe(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(kw)),kw}var Dw={},XD;function The(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Dw)),Dw}var QD;function She(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ehe(),n=The(),r=s1();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Mw)),Mw}var Ow,ZD;function Ahe(){return ZD||(ZD=1,Ow=She().last),Ow}var Che=Ahe();const Ihe=qa(Che);var Nhe=["valueAccessor"],Phe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(null,arguments)}function eO(t,e){if(t==null)return{};var n,r,i=Rhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mhe=t=>Array.isArray(t.value)?Ihe(t.value):t.value,yF=T.createContext(void 0),vF=yF.Provider,_F=T.createContext(void 0);_F.Provider;function khe(){return T.useContext(yF)}function Dhe(){return T.useContext(_F)}function Vg(t){var{valueAccessor:e=Mhe}=t,n=eO(t,Nhe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:u}=n,c=eO(n,Phe),f=khe(),h=Dhe(),m=f||h;return!m||!m.length?null:T.createElement(Ri,{zIndex:u??Vn.label},T.createElement(Ci,{className:"recharts-label-list"},m.map((v,w)=>{var A,S=Ut(r)?e(v,w):Sn(v&&v.payload,r),C=Ut(a)?{}:{id:"".concat(a,"-").concat(w)};return T.createElement(Is,Yy({key:"label-".concat(w)},mr(v),c,C,{fill:(A=n.fill)!==null&&A!==void 0?A:v.fill,parentViewBox:v.parentViewBox,value:S,textBreakAll:s,viewBox:v.viewBox,index:w,zIndex:0}))})))}Vg.displayName="LabelList";function bF(t){var{label:e}=t;return e?e===!0?T.createElement(Vg,{key:"labelList-implicit"}):T.isValidElement(e)||bA(e)?T.createElement(Vg,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(Vg,Yy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bT.apply(null,arguments)}var xF=t=>{var{cx:e,cy:n,r,className:i}=t,a=Et("recharts-dot",i);return Re(e)&&Re(n)&&Re(r)?T.createElement("circle",bT({},Ji(t),a1(t),{className:a,cx:e,cy:n,r})):null},Ohe={radiusAxis:{},angleAxis:{}},wF=Ur({name:"polarAxis",initialState:Ohe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:PSe,removeRadiusAxis:RSe,addAngleAxis:MSe,removeAngleAxis:kSe}=wF.actions,Lhe=wF.reducer,Lw={exports:{}},wt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO;function Vhe(){if(tO)return wt;tO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case t:switch(S=S.type,S){case n:case i:case r:case c:case f:case v:return S;default:switch(S=S&&S.$$typeof,S){case s:case u:case m:case h:return S;case a:return S;default:return C}}case e:return C}}}return wt.ContextConsumer=a,wt.ContextProvider=s,wt.Element=t,wt.ForwardRef=u,wt.Fragment=n,wt.Lazy=m,wt.Memo=h,wt.Portal=e,wt.Profiler=i,wt.StrictMode=r,wt.Suspense=c,wt.SuspenseList=f,wt.isContextConsumer=function(S){return A(S)===a},wt.isContextProvider=function(S){return A(S)===s},wt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},wt.isForwardRef=function(S){return A(S)===u},wt.isFragment=function(S){return A(S)===n},wt.isLazy=function(S){return A(S)===m},wt.isMemo=function(S){return A(S)===h},wt.isPortal=function(S){return A(S)===e},wt.isProfiler=function(S){return A(S)===i},wt.isStrictMode=function(S){return A(S)===r},wt.isSuspense=function(S){return A(S)===c},wt.isSuspenseList=function(S){return A(S)===f},wt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===c||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===h||S.$$typeof===s||S.$$typeof===a||S.$$typeof===u||S.$$typeof===w||S.getModuleId!==void 0)},wt.typeOf=A,wt}var nO;function Uhe(){return nO||(nO=1,Lw.exports=Vhe()),Lw.exports}var jhe=Uhe(),rO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",iO=null,Vw=null,EF=t=>{if(t===iO&&Array.isArray(Vw))return Vw;var e=[];return T.Children.forEach(t,n=>{Ut(n)||(jhe.isFragment(n)?e=e.concat(EF(n.props.children)):e.push(n))}),Vw=e,iO=t,e};function zhe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>rO(i)):r=[rO(e)],EF(t).forEach(i=>{var a=zc(i,"type.displayName")||zc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var TF=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Uw={},aO;function Fhe(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Uw)),Uw}var jw,oO;function qhe(){return oO||(oO=1,jw=Fhe().isPlainObject),jw}var Bhe=qhe();const Hhe=qa(Bhe);function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){Ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ghe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Khe(t,"string");return typeof e=="symbol"?e:e+""}function Khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(null,arguments)}var uO=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Whe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yhe=t=>{var e=_r(t,Whe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=e,v=T.useRef(null),[w,A]=T.useState(-1),S=T.useRef(i),C=T.useRef(a),P=T.useRef(s),D=T.useRef(n),M=T.useRef(r),V=c0(t,"trapezoid-");if(T.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var _e=v.current.getTotalLength();_e&&A(_e)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var U=Et("recharts-trapezoid",u);if(!m)return T.createElement("g",null,T.createElement("path",Jy({},mr(e),{className:U,d:uO(n,r,i,a,s)})));var G=S.current,k=C.current,O=P.current,L=D.current,F=M.current,j="0px ".concat(w===-1?1:w,"px"),q="".concat(w,"px 0px"),H=Oj(["strokeDasharray"],f,c);return T.createElement(u0,{animationId:V,key:V,canBegin:w>0,duration:f,easing:c,isActive:m,begin:h},_e=>{var Ce=Bt(G,i,_e),J=Bt(k,a,_e),X=Bt(O,s,_e),he=Bt(L,n,_e),me=Bt(F,r,_e);v.current&&(S.current=Ce,C.current=J,P.current=X,D.current=he,M.current=me);var Oe=_e>0?{transition:H,strokeDasharray:q}:{strokeDasharray:j};return T.createElement("path",Jy({},mr(e),{className:U,d:uO(he,me,Ce,J,X),ref:v,style:lO(lO({},Oe),e.style)}))})},Jhe=["option","shapeType","propTransformer","activeClassName"];function Xhe(t,e){if(t==null)return{};var n,r,i=Qhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zhe(t,e,n){return(e=epe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function epe(t){var e=tpe(t,"string");return typeof e=="symbol"?e:e+""}function tpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function npe(t,e){return Xy(Xy({},e),t)}function rpe(t,e){return t==="symbols"}function fO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(jj,n);case"trapezoid":return T.createElement(Yhe,n);case"sector":return T.createElement(qj,n);case"symbols":if(rpe(e))return T.createElement(SU,n);break;case"curve":return T.createElement(Dj,n);default:return null}}function ipe(t){return T.isValidElement(t)?t.props:t}function SF(t){var{option:e,shapeType:n,propTransformer:r=npe,activeClassName:i="recharts-active-shape"}=t,a=Xhe(t,Jhe),s;if(T.isValidElement(e))s=T.cloneElement(e,Xy(Xy({},a),ipe(e)));else if(typeof e=="function")s=e(a,a.index);else if(Hhe(e)&&typeof e!="boolean"){var u=r(e,a);s=T.createElement(fO,{shapeType:n,elementProps:u})}else{var c=a;s=T.createElement(fO,{shapeType:n,elementProps:c})}return a.isActive?T.createElement(Ci,{className:i},s):s}var AF=(t,e,n)=>{var r=Zt();return(i,a)=>s=>{t==null||t(i,a,s),r(Oz({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},CF=t=>{var e=Zt();return(n,r)=>i=>{t==null||t(n,r,i),e(Pce())}},IF=(t,e,n)=>{var r=Zt();return(i,a)=>s=>{t==null||t(i,a,s),r(Rce({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function NF(t){var{tooltipEntrySettings:e}=t,n=Zt(),r=ar(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Ace(e)):i.current!==e&&n(Cce({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(Ice(i.current)),i.current=null)},[n]),null}function PF(t){var{legendPayload:e}=t,n=Zt(),r=ar(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(sae(e)):i.current!==e&&n(lae({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(uae(i.current)),i.current=null)},[n]),null}var zw,ape=()=>{var[t]=T.useState(()=>yh("uid-"));return t},ope=(zw=O9.useId)!==null&&zw!==void 0?zw:ape;function RF(t,e){var n=ope();return e||(t?"".concat(t,"-").concat(n):n)}var spe=T.createContext(void 0),MF=t=>{var{id:e,type:n,children:r}=t,i=RF("recharts-".concat(n),e);return T.createElement(spe.Provider,{value:i},r(i))},lpe={cartesianItems:[],polarItems:[]},kF=Ur({name:"graphicalItems",initialState:lpe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ot()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Wi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Ot()},removeCartesianGraphicalItem:{reducer(t,e){var n=Wi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ot()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ot()},removePolarGraphicalItem:{reducer(t,e){var n=Wi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ot()}}}),{addCartesianGraphicalItem:upe,replaceCartesianGraphicalItem:cpe,removeCartesianGraphicalItem:fpe,addPolarGraphicalItem:DSe,removePolarGraphicalItem:OSe}=kF.actions,dpe=kF.reducer,hpe=t=>{var e=Zt(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(upe(t)):n.current!==t&&e(cpe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(fpe(n.current)),n.current=null)},[e]),null},DF=T.memo(hpe),ppe=["points"];function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){mpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mpe(t,e,n){return(e=gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=ype(t,"string");return typeof e=="symbol"?e:e+""}function ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(null,arguments)}function vpe(t,e){if(t==null)return{};var n,r,i=_pe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _pe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bpe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Et(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,u=vpe(a,ppe);return T.createElement(xF,Qy({},u,{className:i}))}function xpe(t,e){return t==null?!1:e?!0:t.length===1}function wpe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:u,clipPathId:c,zIndex:f=Vn.scatter}=t;if(!xpe(e,n))return null;var h=TF(n),m=Qee(n),v=e.map((A,S)=>{var C,P,D=Fw(Fw(Fw({r:3},s),m),{},{index:S,cx:(C=A.x)!==null&&C!==void 0?C:void 0,cy:(P=A.y)!==null&&P!==void 0?P:void 0,dataKey:a,value:A.value,payload:A.payload,points:e});return T.createElement(bpe,{key:"dot-".concat(S),option:n,dotProps:D,className:i})}),w={};return u&&c!=null&&(w.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),T.createElement(Ri,{zIndex:f},T.createElement(Ci,Qy({className:r},w),v))}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Epe(t,e,n){return(e=Tpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tpe(t){var e=Spe(t,"string");return typeof e=="symbol"?e:e+""}function Spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ape={xAxis:{},yAxis:{},zAxis:{}},OF=Ur({name:"cartesianAxis",initialState:Ape,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ot()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Ot()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ot()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ot()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Ot()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ot()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ot()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Ot()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ot()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=pO(pO({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Cpe,replaceXAxis:Ipe,removeXAxis:Npe,addYAxis:Ppe,replaceYAxis:Rpe,removeYAxis:Mpe,addZAxis:LSe,replaceZAxis:VSe,removeZAxis:USe,updateYAxisWidth:kpe}=OF.actions,Dpe=OF.reducer,Ope=re([Un],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Lpe=re([Ope,Uo,jo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),xA=()=>Me(Lpe),Vpe=()=>Me(bfe);function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Upe(t,e,n){return(e=jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jpe(t){var e=zpe(t,"string");return typeof e=="symbol"?e:e+""}function zpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fpe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=qw(qw(qw({},u),Wh(i)),a1(i)),f;return T.isValidElement(i)?f=T.cloneElement(i,c):typeof i=="function"?f=i(c):f=T.createElement(xF,c),T.createElement(Ci,{className:"recharts-active-dot",clipPath:s},f)};function qpe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Vn.activeDot}=t,u=Me(cu),c=Vpe();if(e==null||c==null)return null;var f=e.find(h=>c.includes(h.payload));return Ut(f)?null:T.createElement(Ri,{zIndex:s},T.createElement(Fpe,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Bpe="Invariant failed";function Hpe(t,e){throw new Error(Bpe)}var Gpe=["x","y"];function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xT.apply(null,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){$pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $pe(t,e,n){return(e=Kpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kpe(t){var e=Wpe(t,"string");return typeof e=="symbol"?e:e+""}function Wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ype(t,e){if(t==null)return{};var n,r,i=Jpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xpe(t,e){var{x:n,y:r}=t,i=Ype(t,Gpe),a="".concat(n),s=parseInt(a,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),v=parseInt(m,10);return Rd(Rd(Rd(Rd(Rd({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function Zy(t){return T.createElement(SF,xT({shapeType:"rectangle",propTransformer:Xpe,activeClassName:"recharts-active-bar"},t))}var Qpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var a=Re(r)||Ut(r);return a?e(r,i):(a||Hpe(),n)}},Zpe={},LF=Ur({name:"errorBars",initialState:Zpe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:jSe,replaceErrorBar:zSe,removeErrorBar:FSe}=LF.actions,eme=LF.reducer,tme=["children"];function nme(t,e){if(t==null)return{};var n,r,i=rme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ime={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ame=T.createContext(ime);function VF(t){var{children:e}=t,n=nme(t,tme);return T.createElement(ame.Provider,{value:n},e)}function wA(t,e){var n,r,i=Me(f=>Fo(f,t)),a=Me(f=>qo(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:kn.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Dn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function UF(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=xA(),{needClipX:a,needClipY:s,needClip:u}=wA(e,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:m}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?c:c-h/2,y:s?f:f-m/2,width:a?h:h*2,height:s?m:m*2}))}function ome(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Qt(t.zIndex)?t.zIndex:e}var Bw={exports:{}},Hw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO;function sme(){if(yO)return Hw;yO=1;var t=Wc();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,u=t.useDebugValue;return Hw.useSyncExternalStoreWithSelector=function(c,f,h,m,v){var w=i(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=s(function(){function C(U){if(!P){if(P=!0,D=U,U=m(U),v!==void 0&&A.hasValue){var G=A.value;if(v(G,U))return M=G}return M=U}if(G=M,n(D,U))return G;var k=m(U);return v!==void 0&&v(G,k)?(D=U,G):(D=U,M=k)}var P=!1,D,M,V=h===void 0?null:h;return[function(){return C(f())},V===null?void 0:function(){return C(V())}]},[f,h,m,v]);var S=r(c,w[0],w[1]);return a(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},Hw}var vO;function lme(){return vO||(vO=1,Bw.exports=sme()),Bw.exports}lme();function ume(t){t()}function cme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ume(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var _O={notify(){},get:()=>[]};function fme(t,e){let n,r=_O,i=0,a=!1;function s(S){h();const C=r.subscribe(S);let P=!1;return()=>{P||(P=!0,C(),m())}}function u(){r.notify()}function c(){A.onStateChange&&A.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(c),r=cme())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_O)}function v(){a||(a=!0,h())}function w(){a&&(a=!1,m())}const A={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>r};return A}var dme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hme=dme(),pme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mme=pme(),gme=()=>hme||mme?T.useLayoutEffect:T.useEffect,yme=gme();function bO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function vme(t,e){if(bO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!bO(t[n[i]],e[n[i]]))return!1;return!0}var Gw=Symbol.for("react-redux-context"),$w=typeof globalThis<"u"?globalThis:{};function _me(){if(!T.createContext)return{};const t=$w[Gw]??($w[Gw]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var bme=_me();function xme(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const c=fme(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=T.useMemo(()=>i.getState(),[i]);yme(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const u=n||bme;return T.createElement(u.Provider,{value:a},e)}var wme=xme,Eme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Tme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function P0(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Eme.has(r)){if(t[r]==null&&e[r]==null)continue;if(!vme(t[r],e[r]))return!1}else if(!Tme(t[r],e[r]))return!1;return!0}var Sme=["onMouseEnter","onMouseLeave","onClick"],Ame=["value","background","tooltipPosition"],Cme=["id"],Ime=["onMouseEnter","onClick","onMouseLeave"];function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(null,arguments)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Nme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nme(t,e,n){return(e=Pme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Rme(t,"string");return typeof e=="symbol"?e:e+""}function Rme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ev(t,e){if(t==null)return{};var n,r,i=Mme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kme=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Zv(n,e),payload:t}]},Dme=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:u,tooltipType:c}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Zv(a,e),hide:s,type:c,color:i,unit:u}};return T.createElement(NF,{tooltipEntrySettings:f})});function Ome(t){var e=Me(cu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:u,onClick:c}=a,f=ev(a,Sme),h=AF(s,r),m=CF(u),v=IF(c,r);if(!i||n==null)return null;var w=Wh(i);return T.createElement(Ri,{zIndex:ome(i,Vn.barBackground)},n.map((A,S)=>{var{value:C,background:P,tooltipPosition:D}=A,M=ev(A,Ame);if(!P)return null;var V=h(A,S),U=m(A,S),G=v(A,S),k=ur(ur(ur(ur(ur({option:i,isActive:String(S)===e},M),{},{fill:"#eee"},P),w),o1(f,A,S)),{},{onMouseEnter:V,onMouseLeave:U,onClick:G,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return T.createElement(Zy,Lo({key:"background-bar-".concat(S)},k))}))}function Lme(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return ur(ur({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return T.createElement(vF,{value:e?i:void 0},n)}function Vme(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,u=Me(cu),c=Me(Yz),f=n&&String(a)===u&&(c==null||s===c),h=f?n:e;return f?T.createElement(Ri,{zIndex:Vn.activeBar},T.createElement(Zy,Lo({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:s}))):T.createElement(Zy,Lo({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:s}))}function Ume(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return T.createElement(Zy,Lo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function jme(t){var e,{data:n,props:r}=t,i=(e=Ji(r))!==null&&e!==void 0?e:{},{id:a}=i,s=ev(i,Cme),{shape:u,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:m,onMouseLeave:v}=r,w=ev(r,Ime),A=AF(h,c),S=CF(v),C=IF(m,c);return n?T.createElement(T.Fragment,null,n.map((P,D)=>T.createElement(Ci,Lo({key:"rectangle-".concat(P==null?void 0:P.x,"-").concat(P==null?void 0:P.y,"-").concat(P==null?void 0:P.value,"-").concat(D),className:"recharts-bar-rectangle"},o1(w,P,D),{onMouseEnter:A(P,D),onMouseLeave:S(P,D),onClick:C(P,D)}),f?T.createElement(Vme,{shape:u,activeBar:f,baseProps:s,entry:P,index:D,dataKey:c}):T.createElement(Ume,{shape:u,baseProps:s,entry:P,index:D,dataKey:c})))):null}function zme(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,m=n.current,v=c0(e,"recharts-bar-"),[w,A]=T.useState(!1),S=!w,C=T.useCallback(()=>{typeof f=="function"&&f(),A(!1)},[f]),P=T.useCallback(()=>{typeof h=="function"&&h(),A(!0)},[h]);return T.createElement(Lme,{showLabels:S,rects:r},T.createElement(u0,{animationId:v,begin:s,duration:u,isActive:a,easing:c,onAnimationEnd:C,onAnimationStart:P,key:v},D=>{var M=D===1?r:r==null?void 0:r.map((V,U)=>{var G=m&&m[U];if(G)return ur(ur({},V),{},{x:Bt(G.x,V.x,D),y:Bt(G.y,V.y,D),width:Bt(G.width,V.width,D),height:Bt(G.height,V.height,D)});if(i==="horizontal"){var k=Bt(0,V.height,D),O=Bt(V.stackedBarStart,V.y,D);return ur(ur({},V),{},{y:O,height:k})}var L=Bt(0,V.width,D),F=Bt(V.stackedBarStart,V.x,D);return ur(ur({},V),{},{width:L,x:F})});return D>0&&(n.current=M??null),M==null?null:T.createElement(Ci,null,T.createElement(jme,{props:e,data:M}))}),T.createElement(bF,{label:e.label}),e.children)}function Fme(t){var e=T.useRef(null);return T.createElement(zme,{previousRectanglesRef:e,props:t})}var jF=0,qme=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Sn(t,e)}};class Bme extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:u,background:c,id:f}=this.props;if(e||n==null)return null;var h=Et("recharts-bar",i),m=f;return T.createElement(Ci,{className:h,id:f},u&&T.createElement("defs",null,T.createElement(UF,{clipPathId:m,xAxisId:a,yAxisId:s})),T.createElement(Ci,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},T.createElement(Ome,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),T.createElement(Fme,this.props)))}}var Hme={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:jF,xAxisId:0,yAxisId:0,zIndex:Vn.bar};function Gme(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:m}=wA(e,n),v=tp(),w=ar(),A=zhe(t.children,N0),S=Me(D=>_ge(D,e,n,w,t.id,A));if(v!=="vertical"&&v!=="horizontal")return null;var C,P=S==null?void 0:S[0];return P==null||P.height==null||P.width==null?C=0:C=v==="vertical"?P.height/2:P.width/2,T.createElement(VF,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:qme,errorBarOffset:C},T.createElement(Bme,Lo({},t,{layout:v,needClip:m,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function $me(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:m,offset:v,cells:w,parentViewBox:A,dataStartIndex:S}=t,C=e==="horizontal"?u:s,P=h?C.scale.domain():null,D=fie({numericAxis:C}),M=C.scale(D);return m.map((V,U)=>{var G,k,O,L,F,j;h?G=aie(h[U+S],P):(G=Sn(V,n),Array.isArray(G)||(G=[D,G]));var q=Qpe(r,jF)(G[1],U);if(e==="horizontal"){var H,[_e,Ce]=[u.scale(G[0]),u.scale(G[1])];k=HM({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:V,index:U}),O=(H=Ce??_e)!==null&&H!==void 0?H:void 0,L=i.size;var J=_e-Ce;if(F=Xi(J)?0:J,j={x:k,y:v.top,width:L,height:v.height},Math.abs(q)>0&&Math.abs(F)<Math.abs(q)){var X=kr(F||q)*(Math.abs(q)-Math.abs(F));O-=X,F+=X}}else{var[he,me]=[s.scale(G[0]),s.scale(G[1])];if(k=he,O=HM({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:V,index:U}),L=me-he,F=i.size,j={x:v.left,y:O,width:v.width,height:F},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var Oe=kr(L||q)*(Math.abs(q)-Math.abs(L));L+=Oe}}if(k==null||O==null||L==null||F==null)return null;var K=ur(ur({},V),{},{stackedBarStart:M,x:k,y:O,width:L,height:F,value:h?G:G[1],payload:V,background:j,tooltipPosition:{x:k+L/2,y:O+F/2},parentViewBox:A},w&&w[U]&&w[U].props);return K}).filter(Boolean)}function Kme(t){var e=_r(t,Hme),n=ar();return T.createElement(MF,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(PF,{legendPayload:kme(e)}),T.createElement(Dme,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(DF,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:cie(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(Ri,{zIndex:e.zIndex},T.createElement(Gme,Lo({},e,{id:r})))))}var EA=T.memo(Kme,P0);EA.displayName="Bar";function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Wme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wme(t,e,n){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Jme(t,"string");return typeof e=="symbol"?e:e+""}function Jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xme=(t,e)=>e,Qme=(t,e,n)=>n,Zme=(t,e,n,r)=>r,ege=(t,e,n,r,i)=>i,yp=re([S0,ege],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),tge=re([yp],t=>t==null?void 0:t.maxBarSize),nge=(t,e,n,r,i,a)=>a,EO=(t,e,n)=>{var r=n??t;if(!Ut(r))return Qi(r,e,0)},rge=re([ft,S0,Xme,Qme,Zme],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),ige=(t,e,n,r)=>{var i=ft(t);return i==="horizontal"?hT(t,"yAxis",n,r):hT(t,"xAxis",e,r)},age=(t,e,n)=>{var r=ft(t);return r==="horizontal"?xD(t,"xAxis",e):xD(t,"yAxis",n)},oge=(t,e,n)=>{var r={},i=t.filter(w0),a=t.filter(f=>f.stackId==null),s=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(s).map(f=>{var[h,m]=f,v=m.map(A=>A.dataKey),w=EO(e,n,m[0].barSize);return{stackId:h,dataKeys:v,barSize:w}}),c=a.map(f=>{var h=[f.dataKey].filter(v=>v!=null),m=EO(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...c]},sge=re([rge,_ue,age],oge),lge=(t,e,n,r,i)=>{var a,s,u=yp(t,e,n,r,i);if(u!=null){var c=ft(t),f=U6(t),{maxBarSize:h}=u,m=Ut(h)?f:h,v,w;return c==="horizontal"?(v=Js(t,"xAxis",e,r),w=Ys(t,"xAxis",e,r)):(v=Js(t,"yAxis",n,r),w=Ys(t,"yAxis",n,r)),(a=(s=Bc(v,w,!0))!==null&&s!==void 0?s:m)!==null&&a!==void 0?a:0}},zF=(t,e,n,r)=>{var i=ft(t),a,s;return i==="horizontal"?(a=Js(t,"xAxis",e,r),s=Ys(t,"xAxis",e,r)):(a=Js(t,"yAxis",n,r),s=Ys(t,"yAxis",n,r)),Bc(a,s)};function uge(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=Qi(t,n,0,!0),u,c=[];if(Qt(r[0].barSize)){var f=!1,h=n/a,m=r.reduce((P,D)=>P+(D.barSize||0),0);m+=(a-1)*s,m>=n&&(m-=(a-1)*s,s=0),m>=n&&h>0&&(f=!0,h*=.9,m=a*h);var v=(n-m)/2>>0,w={offset:v-s,size:0};u=r.reduce((P,D)=>{var M,V={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:w.offset+w.size+s,size:f?h:(M=D.barSize)!==null&&M!==void 0?M:0}},U=[...P,V];return w=U[U.length-1].position,U},c)}else{var A=Qi(e,n,0,!0);n-2*A-(a-1)*s<=0&&(s=0);var S=(n-2*A-(a-1)*s)/a;S>1&&(S>>=0);var C=Qt(i)?Math.min(S,i):S;u=r.reduce((P,D,M)=>[...P,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:A+(S+s)*M+(S-C)/2,size:C}}],c)}return u}}var cge=(t,e,n,r,i,a,s)=>{var u=Ut(s)?e:s,c=uge(n,r,i!==a?i:a,t,u);return i!==a&&c!=null&&(c=c.map(f=>mg(mg({},f),{},{position:mg(mg({},f.position),{},{offset:f.position.offset-i/2})}))),c},fge=re([sge,U6,vue,j6,lge,zF,tge],cge),dge=(t,e,n,r)=>Js(t,"xAxis",e,r),hge=(t,e,n,r)=>Js(t,"yAxis",n,r),pge=(t,e,n,r)=>Ys(t,"xAxis",e,r),mge=(t,e,n,r)=>Ys(t,"yAxis",n,r),gge=re([fge,yp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),yge=(t,e)=>{var n=Z1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},vge=re([ige,yp],yge),_ge=re([Un,y1,dge,hge,pge,mge,gge,ft,y0,zF,vge,yp,nge],(t,e,n,r,i,a,s,u,c,f,h,m,v)=>{var{chartData:w,dataStartIndex:A,dataEndIndex:S}=c;if(!(m==null||s==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:C}=m,P;if(C!=null&&C.length>0?P=C:P=w==null?void 0:w.slice(A,S+1),P!=null)return $me({layout:u,barSettings:m,pos:s,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:P,offset:t,cells:v,dataStartIndex:A})}}),bge=t=>{var{chartData:e}=t,n=Zt(),r=ar();return T.useEffect(()=>r?()=>{}:(n(DD(e)),()=>{n(DD(void 0))}),[e,n,r]),null},TO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},FF=Ur({name:"brush",initialState:TO,reducers:{setBrushSettings(t,e){return e.payload==null?TO:e.payload}}}),{setBrushSettings:qSe}=FF.actions,xge=FF.reducer;function wge(t,e,n){return(e=Ege(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ege(t){var e=Tge(t,"string");return typeof e=="symbol"?e:e+""}function Tge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class TA{static create(e){return new TA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}wge(TA,"EPS",1e-4);function Sge(t){return(t%180+180)%180}var Age=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Sge(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Cge={dots:[],areas:[],lines:[]},qF=Ur({name:"referenceElements",initialState:Cge,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Wi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Wi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Wi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:BSe,removeDot:HSe,addArea:GSe,removeArea:$Se,addLine:KSe,removeLine:WSe}=qF.actions,Ige=qF.reducer,Nge=T.createContext(void 0),Pge=t=>{var{children:e}=t,[n]=T.useState("".concat(yh("recharts"),"-clip")),r=xA();if(r==null)return null;var{x:i,y:a,width:s,height:u}=r;return T.createElement(Nge.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:u,width:s}))),e)};function BF(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Rge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Age(r,n)}function Mge(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:u}=t;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function tv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function kge(t,e){return BF(t,e+1)}function Dge(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:u}=e,c=0,f=1,h=s,m=function(){var A=r==null?void 0:r[c];if(A===void 0)return{v:BF(r,f)};var S=c,C,P=()=>(C===void 0&&(C=n(A,S)),C),D=A.coordinate,M=c===0||tv(t,D,P,h,u);M||(c=0,h=s,f+=1),M&&(h=D+t*(P()/2+i),c+=f)},v;f<=a.length;)if(v=m(),v)return v.v;return[]}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return(e=Lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lge(t){var e=Vge(t,"string");return typeof e=="symbol"?e:e+""}function Vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uge(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:u}=e,{end:c}=e,f=function(v){var w=a[v],A,S=()=>(A===void 0&&(A=n(w,v)),A);if(v===s-1){var C=t*(w.coordinate+t*S()/2-c);a[v]=w=Zn(Zn({},w),{},{tickCoord:C>0?w.coordinate-C*t:w.coordinate})}else a[v]=w=Zn(Zn({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=tv(t,w.tickCoord,S,u,c);P&&(c=w.tickCoord-t*(S()/2+i),a[v]=Zn(Zn({},w),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return a}function jge(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,{start:c,end:f}=e;if(a){var h=r[u-1],m=n(h,u-1),v=t*(h.coordinate+t*m/2-f);if(s[u-1]=h=Zn(Zn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate}),h.tickCoord!=null){var w=tv(t,h.tickCoord,()=>m,c,f);w&&(f=h.tickCoord-t*(m/2+i),s[u-1]=Zn(Zn({},h),{},{isShow:!0}))}}for(var A=a?u-1:u,S=function(D){var M=s[D],V,U=()=>(V===void 0&&(V=n(M,D)),V);if(D===0){var G=t*(M.coordinate-t*U()/2-c);s[D]=M=Zn(Zn({},M),{},{tickCoord:G<0?M.coordinate-G*t:M.coordinate})}else s[D]=M=Zn(Zn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var k=tv(t,M.tickCoord,U,c,f);k&&(c=M.tickCoord+t*(U()/2+i),s[D]=Zn(Zn({},M),{},{isShow:!0}))}},C=0;C<A;C++)S(C);return s}function SA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:u,interval:c,tickFormatter:f,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Re(c)||rp.isSsr){var v;return(v=kge(i,Re(c)?c:0))!==null&&v!==void 0?v:[]}var w=[],A=u==="top"||u==="bottom"?"width":"height",S=h&&A==="width"?Qd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(M,V)=>{var U=typeof f=="function"?f(M.value,V):M.value;return A==="width"?Rge(Qd(U,{fontSize:e,letterSpacing:n}),S,m):Qd(U,{fontSize:e,letterSpacing:n})[A]},P=i.length>=2?kr(i[1].coordinate-i[0].coordinate):1,D=Mge(a,P,A);return c==="equidistantPreserveStart"?Dge(P,D,C,i,s):(c==="preserveStart"||c==="preserveStartEnd"?w=jge(P,D,C,i,s,c==="preserveStartEnd"):w=Uge(P,D,C,i,s),w.filter(M=>M.isShow))}var zge=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>s&&(s=m.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,f=s+c+u+(n?r:0);return Math.round(f)}return 0},Fge=["axisLine","width","height","className","hide","ticks","axisType"];function qge(t,e){if(t==null)return{};var n,r,i=Bge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(null,arguments)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){Hge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hge(t,e,n){return(e=Gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t){var e=$ge(t,"string");return typeof e=="symbol"?e:e+""}function $ge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var To={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vn.axis};function Kge(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var f=hn(hn(hn({},c),Ji(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);f=hn(hn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(a==="left"&&!s||a==="right"&&s);f=hn(hn({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return T.createElement("line",fu({},f,{className:Et("recharts-cartesian-axis-line",zc(u,"className"))}))}function Wge(t,e,n,r,i,a,s,u,c){var f,h,m,v,w,A,S=u?-1:1,C=t.tickSize||s,P=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,v=n+ +!u*i,m=v-S*C,A=m-S*c,w=P;break;case"left":m=v=t.coordinate,h=e+ +!u*r,f=h-S*C,w=f-S*c,A=P;break;case"right":m=v=t.coordinate,h=e+ +u*r,f=h+S*C,w=f+S*c,A=P;break;default:f=h=t.coordinate,v=n+ +u*i,m=v+S*C,A=m+S*c,w=P;break}return{line:{x1:f,y1:m,x2:h,y2:v},tick:{x:w,y:A}}}function Yge(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Jge(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Xge(t){var{option:e,tickProps:n,value:r}=t,i,a=Et(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,hn(hn({},n),{},{className:a}));else if(typeof e=="function")i=e(hn(hn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Et(s,e==null?void 0:e.className)),i=T.createElement(_A,fu({},n,{className:s}),r)}return i}var Qge=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:m,x:v,y:w,width:A,height:S,tickSize:C,tickMargin:P,fontSize:D,letterSpacing:M,getTicksConfig:V,events:U,axisType:G}=t,k=SA(hn(hn({},V),{},{ticks:n}),D,M),O=Yge(h,m),L=Jge(h,m),F=Ji(V),j=Wh(r),q={};typeof i=="object"&&(q=i);var H=hn(hn({},F),{},{fill:"none"},q),_e=k.map(X=>hn({entry:X},Wge(X,v,w,A,S,h,C,m,P))),Ce=_e.map(X=>{var{entry:he,line:me}=X;return T.createElement(Ci,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&T.createElement("line",fu({},H,me,{className:Et("recharts-cartesian-axis-tick-line",zc(i,"className"))})))}),J=_e.map((X,he)=>{var{entry:me,tick:Oe}=X,K=hn(hn(hn(hn({textAnchor:O,verticalAnchor:L},F),{},{stroke:"none",fill:a},j),Oe),{},{index:he,payload:me,visibleTicksCount:k.length,tickFormatter:s,padding:c},f);return T.createElement(Ci,fu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},o1(U,me,he)),r&&T.createElement(Xge,{option:r,tickProps:K,value:"".concat(typeof s=="function"?s(me.value,he):me.value).concat(u||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(G,"-ticks")},J.length>0&&T.createElement(Ri,{zIndex:Vn.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(G,"-tick-labels"),ref:e},J)),Ce.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(G,"-tick-lines")},Ce))}),Zge=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:u,axisType:c}=t,f=qge(t,Fge),[h,m]=T.useState(""),[v,w]=T.useState(""),A=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var C;return zge({ticks:A.current,label:(C=t.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=T.useCallback(C=>{if(C){var P=C.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=P;var D=P[0];if(D){var M=window.getComputedStyle(D),V=M.fontSize,U=M.letterSpacing;(V!==h||U!==v)&&(m(V),w(U))}}},[h,v]);return s||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Ri,{zIndex:t.zIndex},T.createElement(Ci,{className:Et("recharts-cartesian-axis",a)},T.createElement(Kge,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ji(t)}),T.createElement(Qge,{ref:S,axisType:c,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(dhe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(whe,{label:t.label,labelRef:t.labelRef}),t.children)))}),AA=T.forwardRef((t,e)=>{var n=_r(t,To);return T.createElement(Zge,fu({},n,{ref:e}))});AA.displayName="CartesianAxis";var eye=["x1","y1","x2","y2","key"],tye=["offset"],nye=["xAxisId","yAxisId"],rye=["xAxisId","yAxisId"];function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iye(t,e,n){return(e=aye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aye(t){var e=oye(t,"string");return typeof e=="symbol"?e:e+""}function oye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(null,arguments)}function nv(t,e){if(t==null)return{};var n,r,i=sye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lye=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:u}=t;return T.createElement("rect",{x:r,y:i,ry:u,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HF(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:u,y2:c,key:f}=n,h=nv(n,eye),m=(i=Ji(h))!==null&&i!==void 0?i:{},{offset:v}=m,w=nv(m,tye);r=T.createElement("line",$l({},w,{x1:a,y1:s,x2:u,y2:c,fill:"none",key:f}))}return r}function uye(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,u=nv(t,nye),c=i.map((f,h)=>{var m=nr(nr({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return T.createElement(HF,{key:"line-".concat(h),option:r,lineItemProps:m})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function cye(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,u=nv(t,rye),c=i.map((f,h)=>{var m=nr(nr({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return T.createElement(HF,{option:r,lineItemProps:m,key:"line-".concat(h)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function fye(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:u,horizontal:c=!0}=t;if(!c||!e||!e.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var w=!f[v+1],A=w?i+s-m:f[v+1]-m;if(A<=0)return null;var S=v%e.length;return T.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:A,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function dye(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:u,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var w=!f[v+1],A=w?i+s-m:f[v+1]-m;if(A<=0)return null;var S=v%n.length;return T.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:A,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var hye=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return gj(SA(nr(nr(nr({},To),n),{},{ticks:yj(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},pye=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return gj(SA(nr(nr(nr({},To),n),{},{ticks:yj(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},mye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Vn.grid};function GF(t){var e=Tj(),n=Sj(),r=Ej(),i=nr(nr({},_r(t,mye)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:u,y:c,width:f,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:w}=i,A=ar(),S=Me(L=>wD(L,"xAxis",a,A)),C=Me(L=>wD(L,"yAxis",s,A));if(!za(f)||!za(h)||!Re(u)||!Re(c))return null;var P=i.verticalCoordinatesGenerator||hye,D=i.horizontalCoordinatesGenerator||pye,{horizontalPoints:M,verticalPoints:V}=i;if((!M||!M.length)&&typeof D=="function"){var U=v&&v.length,G=D({yAxis:C?nr(nr({},C),{},{ticks:U?v:C.ticks}):void 0,width:e??f,height:n??h,offset:r},U?!0:m);Cy(Array.isArray(G),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(M=G)}if((!V||!V.length)&&typeof P=="function"){var k=w&&w.length,O=P({xAxis:S?nr(nr({},S),{},{ticks:k?w:S.ticks}):void 0,width:e??f,height:n??h,offset:r},k?!0:m);Cy(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(V=O)}return T.createElement(Ri,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(lye,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(fye,$l({},i,{horizontalPoints:M})),T.createElement(dye,$l({},i,{verticalPoints:V})),T.createElement(uye,$l({},i,{offset:r,horizontalPoints:M,xAxis:S,yAxis:C})),T.createElement(cye,$l({},i,{offset:r,verticalPoints:V,xAxis:S,yAxis:C}))))}GF.displayName="CartesianGrid";var $F=(t,e,n,r)=>Js(t,"xAxis",e,r),KF=(t,e,n,r)=>Ys(t,"xAxis",e,r),WF=(t,e,n,r)=>Js(t,"yAxis",n,r),YF=(t,e,n,r)=>Ys(t,"yAxis",n,r),gye=re([ft,$F,WF,KF,YF],(t,e,n,r,i)=>rl(t,"xAxis")?Bc(e,r,!1):Bc(n,i,!1)),yye=(t,e,n,r,i)=>i;function vye(t){return t.type==="line"}var _ye=re([S0,yye],(t,e)=>t.filter(vye).find(n=>n.id===e)),bye=re([ft,$F,WF,KF,YF,_ye,gye,y0],(t,e,n,r,i,a,s,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:v}=a,w;if(v!=null&&v.length>0?w=v:w=c==null?void 0:c.slice(f,h+1),w!=null)return Fye({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:s,displayedData:w})}});function xye(t){var e=Wh(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),u=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(u)||u<0)&&(u=r),{r:s,strokeWidth:u}}return{r:n,strokeWidth:r}}var wye=["id"],Eye=["type","layout","connectNulls","needClip","shape"],Tye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Sye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sye(t,e,n){return(e=Aye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aye(t){var e=Cye(t,"string");return typeof e=="symbol"?e:e+""}function Cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CA(t,e){if(t==null)return{};var n,r,i=Iye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nye=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Zv(n,e),payload:t}]},Pye=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:u,unit:c,tooltipType:f}=t,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Zv(s,e),hide:u,type:f,color:r,unit:c}};return T.createElement(NF,{tooltipEntrySettings:h})}),JF=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Rye(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Mye=(t,e,n)=>{var r=n.reduce((m,v)=>m+v);if(!r)return JF(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,u=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){u=[...n.slice(0,c),a-f];break}var h=u.length%2===0?[0,s]:[s];return[...Rye(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function kye(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:u}=r,c=CA(r,wye),f=Ji(c);return T.createElement(wpe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:s,clipPathId:e})}function Dye(t){var{showLabels:e,children:n,points:r}=t,i=T.useMemo(()=>r==null?void 0:r.map(a=>{var s,u,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Na(Na({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(vF,{value:e?i:void 0},n)}function NO(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:u,connectNulls:c,needClip:f,shape:h}=a,m=CA(a,Eye),v=Na(Na({},mr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,(r==null?void 0:r.length)>1&&T.createElement(SF,Rh({shapeType:"curve",option:h},v,{pathRef:n})),T.createElement(kye,{points:r,clipPathId:e,props:a}))}function Oye(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Lye(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:u,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:v,width:w,height:A,onAnimationEnd:S,onAnimationStart:C}=n,P=i.current,D=c0(s,"recharts-line-"),M=T.useRef(D),[V,U]=T.useState(!1),G=!V,k=T.useCallback(()=>{typeof S=="function"&&S(),U(!1)},[S]),O=T.useCallback(()=>{typeof C=="function"&&C(),U(!0)},[C]),L=Oye(r.current),F=T.useRef(0);M.current!==D&&(F.current=a.current,M.current=D);var j=F.current;return T.createElement(Dye,{points:s,showLabels:G},n.children,T.createElement(u0,{animationId:D,begin:f,duration:h,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:O,key:D},q=>{var H=Bt(j,L+j,q),_e=Math.min(H,L),Ce;if(c)if(u){var J="".concat(u).split(/[,\s]+/gim).map(me=>parseFloat(me));Ce=Mye(_e,L,J)}else Ce=JF(L,_e);else Ce=u==null?void 0:String(u);if(q>0&&L>0&&(i.current=s,a.current=Math.max(a.current,_e)),P){var X=P.length/s.length,he=q===1?s:s.map((me,Oe)=>{var K=Math.floor(Oe*X);if(P[K]){var ae=P[K];return Na(Na({},me),{},{x:Bt(ae.x,me.x,q),y:Bt(ae.y,me.y,q)})}return v?Na(Na({},me),{},{x:Bt(w*2,me.x,q),y:Bt(A/2,me.y,q)}):Na(Na({},me),{},{x:me.x,y:me.y})});return i.current=he,T.createElement(NO,{props:n,points:he,clipPathId:e,pathRef:r,strokeDasharray:Ce})}return T.createElement(NO,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:Ce})}),T.createElement(bF,{label:n.label}))}function Vye(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(Lye,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Uye=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Sn(t.payload,e)}};class jye extends T.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:u,left:c,width:f,height:h,id:m,needClip:v,zIndex:w}=this.props;if(e)return null;var A=Et("recharts-line",i),S=m,{r:C,strokeWidth:P}=xye(n),D=TF(n),M=C*2+P,V=v?"url(#clipPath-".concat(D?"":"dots-").concat(S,")"):void 0;return T.createElement(Ri,{zIndex:w},T.createElement(Ci,{className:A},v&&T.createElement("defs",null,T.createElement(UF,{clipPathId:S,xAxisId:a,yAxisId:s}),!D&&T.createElement("clipPath",{id:"clipPath-dots-".concat(S)},T.createElement("rect",{x:c-M/2,y:u-M/2,width:f+M,height:h+M}))),T.createElement(VF,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Uye,errorBarOffset:0},T.createElement(Vye,{props:this.props,clipPathId:S}))),T.createElement(qpe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:V}))}}var XF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Vn.line,type:"linear"};function zye(t){var e=_r(t,XF),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:u,dot:c,hide:f,isAnimationActive:h,label:m,legendType:v,xAxisId:w,yAxisId:A,id:S}=e,C=CA(e,Tye),{needClip:P}=wA(w,A),D=xA(),M=tp(),V=ar(),U=Me(F=>bye(F,w,A,V,S));if(M!=="horizontal"&&M!=="vertical"||U==null||D==null)return null;var{height:G,width:k,x:O,y:L}=D;return T.createElement(jye,Rh({},C,{id:S,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:f,label:m,legendType:v,xAxisId:w,yAxisId:A,points:U,layout:M,height:G,width:k,left:O,top:L,needClip:P}))}function Fye(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:u,displayedData:c}=t;return c.map((f,h)=>{var m=Sn(f,s);if(e==="horizontal"){var v=BM({axis:n,ticks:i,bandSize:u,entry:f,index:h}),w=Ut(m)?null:r.scale(m);return{x:v,y:w,value:m,payload:f}}var A=Ut(m)?null:n.scale(m),S=BM({axis:r,ticks:a,bandSize:u,entry:f,index:h});return A==null||S==null?null:{x:A,y:S,value:m,payload:f}}).filter(Boolean)}function qye(t){var e=_r(t,XF),n=ar();return T.createElement(MF,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(PF,{legendPayload:Nye(e)}),T.createElement(Pye,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(DF,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(zye,Rh({},e,{id:r}))))}var QF=T.memo(qye,P0);QF.displayName="Line";var Bye=["domain","range"],Hye=["domain","range"];function PO(t,e){if(t==null)return{};var n,r,i=Gye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RO(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function ZF(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=PO(t,Bye),{domain:a,range:s}=e,u=PO(e,Hye);return!RO(n,a)||!RO(r,s)?!1:P0(i,u)}var $ye=["dangerouslySetInnerHTML","ticks"],Kye=["id"];function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wT.apply(null,arguments)}function MO(t,e){if(t==null)return{};var n,r,i=Wye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yye(t){var e=Zt(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Cpe(t)):n.current!==t&&e(Ipe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Npe(n.current)),n.current=null)},[e]),null}var Jye=t=>{var{xAxisId:e,className:n}=t,r=Me(y1),i=ar(),a="xAxis",s=Me(C=>hf(C,a,e,i)),u=Me(C=>Nz(C,a,e,i)),c=Me(C=>Sz(C,e)),f=Me(C=>gce(C,e)),h=Me(C=>W6(C,e));if(c==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=t,w=MO(t,$ye),{id:A}=h,S=MO(h,Kye);return T.createElement(AA,wT({},w,S,{scale:s,x:f.x,y:f.y,width:c.width,height:c.height,className:Et("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Xye={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,angle:kn.angle,axisLine:To.axisLine,height:kn.height,hide:!1,includeHidden:kn.includeHidden,interval:kn.interval,minTickGap:kn.minTickGap,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tick:kn.tick,tickCount:kn.tickCount,tickLine:To.tickLine,tickSize:To.tickSize,type:kn.type,xAxisId:0},Qye=t=>{var e=_r(t,Xye);return T.createElement(T.Fragment,null,T.createElement(Yye,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(Jye,e))},R0=T.memo(Qye,ZF);R0.displayName="XAxis";var Zye=["dangerouslySetInnerHTML","ticks"],eve=["id"];function ET(){return ET=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ET.apply(null,arguments)}function kO(t,e){if(t==null)return{};var n,r,i=tve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nve(t){var e=Zt(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Ppe(t)):n.current!==t&&e(Rpe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Mpe(n.current)),n.current=null)},[e]),null}var rve=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),s=T.useRef(null),u=Me(y1),c=ar(),f=Zt(),h="yAxis",m=Me(U=>hf(U,h,e,c)),v=Me(U=>Az(U,e)),w=Me(U=>vce(U,e)),A=Me(U=>Nz(U,h,e,c)),S=Me(U=>Y6(U,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!v||bA(i)||T.isValidElement(i)||S==null)){var U=a.current;if(U){var G=U.getCalculatedWidth();Math.round(v.width)!==Math.round(G)&&f(kpe({id:e,width:G}))}}},[A,v,f,i,e,r,S]),v==null||w==null||S==null)return null;var{dangerouslySetInnerHTML:C,ticks:P}=t,D=kO(t,Zye),{id:M}=S,V=kO(S,eve);return T.createElement(AA,ET({},D,V,{ref:a,labelRef:s,scale:m,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Et("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:A,axisType:h}))},ive={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:Dn.allowDecimals,allowDuplicatedCategory:Dn.allowDuplicatedCategory,angle:Dn.angle,axisLine:To.axisLine,hide:!1,includeHidden:Dn.includeHidden,interval:Dn.interval,minTickGap:Dn.minTickGap,mirror:Dn.mirror,orientation:Dn.orientation,padding:Dn.padding,reversed:Dn.reversed,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,tickLine:To.tickLine,tickSize:To.tickSize,type:Dn.type,width:Dn.width,yAxisId:0},ave=t=>{var e=_r(t,ive);return T.createElement(T.Fragment,null,T.createElement(nve,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(rve,e))},eq=T.memo(ave,ZF);eq.displayName="YAxis";var ove=(t,e)=>e,IA=re([ove,ft,$6,In,Gz,Bo,kfe,Un],zfe),NA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},tq=Ii("mouseClick"),nq=Zh();nq.startListening({actionCreator:tq,effect:(t,e)=>{var n=t.payload,r=IA(e.getState(),NA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Mce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var TT=Ii("mouseMove"),rq=Zh(),gg=null;rq.startListening({actionCreator:TT,effect:(t,e)=>{var n=t.payload;gg!==null&&cancelAnimationFrame(gg);var r=NA(n);gg=requestAnimationFrame(()=>{var i=e.getState(),a=uA(i,i.tooltip.settings.shared);if(a==="axis"){var s=IA(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(Vz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Lz())}gg=null})}});var DO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},iq=Ur({name:"rootProps",initialState:DO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:DO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),sve=iq.reducer,{updateOptions:lve}=iq.actions,aq=Ur({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:YSe}=aq.actions,uve=aq.reducer,oq=Ii("keyDown"),sq=Ii("focus"),PA=Zh();PA.startListening({actionCreator:oq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=cA(i,mf(n),cp(n),mp(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=Bo(n);if(a==="Enter"){var f=Wy(n,"axis","hover",String(i.index));e.dispatch(mT({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=wce(n),m=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,w=u+v*m;if(!(c==null||w>=c.length||w<0)){var A=Wy(n,"axis","hover",String(w));e.dispatch(mT({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:A}))}}}}}});PA.startListening({actionCreator:sq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Wy(n,"axis","hover",String(a));e.dispatch(mT({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var bi=Ii("externalEvent"),lq=Zh(),Kw=new Map;lq.startListening({actionCreator:bi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=Kw.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:yfe(u),activeDataKey:Yz(u),activeIndex:cu(u),activeLabel:Wz(u),activeTooltipIndex:cu(u),isTooltipActive:vfe(u)};n(c,r)}finally{Kw.delete(i)}});Kw.set(i,s)}}});var cve=re([pf],t=>t.tooltipItemPayloads),fve=re([cve,hp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),uq=Ii("touchMove"),cq=Zh();cq.startListening({actionCreator:uq,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=uA(r,r.tooltip.settings.shared);if(i==="axis"){var a=IA(r,NA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(Vz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(vie),h=(s=c.getAttribute(_ie))!==null&&s!==void 0?s:void 0,m=fve(e.getState(),f,h);e.dispatch(Oz({activeDataKey:h,activeIndex:f,activeCoordinate:m}))}}}});var dve=FU({brush:xge,cartesianAxis:Dpe,chartData:yde,errorBars:eme,graphicalItems:dpe,layout:Zre,legend:cae,options:dde,polarAxis:Lhe,polarOptions:uve,referenceElements:Ige,rootProps:sve,tooltip:kce,zIndex:ede}),hve=function(e){return Tre({reducer:dve,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([nq.middleware,rq.middleware,PA.middleware,lq.middleware,cq.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(nj({type:"raf"}))},devTools:rp.devToolsEnabled})};function pve(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ar(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=hve(e));var s=l1;return T.createElement(wme,{context:s,store:a.current},n)}function mve(t){var{layout:e,margin:n}=t,r=Zt(),i=ar();return T.useEffect(()=>{i||(r(Jre(e)),r(Yre(n)))},[r,i,e,n]),null}var gve=T.memo(mve,P0);function yve(t){var e=Zt();return T.useEffect(()=>{e(lve(t))},[e,t]),null}function OO(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=RF("".concat(r).concat(e)),a=Zt();return T.useLayoutEffect(()=>(a(Qfe({zIndex:e,elementId:i,isPanorama:n})),()=>{a(Zfe({zIndex:e,isPanorama:n}))}),[a,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function LO(t){var{children:e,isPanorama:n}=t,r=Me(qfe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(OO,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>T.createElement(OO,{key:s,zIndex:s,isPanorama:n})))}var vve=["children"];function _ve(t,e){if(t==null)return{};var n,r,i=bve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(null,arguments)}var xve={width:"100%",height:"100%",display:"block"},wve=T.forwardRef((t,e)=>{var n=Tj(),r=Sj(),i=kj();if(!za(n)||!za(r))return null;var{children:a,otherAttributes:s,title:u,desc:c}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),T.createElement(iU,rv({},s,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:xve,ref:e}),a)}),Eve=t=>{var{children:e}=t,n=Me(r0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return T.createElement(iU,{width:r,height:i,x:s,y:a},e)},VO=T.forwardRef((t,e)=>{var{children:n}=t,r=_ve(t,vve),i=ar();return i?T.createElement(Eve,null,T.createElement(LO,{isPanorama:!0},n)):T.createElement(wve,rv({ref:e},r),T.createElement(LO,{isPanorama:!1},n))});function Tve(){var t=Zt(),[e,n]=T.useState(null),r=Me(yie);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Qt(a)&&a!==r&&t(Qre(a))}},[e,t,r]),n}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Ave(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ave(t,e,n){return(e=Cve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cve(t){var e=Ive(t,"string");return typeof e=="symbol"?e:e+""}function Ive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(null,arguments)}var Nve=()=>(Ade(),null);function iv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Pve=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,s]=T.useState({containerWidth:iv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:iv((r=t.style)===null||r===void 0?void 0:r.height)}),u=T.useCallback((f,h)=>{s(m=>{var v=Math.round(f),w=Math.round(h);return m.containerWidth===v&&m.containerHeight===w?m:{containerWidth:v,containerHeight:w}})},[]),c=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();u(h,m);var v=A=>{var{width:S,height:C}=A[0].contentRect;u(S,C)},w=new ResizeObserver(v);w.observe(f),i.current=w}},[e,u]);return T.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),T.createElement(T.Fragment,null,T.createElement(a0,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",du({ref:c},t)))}),Rve=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:iv(n),containerHeight:iv(r)}),s=T.useCallback((c,f)=>{a(h=>{var m=Math.round(c),v=Math.round(f);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=T.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();s(f,h)}},[e,s]);return T.createElement(T.Fragment,null,T.createElement(a0,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",du({ref:u},t)))}),Mve=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(a0,{width:n,height:r}),T.createElement("div",du({ref:e},t)))}),kve=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Po(n)||Po(r)?T.createElement(Rve,du({},t,{ref:e})):T.createElement(Mve,du({},t,{ref:e}))});function Dve(t){return t===!0?Pve:kve}var Ove=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:w,onTouchMove:A,onTouchStart:S,style:C,width:P,responsive:D,dispatchTouchEvents:M=!0}=t,V=T.useRef(null),U=Zt(),[G,k]=T.useState(null),[O,L]=T.useState(null),F=Tve(),j=v1(),q=(j==null?void 0:j.width)>0?j.width:P,H=(j==null?void 0:j.height)>0?j.height:i,_e=T.useCallback(oe=>{F(oe),typeof e=="function"&&e(oe),k(oe),L(oe),oe!=null&&(V.current=oe)},[F,e,k,L]),Ce=T.useCallback(oe=>{U(tq(oe)),U(bi({handler:a,reactEvent:oe}))},[U,a]),J=T.useCallback(oe=>{U(TT(oe)),U(bi({handler:f,reactEvent:oe}))},[U,f]),X=T.useCallback(oe=>{U(Lz()),U(bi({handler:h,reactEvent:oe}))},[U,h]),he=T.useCallback(oe=>{U(TT(oe)),U(bi({handler:m,reactEvent:oe}))},[U,m]),me=T.useCallback(()=>{U(sq())},[U]),Oe=T.useCallback(oe=>{U(oq(oe.key))},[U]),K=T.useCallback(oe=>{U(bi({handler:s,reactEvent:oe}))},[U,s]),ae=T.useCallback(oe=>{U(bi({handler:u,reactEvent:oe}))},[U,u]),ge=T.useCallback(oe=>{U(bi({handler:c,reactEvent:oe}))},[U,c]),ye=T.useCallback(oe=>{U(bi({handler:v,reactEvent:oe}))},[U,v]),de=T.useCallback(oe=>{U(bi({handler:S,reactEvent:oe}))},[U,S]),Se=T.useCallback(oe=>{M&&U(uq(oe)),U(bi({handler:A,reactEvent:oe}))},[U,M,A]),Te=T.useCallback(oe=>{U(bi({handler:w,reactEvent:oe}))},[U,w]),rt=Dve(D);return T.createElement(nF.Provider,{value:G},T.createElement(ate.Provider,{value:O},T.createElement(rt,{width:q??(C==null?void 0:C.width),height:H??(C==null?void 0:C.height),className:Et("recharts-wrapper",r),style:Sve({position:"relative",cursor:"default",width:q,height:H},C),onClick:Ce,onContextMenu:K,onDoubleClick:ae,onFocus:me,onKeyDown:Oe,onMouseDown:ge,onMouseEnter:J,onMouseLeave:X,onMouseMove:he,onMouseUp:ye,onTouchEnd:Te,onTouchMove:Se,onTouchStart:de,ref:_e},T.createElement(Nve,null),n)))}),Lve=["width","height","responsive","children","className","style","compact","title","desc"];function Vve(t,e){if(t==null)return{};var n,r,i=Uve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jve=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:u,compact:c,title:f,desc:h}=t,m=Vve(t,Lve),v=Ji(m);return c?T.createElement(T.Fragment,null,T.createElement(a0,{width:n,height:r}),T.createElement(VO,{otherAttributes:v,title:f,desc:h},a)):T.createElement(Ove,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(VO,{otherAttributes:v,title:f,desc:h,ref:e},T.createElement(Pge,null,a)))});function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ST.apply(null,arguments)}var zve={top:5,right:5,bottom:5,left:5},Fve={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zve,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},fq=T.forwardRef(function(e,n){var r,i=_r(e.categoricalChartProps,Fve),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return T.createElement(pve,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},T.createElement(bge,{chartData:f.data}),T.createElement(gve,{layout:i.layout,margin:i.margin}),T.createElement(yve,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(jve,ST({},i,{ref:n})))}),qve=["axis"],Bve=T.forwardRef((t,e)=>T.createElement(fq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qve,tooltipPayloadSearcher:rF,categoricalChartProps:t,ref:e})),Hve=["axis","item"],dq=T.forwardRef((t,e)=>T.createElement(fq,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hve,tooltipPayloadSearcher:rF,categoricalChartProps:t,ref:e}));const yg=[{id:"m1",name:"Day Pass",price:"$25",period:"one time",features:["Gym Access","Locker Use"]},{id:"m2",name:"Monthly Pro",price:"$89",period:"per month",features:["Unlimited Access","Group Classes","Sauna"],isPopular:!0},{id:"m3",name:"Annual Elite",price:"$950",period:"per year",features:["All Access","Free Guest Pass","Personal Training Session"]}],qd=[{id:"c1",name:"Morning HIIT",instructor:"Sarah J.",time:"07:00 AM",duration:"45 min",spotsLeft:3,intensity:"High"},{id:"c2",name:"Power Yoga",instructor:"Mike T.",time:"09:00 AM",duration:"60 min",spotsLeft:8,intensity:"Medium"},{id:"c3",name:"CrossFit WOD",instructor:"Dave R.",time:"05:30 PM",duration:"60 min",spotsLeft:5,intensity:"High"},{id:"c4",name:"Spin Class",instructor:"Jenny P.",time:"06:00 PM",duration:"45 min",spotsLeft:0,intensity:"Medium"}],vg=[{id:"r1",userName:"Alex D.",userImage:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=100",rating:5,date:"2 days ago",text:"Amazing facilities and super friendly staff. The equipment is top notch.",helpfulCount:12},{id:"r2",userName:"Jamie L.",userImage:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=100",rating:4,date:"1 week ago",text:"Great equipment, but can get crowded during peak hours. Love the sauna though!",helpfulCount:8},{id:"r3",userName:"Michael B.",userImage:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&w=100",rating:5,date:"2 weeks ago",text:"Best gym in the city hands down. Worth every penny.",helpfulCount:15}],Zd=[{id:"1",name:"Fitness Pro Gym",type:["Gym","Cardio","Weights"],rating:4.5,reviewCount:124,distance:"0.8 mi",address:"123 Market St, San Francisco, CA",isVerified:!0,isOpen:!0,closingTime:"11:00 PM",priceLevel:2,image:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1470&auto=format&fit=crop",gallery:["https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1470&auto=format&fit=crop","https://images.unsplash.com/photo-1540497077202-7c8a3999166f?q=80&w=1470&auto=format&fit=crop","https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=1470&auto=format&fit=crop"],description:"A state-of-the-art facility focused on functional training and community. We offer open gym access, personal training, and high-intensity group classes.",amenities:["Showers","Lockers","WiFi","Parking","Sauna","Juice Bar"],coordinates:{lat:37.7749,lng:-122.4194},phone:"(555) 123-4567",website:"www.ironpulse.com",classes:qd,reviews:vg,membershipPlans:yg},{id:"2",name:"Yoga Flow Studio",type:["Yoga","Pilates"],rating:4.8,reviewCount:89,distance:"1.2 mi",address:"456 Mission St, San Francisco, CA",isVerified:!0,isOpen:!0,closingTime:"9:00 PM",priceLevel:3,image:"https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?q=80&w=1469&auto=format&fit=crop",gallery:["https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?q=80&w=1469&auto=format&fit=crop"],description:"Find your inner peace. Specialized in Vinyasa, Hatha, and Hot Yoga. Our studio provides a serene environment.",amenities:["Mat Rental","Showers","Tea Lounge","Changing Rooms"],coordinates:{lat:37.7849,lng:-122.4294},phone:"(555) 987-6543",website:"www.zenithyoga.com",classes:qd,reviews:vg,membershipPlans:yg},{id:"3",name:"Iron Strong CrossFit",type:["CrossFit","HIIT"],rating:4.9,reviewCount:210,distance:"2.1 mi",address:"789 Howard St, San Francisco, CA",isVerified:!1,isOpen:!1,closingTime:"8:00 PM",priceLevel:1,image:"https://images.unsplash.com/photo-1517963879466-e1b54ebd512d?q=80&w=1470&auto=format&fit=crop",gallery:["https://images.unsplash.com/photo-1517963879466-e1b54ebd512d?q=80&w=1470&auto=format&fit=crop"],description:"Old school bodybuilding gym. No frills, just weights. Open 24/7 for the dedicated lifter.",amenities:["Free Weights","Cardio","Lockers"],coordinates:{lat:37.7649,lng:-122.4094},phone:"(555) 333-2222",website:"www.metroflexmock.com",classes:qd,reviews:vg,membershipPlans:yg},{id:"apex",name:"Apex Fitness Center",type:["Gym","Pool","Sauna"],rating:4.7,reviewCount:245,distance:"0.5 mi",address:"123 Wellness Avenue, Fitville, CA 90210",isVerified:!0,isOpen:!0,closingTime:"10:00 PM",priceLevel:3,image:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1470&auto=format&fit=crop",gallery:["https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1470&auto=format&fit=crop","https://images.unsplash.com/photo-1571902943202-507ec2618e8f?q=80&w=1375&auto=format&fit=crop"],description:"Premier fitness destination featuring top-tier equipment, an olympic sized pool, and luxury recovery amenities.",amenities:["Yoga","CrossFit","Sauna","24/7 Access","Personal Training","Swimming Pool"],coordinates:{lat:37.7949,lng:-122.4144},phone:"(555) 777-8888",website:"www.apexfitness.com",classes:qd,reviews:vg,membershipPlans:yg}],hq=[{day:"M",value:40,active:!1},{day:"T",value:70,active:!1},{day:"W",value:50,active:!1},{day:"T",value:20,active:!1},{day:"F",value:90,active:!0},{day:"S",value:80,active:!1},{day:"S",value:45,active:!1}],pq=[{id:"w1",type:"Running",duration:"30 min",calories:320,date:"Today",time:"08:15 AM",icon:"run"},{id:"w2",type:"Weightlifting",duration:"45 min",calories:250,date:"Yesterday",time:"06:30 PM",icon:"lift"},{id:"w3",type:"Swimming",duration:"1 hr",calories:410,date:"Nov 18",time:"10:00 AM",icon:"swim"}],AT=[{id:"g1",name:"Rolled Oats",quantity:"1 kg",category:"Pantry",checked:!1},{id:"g2",name:"Almond Milk",quantity:"1 L",category:"Dairy",checked:!0},{id:"g3",name:"Frozen Berries",quantity:"500g",category:"Produce",checked:!1},{id:"g4",name:"Chicken Breast",quantity:"1 kg",category:"Meat",checked:!1},{id:"g5",name:"Brown Rice",quantity:"1 bag",category:"Pantry",checked:!1},{id:"g6",name:"Broccoli",quantity:"2 heads",category:"Produce",checked:!1},{id:"g7",name:"Salmon Fillets",quantity:"4 pcs",category:"Meat",checked:!1},{id:"g8",name:"Sweet Potatoes",quantity:"1 kg",category:"Produce",checked:!1},{id:"g9",name:"Greek Yogurt",quantity:"1 tub",category:"Dairy",checked:!0},{id:"g10",name:"Avocados",quantity:"3 pcs",category:"Produce",checked:!1}],Gve=[{category:"Breakfast",totalCalories:450,items:[{id:"p1",name:"Oatmeal, Protein Powder, Berries",calories:450,protein:30}]},{category:"Lunch",totalCalories:600,items:[{id:"p2",name:"Grilled Chicken, Brown Rice, Broccoli",calories:600,protein:50}]},{category:"Snacks",totalCalories:250,items:[{id:"p3",name:"Greek Yogurt & Almonds",calories:250,protein:20}]},{category:"Dinner",totalCalories:550,items:[{id:"p4",name:"Baked Salmon, Sweet Potato, Asparagus",calories:550,protein:45}]}],mq={"Bench Press":[{date:"Oct 1",weight:135},{date:"Oct 15",weight:145},{date:"Nov 1",weight:155},{date:"Nov 15",weight:160},{date:"Dec 1",weight:175},{date:"Dec 15",weight:185}],Squat:[{date:"Oct 1",weight:185},{date:"Oct 15",weight:205},{date:"Nov 1",weight:225},{date:"Nov 15",weight:235},{date:"Dec 1",weight:255},{date:"Dec 15",weight:275}],Deadlift:[{date:"Oct 1",weight:225},{date:"Oct 15",weight:245},{date:"Nov 1",weight:275},{date:"Nov 15",weight:295},{date:"Dec 1",weight:315},{date:"Dec 15",weight:335}]},gq=[{exercise:"Bench Press",weight:"185 lbs",date:"Dec 15"},{exercise:"Squat",weight:"275 lbs",date:"Dec 15"},{exercise:"Deadlift",weight:"335 lbs",date:"Dec 15"},{exercise:"Overhead Press",weight:"135 lbs",date:"Nov 20"}],jO=[{name:"Chicken Breast (100g)",calories:165,protein:31,carbs:0,fat:3.6,image:"https://images.unsplash.com/photo-1604908176997-125f25cc6f3d?w=150"},{name:"White Rice (1 cup cooked)",calories:205,protein:4.3,carbs:44.5,fat:.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=150"},{name:"Brown Rice (1 cup cooked)",calories:216,protein:5,carbs:45,fat:1.8,image:"https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?w=150"},{name:"Egg (Large)",calories:78,protein:6,carbs:.6,fat:5,image:"https://images.unsplash.com/photo-1587486913049-53fc88980cfc?w=150"},{name:"Salmon (100g)",calories:208,protein:20,carbs:0,fat:13,image:"https://images.unsplash.com/photo-1599084993091-1cb5c0721cc6?w=150"},{name:"Banana (Medium)",calories:105,protein:1.3,carbs:27,fat:.3,image:"https://images.unsplash.com/photo-1571771896612-61013630f9f2?w=150"},{name:"Apple (Medium)",calories:95,protein:.5,carbs:25,fat:.3,image:"https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=150"},{name:"Oatmeal (1 cup cooked)",calories:158,protein:6,carbs:27,fat:3,image:"https://images.unsplash.com/photo-1517673132405-a56a62b18caf?w=150"},{name:"Greek Yogurt (1 cup)",calories:100,protein:17,carbs:6,fat:.7,image:"https://images.unsplash.com/photo-1488477181946-6428a0291777?w=150"},{name:"Almonds (1 oz)",calories:164,protein:6,carbs:6,fat:14,image:"https://images.unsplash.com/photo-1623227866882-c005c207758f?w=150"},{name:"Broccoli (1 cup)",calories:55,protein:3.7,carbs:11,fat:.6,image:"https://images.unsplash.com/photo-1459411621453-7b03977f4bfc?w=150"},{name:"Sweet Potato (Medium)",calories:103,protein:2,carbs:24,fat:.2,image:"https://images.unsplash.com/photo-1596097635121-14b63b8a66cf?w=150"},{name:"Avocado (Medium)",calories:240,protein:3,carbs:12,fat:22,image:"https://images.unsplash.com/photo-1523049673856-640669e3323c?w=150"},{name:"Protein Shake (1 scoop)",calories:120,protein:24,carbs:3,fat:1,image:"https://images.unsplash.com/photo-1579722821273-0f6c7d44362f?w=150"},{name:"Whole Wheat Bread (1 slice)",calories:81,protein:4,carbs:14,fat:1,image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=150"},{name:"Peanut Butter (1 tbsp)",calories:94,protein:4,carbs:3,fat:8,image:"https://images.unsplash.com/photo-1517662613602-4b8e02886677?w=150"},{name:"Milk (1 cup)",calories:103,protein:8,carbs:12,fat:2.4,image:"https://images.unsplash.com/photo-1563636619-e9143da7973b?w=150"},{name:"Pasta (1 cup cooked)",calories:220,protein:8,carbs:43,fat:1.3,image:"https://images.unsplash.com/photo-1612874742237-6526221588e3?w=150"},{name:"Tuna (1 can)",calories:191,protein:42,carbs:0,fat:1.4,image:"https://images.unsplash.com/photo-1543353071-087f9a7ce435?w=150"},{name:"Cottage Cheese (1 cup)",calories:222,protein:25,carbs:8,fat:10,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=150"}],en=()=>{const t=cr.currentUser;if(!t)throw new Error("User not authenticated");return t.uid},yq=async(t,e)=>{const n=en(),r={...t,createdAt:new Date().toISOString(),type:e,userId:n},i=await jv(ri(ct,`users/${n}/plans`),r);return{...r,id:i.id}},CT=async()=>{try{const t=en(),e=of(ri(ct,`users/${t}/plans`),$h("createdAt","desc"));return(await vu(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching plans:",t),[]}},$ve=async t=>{try{const e=en(),n=pn(ct,`users/${e}/plans`,t),r=await sf(n);return r.exists()?{id:r.id,...r.data()}:void 0}catch(e){console.error("Error fetching plan:",e);return}},Kve=async t=>{const e=en();await QZ(pn(ct,`users/${e}/plans`,t))},Wve=async t=>{const e=en(),n={...t,timestamp:new Date().toISOString(),status:"confirmed",userId:e},r=await jv(ri(ct,`users/${e}/bookings`),n);return await Jve({title:"Booking Confirmed!",message:`You are booked for ${t.studioName} on ${t.date} at ${t.time}.`,type:"booking"}),{...n,id:r.id}},zO=async()=>{try{const t=en(),e=of(ri(ct,`users/${t}/bookings`),$h("timestamp","desc"));return(await vu(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching bookings:",t),[]}},Yve=async t=>{const e=en(),n=pn(ct,`users/${e}/bookings`,t);await WS(n,{status:"cancelled"})},Jve=async t=>{const e=en();await jv(ri(ct,`users/${e}/notifications`),{...t,date:new Date().toISOString(),read:!1,userId:e})},IT=async()=>{try{const t=en(),e=of(ri(ct,`users/${t}/notifications`),$h("date","desc"));return(await vu(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching notifications:",t),[]}},Xve=async()=>{const t=en(),e=of(ri(ct,`users/${t}/notifications`),YZ("read","==",!1));(await vu(e)).forEach(async r=>{await WS(pn(ct,`users/${t}/notifications`,r.id),{read:!0})})},vq=async t=>{const e=en();await Uc(pn(ct,`users/${e}/profile`,"main"),t)},RA=async()=>{try{const t=en(),e=await sf(pn(ct,`users/${t}/profile`,"main"));if(e.exists())return e.data();const n=cr.currentUser;return{name:(n==null?void 0:n.displayName)||"User",email:(n==null?void 0:n.email)||"",height:"",weight:"",goal:"",isCoach:!1,coachVerificationStatus:"none"}}catch(t){console.error("Error fetching profile:",t);const e=cr.currentUser;return{name:(e==null?void 0:e.displayName)||"User",email:(e==null?void 0:e.email)||"",height:"",weight:"",goal:"",isCoach:!1,coachVerificationStatus:"none"}}},Qve=async()=>{try{const t=en(),e=of(ri(ct,`users/${t}/groceries`),$h("createdAt","desc")),n=await vu(e);return n.empty?AT:n.docs.map(r=>({id:r.id,...r.data()}))}catch{return AT}},MA=async()=>{try{const t=en(),e=await sf(pn(ct,`users/${t}/daily_logs`,"current"));return e.exists()?e.data().logs:[]}catch{return[]}},Zve=async t=>{const e=en();await Uc(pn(ct,`users/${e}/daily_logs`,"current"),{logs:t})},Ww=async(t,e)=>{const n=await MA(),r=n.findIndex(i=>i.category===t);if(r>-1){const i=n[r],a=[...i.items,{...e,id:Date.now().toString()}],s={...i,totalCalories:i.totalCalories+e.calories,items:a};n[r]=s}else n.push({category:t,totalCalories:e.calories,items:[{...e,id:Date.now().toString()}]});return await Zve(n),n},e0e=async t=>{const e=en();await jv(ri(ct,`users/${e}/workouts`),{...t,timestamp:new Date().toISOString()})},_q=async()=>{try{const t=en(),e=of(ri(ct,`users/${t}/workouts`),$h("timestamp","desc"));return(await vu(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching workouts:",t),[]}},FO=async()=>{try{const t=await _q(),e=await MA(),n=new Date,r=new Date(n.setDate(n.getDate()-n.getDay()+1));r.setHours(0,0,0,0);const i=t.filter(V=>new Date(V.timestamp)>=r),a=i.length,s=i.reduce((V,U)=>V+U.duration,0),u=Math.floor(s/60),c=s%60,f=u>0?`${u}h ${c}m`:`${c}m`,h=e.reduce((V,U)=>V+U.totalCalories,0);let m=0,v=0,w=0;e.forEach(V=>{V.items.forEach(U=>{m+=U.carbs,v+=U.protein,w+=U.fat})});const A=m+v+w,S=A?Math.round(m/A*100):0,C=A?Math.round(v/A*100):0,P=A?Math.round(w/A*100):0,D=[],M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let V=6;V>=0;V--){const U=new Date;U.setDate(U.getDate()-V);const G=M[U.getDay()],k=t.some(O=>{const L=new Date(O.timestamp);return L.getDate()===U.getDate()&&L.getMonth()===U.getMonth()});D.push({day:G,value:k?100:0,active:k})}return{workoutsCount:a,activeTimeStr:f,nutrition:{calories:h,macros:[{label:"Carbs",value:S,color:"#f97316"},{label:"Protein",value:C,color:"#3b82f6"},{label:"Fat",value:P,color:"#10b981"}]},consistency:D}}catch(t){return console.error("Error calculating stats:",t),{workoutsCount:0,activeTimeStr:"0m",nutrition:{calories:0,macros:[{label:"Carbs",value:0,color:"#f97316"},{label:"Protein",value:0,color:"#3b82f6"},{label:"Fat",value:0,color:"#10b981"}]},consistency:[]}}},qO=async()=>{try{const t=en(),e=await vu(ri(ct,`users/${t}/exercise_history`)),n={};return e.forEach(r=>{n[r.id]=r.data().logs}),n}catch(t){return console.error("Error fetching exercise history:",t),{}}},t0e=async(t,e,n)=>{const r=en(),i=pn(ct,`users/${r}/exercise_history`,t),a=await sf(i);if(a.exists()){const s=a.data().logs||[];await WS(i,{logs:[...s,{date:n,weight:e}]})}else await Uc(i,{logs:[{date:n,weight:e}]})},BO=async()=>{try{const t=en(),e=await sf(pn(ct,`users/${t}/personal_records`,"main"));return e.exists()?e.data().records||[]:[]}catch(t){return console.error("Error fetching PRs:",t),[]}},n0e=async t=>{const e=en(),n=pn(ct,`users/${e}/personal_records`,"main"),r=await sf(n);let i=[];r.exists()&&(i=r.data().records||[]);const a=i.findIndex(s=>s.exercise===t.exercise);a>-1?i[a]=t:i.push(t),await Uc(n,{records:i})},r0e=({isOpen:t,onClose:e,stats:n})=>{if(!t)return null;const[r,i]=Us.useState(!1),a=()=>{i(!0),setTimeout(()=>i(!1),2e3)};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm px-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"glass-card w-full max-w-sm rounded-3xl border border-white/10 overflow-hidden relative animate-in zoom-in duration-300 shadow-2xl",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition z-10",children:y.jsx(ah,{size:24})}),y.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-surface p-8 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(0,227,118,0.4)]",children:y.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Alex",alt:"Profile",className:"w-14 h-14 rounded-full"})}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Crushing It! "}),y.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Just finished a killer week on FitSpot."}),y.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[y.jsxs("div",{className:"bg-black/20 rounded-xl p-2 backdrop-blur-sm border border-white/5",children:[y.jsx("p",{className:"text-lg font-bold text-white",children:n.workouts}),y.jsx("p",{className:"text-[10px] text-gray-400 uppercase",children:"Workouts"})]}),y.jsxs("div",{className:"bg-black/20 rounded-xl p-2 backdrop-blur-sm border border-white/5",children:[y.jsx("p",{className:"text-lg font-bold text-white",children:n.calories}),y.jsx("p",{className:"text-[10px] text-gray-400 uppercase",children:"Kcal"})]}),y.jsxs("div",{className:"bg-black/20 rounded-xl p-2 backdrop-blur-sm border border-white/5",children:[y.jsx("p",{className:"text-lg font-bold text-white",children:n.minutes}),y.jsx("p",{className:"text-[10px] text-gray-400 uppercase",children:"Mins"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-surface",children:[y.jsx("p",{className:"text-center text-gray-400 text-sm mb-4 font-medium",children:"Share your progress"}),y.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[y.jsx("button",{className:"w-12 h-12 rounded-full bg-[#E1306C] text-white flex items-center justify-center hover:scale-110 transition shadow-lg",children:y.jsx(rG,{size:24})}),y.jsx("button",{className:"w-12 h-12 rounded-full bg-[#1877F2] text-white flex items-center justify-center hover:scale-110 transition shadow-lg",children:y.jsx(KH,{size:24})}),y.jsx("button",{className:"w-12 h-12 rounded-full bg-[#1DA1F2] text-white flex items-center justify-center hover:scale-110 transition shadow-lg",children:y.jsx($G,{size:24})}),y.jsx("button",{className:"w-12 h-12 rounded-full bg-gray-700 text-white flex items-center justify-center hover:scale-110 transition shadow-lg",children:y.jsx($T,{size:24})})]}),y.jsxs("div",{className:"flex items-center gap-2 bg-black/30 p-1 pl-4 rounded-xl border border-white/5",children:[y.jsx("span",{className:"text-xs text-gray-500 truncate flex-1",children:"fitspot.app/share/alex-w829"}),y.jsxs("button",{onClick:a,className:"bg-white/10 hover:bg-white/20 text-white px-3 py-2 rounded-lg text-xs font-bold transition flex items-center gap-1",children:[r?y.jsx(Ql,{size:14}):y.jsx(sG,{size:14}),r?"Copied":"Copy"]})]})]})]})})},i0e=async()=>{const t=cr.currentUser;if(!t)throw new Error("User must be logged in to seed data");const e=tee(ct),n=t.uid;pq.forEach(s=>{const u=pn(ri(ct,`users/${n}/workouts`));e.set(u,{...s,timestamp:new Date().toISOString()})}),AT.forEach(s=>{const u=pn(ri(ct,`users/${n}/groceries`));e.set(u,{...s,createdAt:new Date().toISOString()})});const r=pn(ct,`users/${n}/daily_logs`,"current");e.set(r,{logs:Gve}),Object.entries(mq).forEach(([s,u])=>{const c=pn(ct,`users/${n}/exercise_history`,s);e.set(c,{logs:u})});const i=pn(ct,`users/${n}/personal_records`,"main");e.set(i,{records:gq});const a=pn(ct,`users/${n}/profile`,"main");e.set(a,{name:t.displayName||"Fitness User",email:t.email,goal:"Get Fit",joinedAt:new Date().toISOString()},{merge:!0}),await e.commit(),console.log("Database seeded successfully!")},a0e=()=>{const t=vn(),[e,n]=T.useState([]),[r,i]=T.useState(!1),[a,s]=T.useState(0),[u,c]=T.useState(!1),[f,h]=T.useState(!1),[m,v]=T.useState("User"),[w,A]=T.useState({workoutsCount:0,activeTimeStr:"0m",nutrition:{calories:0,macros:[{label:"Carbs",value:0,color:"#f97316"},{label:"Protein",value:0,color:"#3b82f6"},{label:"Fat",value:0,color:"#10b981"}]},consistency:[]});T.useEffect(()=>{(async()=>{const V=await CT();n(V);const U=await IT();s(U.filter(O=>!O.read).length);const G=await RA();if(G!=null&&G.name){const O=G.name.split(" ")[0];v(O.charAt(0).toUpperCase()+O.slice(1))}const k=await FO();k.workoutsCount===0&&k.nutrition.calories===0?A({workoutsCount:5,activeTimeStr:"3h 45m",nutrition:{calories:1850,macros:[{label:"Carbs",value:45,color:"#f97316"},{label:"Protein",value:30,color:"#3b82f6"},{label:"Fat",value:25,color:"#10b981"}]},consistency:hq}):A(k)})()},[]);const S=r?e:e.slice(0,2),C=M=>{switch(M){case"diet":return"bg-accent-blue/20";case"workout":return"bg-primary/20";default:return"bg-accent-orange/20"}},P=M=>{switch(M){case"diet":return y.jsx(Zl,{className:"text-accent-blue",size:20});case"workout":return y.jsx(zs,{className:"text-primary",size:20});default:return y.jsx(Xw,{className:"text-accent-orange",size:20})}},D=async()=>{if(window.confirm("This will add demo data to your account. Continue?")){h(!0);try{await i0e();const M=await CT();n(M);const V=await IT();s(V.filter(G=>!G.read).length);const U=await FO();A(U),alert("Data added! Refreshing..."),window.location.reload()}catch(M){console.error(M),alert("Failed to seed data. Make sure you are logged in.")}finally{h(!1)}}};return y.jsxs("div",{className:"min-h-screen bg-background pb-28 font-sans",children:[y.jsxs("header",{className:"px-6 py-6 flex justify-between items-center sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white/10 shadow-lg",children:y.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${m}`,alt:"User"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-bold text-white tracking-tight",children:["Hello, ",m,"!"]}),y.jsx("p",{className:"text-xs text-muted",children:"Monday, Oct 26"})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>c(!0),className:"p-2 text-gray-400 hover:text-primary hover:bg-white/5 rounded-full transition",children:y.jsx(KT,{size:24})}),y.jsxs("button",{onClick:()=>t("/notifications"),className:"relative p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full transition",children:[y.jsx(Fg,{size:24}),a>0&&y.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-background"})]})]})]}),y.jsxs("div",{className:"px-6 space-y-6 mt-6",children:[y.jsxs(Ra,{to:"/generate-plan",className:"w-full bg-cyan-400 p-4 rounded-2xl flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(34,211,238,0.4)] hover:scale-[1.02] transition-transform group",children:[y.jsx(Xw,{size:20,className:"text-black"}),y.jsx("span",{className:"text-black font-bold text-base",children:"Generate New AI Plan"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("h2",{className:"text-white font-bold text-lg",children:"Your AI Plans"}),e.length>2&&y.jsxs("button",{onClick:()=>i(!r),className:"text-xs text-primary font-bold flex items-center gap-1 hover:underline",children:[r?"Show Less":"View All",r?y.jsx(DH,{size:14}):y.jsx(U4,{size:14})]})]}),y.jsx("div",{className:"space-y-3",children:e.length>0?S.map(M=>y.jsxs(Ra,{to:`/plan/${M.id}`,className:"glass-card p-4 rounded-2xl flex items-center justify-between group cursor-pointer hover:border-primary/50 transition",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-2xl ${C(M.type)} flex items-center justify-center shrink-0`,children:P(M.type)}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("h3",{className:"text-white font-bold truncate pr-4",children:M.planName}),y.jsx("p",{className:"text-xs text-muted",children:"View and edit your plan"})]})]}),y.jsx(bo,{className:"text-gray-600 group-hover:text-white transition shrink-0",size:20})]},M.id)):y.jsxs("div",{className:"text-center p-6 glass-card rounded-2xl border-dashed border-white/10",children:[y.jsx("p",{className:"text-muted text-sm mb-2",children:"No plans saved yet."}),y.jsx(Ra,{to:"/generate-plan",className:"text-primary text-sm font-bold",children:"Create your first plan"})]})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"glass-card p-5 rounded-3xl",children:[y.jsx("p",{className:"text-xs text-gray-400 font-bold mb-2",children:"Workouts This Week"}),y.jsxs("h3",{className:"text-3xl font-bold text-white",children:[w.workoutsCount," ",y.jsx("span",{className:"text-gray-500 text-xl",children:"/ 5"})]})]}),y.jsxs("div",{className:"glass-card p-5 rounded-3xl",children:[y.jsx("p",{className:"text-xs text-gray-400 font-bold mb-2",children:"Active Time"}),y.jsx("h3",{className:"text-3xl font-bold text-white",children:w.activeTimeStr})]})]}),y.jsxs("div",{className:"glass-card p-6 rounded-3xl",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase mb-1",children:"Today's Nutrition"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:w.nutrition.calories}),y.jsx("span",{className:"text-gray-500 font-medium",children:"/ 2,400 kcal"})]}),y.jsx("p",{className:"text-xs text-muted mt-1",children:"Macronutrient Distribution"})]}),y.jsx("div",{className:"grid grid-cols-3 gap-4",children:w.nutrition.macros.map(M=>y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"relative w-20 h-20 flex items-center justify-center mb-3",children:[y.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[y.jsx("circle",{cx:"40",cy:"40",r:"32",stroke:"#1e293b",strokeWidth:"6",fill:"none"}),y.jsx("circle",{cx:"40",cy:"40",r:"32",stroke:M.color,strokeWidth:"6",fill:"none",strokeDasharray:"200",strokeDashoffset:200-200*M.value/100,strokeLinecap:"round"})]}),y.jsxs("span",{className:"absolute text-sm font-bold text-white",children:[M.value,"%"]})]}),y.jsx("span",{className:"text-xs text-gray-400 font-medium",children:M.label})]},M.label))})]}),y.jsxs("div",{className:"glass-card p-6 rounded-3xl",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase mb-1",children:"Weekly Consistency"}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Last 7 Days"})]}),y.jsx("div",{className:"h-40 w-full",children:y.jsx(_1,{width:"100%",height:"100%",children:y.jsxs(dq,{data:w.consistency,children:[y.jsx(R0,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:600},dy:10}),y.jsx(EA,{dataKey:"value",radius:[6,6,6,6],children:w.consistency.map((M,V)=>y.jsx(N0,{fill:M.active?"#22d3ee":"#1e293b"},`cell-${V}`))})]})})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-3",children:"Today's Focus"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center justify-between cursor-pointer hover:border-primary/50 transition",onClick:()=>t("/tracker"),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-surface flex items-center justify-center text-primary border border-white/10",children:y.jsx(zs,{size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider mb-0.5",children:"Latest Workout"}),y.jsx("h3",{className:"text-white font-bold",children:w.workoutsCount>0?"Workout Logged":"Log a Workout"})]})]}),y.jsx(bo,{size:20,className:"text-gray-500"})]}),y.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center justify-between cursor-pointer hover:border-primary/50 transition",onClick:()=>t("/nutrition"),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-surface flex items-center justify-center text-orange-400 border border-white/10",children:y.jsx(Zl,{size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider mb-0.5",children:"Nutrition"}),y.jsx("h3",{className:"text-white font-bold",children:w.nutrition.calories>0?`${w.nutrition.calories} kcal consumed`:"Log your first meal"})]})]}),y.jsx(bo,{size:20,className:"text-gray-500"})]})]})]})]}),y.jsxs("div",{className:"fixed bottom-24 right-6 flex flex-col gap-3 z-30",children:[y.jsx("button",{onClick:D,disabled:f,className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center shadow-lg border border-white/10 hover:bg-gray-700 transition",title:"Seed Demo Data",children:y.jsx("span",{className:"text-xs font-bold text-white",children:f?"...":"DB"})}),y.jsx("button",{className:"w-14 h-14 bg-cyan-400 rounded-full flex items-center justify-center shadow-lg shadow-cyan-500/40 hover:scale-110 transition-transform",children:y.jsx(Hg,{size:28,className:"text-black"})})]}),y.jsx(r0e,{isOpen:u,onClose:()=>c(!1),stats:{workouts:5,calories:2450,minutes:320}})]})},o0e=({studio:t})=>y.jsx(Ra,{to:`/studio/${t.id}`,className:"block group",children:y.jsxs("div",{className:"bg-surface rounded-2xl overflow-hidden border border-secondary hover:border-gray-700 transition-colors",children:[y.jsx("div",{className:"relative h-48",children:y.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-primary transition-colors",children:t.name}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx($4,{size:14,className:"text-yellow-400 fill-yellow-400"}),y.jsx("span",{className:"text-sm font-bold text-white",children:t.rating})]})]}),y.jsx("p",{className:"text-muted text-xs mb-3 flex items-center gap-1 text-gray-400",children:t.address}),y.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[y.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[y.jsx(B4,{size:12,className:"text-gray-400"}),y.jsxs("span",{className:"text-xs",children:[t.distance," away"]})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${t.isOpen?"bg-primary":"bg-red-500"}`}),y.jsx("span",{className:`text-xs font-medium ${t.isOpen?"text-primary":"text-red-500"}`,children:t.isOpen?"Open":"Closed"})]})]})]})]})}),s0e=[{elementType:"geometry",stylers:[{color:"#1c2625"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1c2625"}]},{elementType:"labels.text.fill",stylers:[{color:"#94a3b8"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#f1f5f9"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#f1f5f9"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#121a19"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#00e376"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#2d3748"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b9"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0f172a"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}];function l0e(t,e,n,r){const a=_g(n-t),s=_g(r-e),u=Math.sin(a/2)*Math.sin(a/2)+Math.cos(_g(t))*Math.cos(_g(n))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function _g(t){return t*(Math.PI/180)}const u0e=({studios:t,userLocation:e})=>{const n=T.useRef(null),r=T.useRef(null),i=T.useRef(null),a=T.useRef([]),s=T.useRef(null),u=vn(),[c,f]=T.useState(e);return T.useEffect(()=>{e&&!c&&f(e)},[e]),T.useEffect(()=>{if(!navigator.geolocation)return;const h=navigator.geolocation.watchPosition(m=>{const v={lat:m.coords.latitude,lng:m.coords.longitude};f(v)},m=>console.log("Map Watch Position Error",m),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});return()=>navigator.geolocation.clearWatch(h)},[]),T.useEffect(()=>{if(!n.current||!window.google||r.current)return;const h=c||{lat:37.7749,lng:-122.4194};r.current=new window.google.maps.Map(n.current,{center:h,zoom:14,styles:s0e,disableDefaultUI:!0,zoomControl:!0})},[]),T.useEffect(()=>{!r.current||!window.google||!c||(i.current?i.current.setPosition(c):i.current=new window.google.maps.Marker({position:c,map:r.current,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#3b82f6",fillOpacity:1,strokeWeight:2,strokeColor:"#ffffff"},title:"You are here",zIndex:999}),s.current?l0e(s.current.lat,s.current.lng,c.lat,c.lng)>.5&&(r.current.panTo(c),s.current=c):(r.current.panTo(c),s.current=c))},[c]),T.useEffect(()=>{!r.current||!window.google||(a.current.forEach(h=>h.setMap(null)),a.current=[],t.forEach(h=>{const m=new window.google.maps.Marker({position:h.coordinates,map:r.current,title:h.name,animation:window.google.maps.Animation.DROP,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#00e376",fillOpacity:1,strokeWeight:2,strokeColor:"#000000"}}),v=`
        <div style="color: #000; padding: 4px; min-width: 150px;">
          <h3 style="font-weight: bold; font-size: 14px; margin-bottom: 4px;">${h.name}</h3>
          <p style="font-size: 12px; color: #555;">${h.distance||"Nearby"}</p>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 8px;">
             <span style="font-size: 12px; font-weight: bold; color: ${h.isOpen?"#059669":"#dc2626"};">
                ${h.isOpen?"Open":"Closed"}
             </span>
             <button id="btn-${h.id}" style="background: #1c2625; color: #fff; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer;">
                Details
             </button>
          </div>
        </div>
      `,w=new window.google.maps.InfoWindow({content:v});m.addListener("click",()=>{a.current.forEach(A=>{var S;return(S=A.infoWindow)==null?void 0:S.close()}),m.infoWindow=w,w.open({anchor:m,map:r.current}),setTimeout(()=>{const A=document.getElementById(`btn-${h.id}`);A&&(A.onclick=()=>u(`/studio/${h.id}`))},100)}),a.current.push(m)}))},[t,u]),y.jsx("div",{ref:n,className:"w-full h-full rounded-2xl overflow-hidden shadow-inner border border-secondary"})},c0e=[{id:"m1",name:"Day Pass",price:"$25",period:"one time",features:["Gym Access","Locker Use"]},{id:"m2",name:"Monthly Pro",price:"$89",period:"per month",features:["Unlimited Access","Group Classes","Sauna"],isPopular:!0},{id:"m3",name:"Annual Elite",price:"$950",period:"per year",features:["All Access","Free Guest Pass","Personal Training Session"]}],bq=(t,e,n)=>{const r=t.geometry.location,a=(e&&n?y0e(e,n,r.lat(),r.lng()):0)*.621371;let s="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1470&auto=format&fit=crop";t.photos&&t.photos.length>0&&(s=t.photos[0].getUrl({maxWidth:400}));let u=!0;return t.opening_hours&&(typeof t.opening_hours.isOpen=="function"?u=t.opening_hours.isOpen():t.opening_hours.open_now!==void 0&&(u=t.opening_hours.open_now)),{id:t.place_id,name:t.name,type:t.types?t.types.slice(0,3).map(c=>c.replace("_"," ")):["Gym"],rating:t.rating||0,reviewCount:t.user_ratings_total||0,distance:a>0?`${a.toFixed(1)} mi`:"",address:t.vicinity||t.formatted_address||t.name,isVerified:!1,isOpen:u,closingTime:"10:00 PM",priceLevel:t.price_level||2,image:s,gallery:[s],description:`A highly rated fitness destination located at ${t.vicinity||t.formatted_address}.`,amenities:["Cardio","Weights","Air Conditioning","Restrooms","Parking","WiFi"],coordinates:{lat:r.lat(),lng:r.lng()},phone:"N/A",website:"",membershipPlans:c0e,classes:qd,reviews:[]}},f0e=()=>new Promise((t,e)=>{if(window.google&&window.google.maps&&window.google.maps.places){t();return}let n=0;const r=setInterval(()=>{n++,window.google&&window.google.maps&&window.google.maps.places?(clearInterval(r),t()):n>20&&(clearInterval(r),e("Google Maps API failed to load within timeout"))},100)}),d0e=async(t,e,n=5e3)=>{try{await f0e()}catch(r){throw console.warn("Google Maps API not loaded. Falling back to mock data."),r}return new Promise((r,i)=>{const s={location:new window.google.maps.LatLng(t,e),radius:n,type:"gym",keyword:"fitness"};new window.google.maps.places.PlacesService(document.createElement("div")).nearbySearch(s,(c,f)=>{if(f===window.google.maps.places.PlacesServiceStatus.OK&&c){const h=c.map(m=>bq(m,t,e));r(h)}else console.error("Places API Search failed:",f),i(f)})})},h0e=async(t,e,n)=>new Promise((r,i)=>{if(!window.google||!window.google.maps||!window.google.maps.places){i("Google Maps API not loaded");return}const a={query:t};if(e&&n){const u=new window.google.maps.LatLng(e,n);a.location=u,a.radius=5e3}new window.google.maps.places.PlacesService(document.createElement("div")).textSearch(a,(u,c)=>{if(c===window.google.maps.places.PlacesServiceStatus.OK&&u){const f=u.map(h=>bq(h,e||0,n||0));r(f)}else console.error("Places API Text Search failed:",c),c===window.google.maps.places.PlacesServiceStatus.ZERO_RESULTS?r([]):i(c)})}),p0e=async t=>new Promise((e,n)=>{if(!window.google||!window.google.maps){n("Google Maps API not loaded");return}new window.google.maps.Geocoder().geocode({address:t},(i,a)=>{if(a==="OK"&&i[0]){const s=i[0].geometry.location;e({lat:s.lat(),lng:s.lng()})}else n(a)})}),m0e=async(t,e)=>new Promise((n,r)=>{if(!window.google||!window.google.maps){r("Google Maps API not loaded");return}new window.google.maps.Geocoder().geocode({location:{lat:t,lng:e}},(a,s)=>{if(s==="OK"&&a[0]){let u="",c="";for(const f of a[0].address_components)f.types.includes("locality")&&(u=f.short_name),f.types.includes("administrative_area_level_1")&&(c=f.short_name);if(u)n(c?`${u}, ${c}`:u);else{const f=a[0].formatted_address.split(",")[0];n(f)}}else r(s)})}),g0e=async t=>new Promise((e,n)=>{if(!window.google||!window.google.maps||!window.google.maps.places){n("Google Maps API not loaded");return}new window.google.maps.places.AutocompleteService().getPlacePredictions({input:t,types:["(cities)"]},(i,a)=>{a===window.google.maps.places.PlacesServiceStatus.OK&&i?e(i):e([])})});function y0e(t,e,n,r){var i=6371,a=bg(n-t),s=bg(r-e),u=Math.sin(a/2)*Math.sin(a/2)+Math.cos(bg(t))*Math.cos(bg(n))*Math.sin(s/2)*Math.sin(s/2),c=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),f=i*c;return f}function bg(t){return t*(Math.PI/180)}const v0e=()=>{const[t,e]=T.useState(""),[n,r]=T.useState("All"),[i,a]=T.useState(!1),[s,u]=T.useState(null),[c,f]=T.useState(Zd),[h,m]=T.useState("idle"),[v,w]=T.useState("Select Location"),[A,S]=T.useState(!1),[C,P]=T.useState(!1),[D,M]=T.useState("list"),[V,U]=T.useState(!1),[G,k]=T.useState(!1),[O,L]=T.useState(""),[F,j]=T.useState([]),[q,H]=T.useState(!1),_e=["All","Gym","Yoga","Pilates","CrossFit","Swimming"],Ce=(de,Se,Te,rt)=>{const Ve=J(Te-de),je=J(rt-Se),pe=Math.sin(Ve/2)*Math.sin(Ve/2)+Math.cos(J(de))*Math.cos(J(Te))*Math.sin(je/2)*Math.sin(je/2);return 6371*(2*Math.atan2(Math.sqrt(pe),Math.sqrt(1-pe)))},J=de=>de*(Math.PI/180);T.useEffect(()=>{X()},[]);const X=()=>{if(m("loading"),w("Locating..."),!navigator.geolocation){m("denied"),w("Location Needed");return}navigator.geolocation.getCurrentPosition(async de=>{const{latitude:Se,longitude:Te}=de.coords;u({lat:Se,lng:Te}),m("granted");try{const rt=await m0e(Se,Te);w(rt)}catch{w("Near You")}K(Se,Te)},de=>{console.error("Location error:",de),m("denied"),w("Location Denied"),f(Zd)})},he=async de=>{if(L(de),de.length>2)try{const Se=await g0e(de);j(Se)}catch(Se){console.log(Se)}else j([])},me=de=>{L(de),j([]),Oe(de)},Oe=async de=>{const Se=de||O;if(Se.trim()){H(!0),j([]);try{const Te=await p0e(Se);u(Te),m("manual"),w(Se),k(!1),K(Te.lat,Te.lng)}catch(Te){console.error("Geocoding failed",Te),alert("Could not find that location. Please try a different city or zip code.")}finally{H(!1)}}},K=async(de,Se)=>{try{S(!0);const Te=await d0e(de,Se,5e3);f(Te)}catch{console.log("Google Maps API not available or failed, falling back to mock data.");const rt=Zd.map(oe=>{const je=Ce(de,Se,oe.coordinates.lat,oe.coordinates.lng)*.621371;return{...oe,distance:`${je.toFixed(1)} mi`,rawDistance:je}}).sort((oe,Ve)=>(oe.rawDistance||0)-(Ve.rawDistance||0));f(rt),U(!0)}finally{S(!1)}},ae=async()=>{if(!t.trim()){s&&K(s.lat,s.lng);return}P(!0);try{const de=await h0e(t,s==null?void 0:s.lat,s==null?void 0:s.lng);f(de)}catch(de){console.error("Search failed",de)}finally{P(!1)}},ge=de=>{de.key==="Enter"&&ae()},ye=T.useMemo(()=>c.filter(de=>{const Se=de.type.join(" ").toLowerCase(),Te=n==="All"||Se.includes(n.toLowerCase()),rt=!i||de.isOpen;return Te&&rt}),[n,c,i]);return y.jsxs("div",{className:"min-h-screen bg-background pb-24 relative font-sans",children:[(h==="denied"||G)&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md px-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"glass-card w-full max-w-sm p-6 rounded-3xl border border-white/10 text-center animate-in zoom-in duration-300 relative shadow-2xl",children:[G&&h!=="denied"&&y.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-white transition",children:y.jsx(ah,{size:20})}),y.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4 text-primary shadow-[0_0_15px_rgba(0,227,118,0.2)]",children:y.jsx(ih,{size:32})}),y.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:h==="denied"?"Location Needed":"Change Location"}),y.jsx("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed",children:h==="denied"?"FitSpot uses your location to show you gyms nearby. Please enable access or enter your location manually.":"Enter a new city or zip code to explore gyms in that area."}),h==="denied"&&y.jsx("button",{onClick:X,className:"w-full bg-primary text-black font-bold py-3 rounded-xl mb-4 hover:opacity-90 transition shadow-[0_0_15px_rgba(0,227,118,0.3)]",children:"Allow Location Access"}),h==="denied"&&y.jsxs("div",{className:"relative mb-4",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-white/10"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-wider font-bold",children:y.jsx("span",{className:"bg-surface px-2 text-gray-500",children:"Or enter manually"})})]}),y.jsxs("div",{className:"relative flex gap-2",children:[y.jsxs("div",{className:"flex-1 relative",children:[y.jsx("input",{type:"text",value:O,onChange:de=>he(de.target.value),onKeyDown:de=>de.key==="Enter"&&Oe(),placeholder:"City or Zip Code",className:"w-full bg-surface border border-white/10 rounded-xl px-4 py-3 text-white text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary/50 transition"}),F.length>0&&y.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-surface border border-white/10 rounded-xl shadow-xl z-50 max-h-48 overflow-y-auto",children:F.map(de=>y.jsx("div",{onClick:()=>me(de.description),className:"px-4 py-3 text-left text-sm text-gray-300 hover:bg-white/5 hover:text-white cursor-pointer border-b border-white/5 last:border-0 transition",children:de.description},de.place_id))})]}),y.jsx("button",{onClick:()=>Oe(),disabled:q||!O.trim(),className:"bg-surface border border-white/10 text-white px-4 rounded-xl hover:bg-white/5 disabled:opacity-50 transition",children:q?y.jsx(nh,{className:"animate-spin",size:20}):y.jsx(B4,{size:20})})]})]})}),y.jsxs("header",{className:"sticky top-0 z-30 bg-background/95 backdrop-blur-md pt-6 pb-4 px-6 border-b border-white/5",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Discover"}),y.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:opacity-80 transition",onClick:()=>k(!0),children:[y.jsx("span",{className:"text-primary font-bold text-sm",children:v}),y.jsx(ih,{size:14,className:"text-primary"})]})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx(H4,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",placeholder:"Search gyms or studios...",className:"w-full bg-surface border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/50 transition shadow-inner",value:t,onChange:de=>e(de.target.value),onKeyDown:ge})]}),y.jsxs("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar items-center pb-1",children:[y.jsxs("button",{className:"flex items-center gap-2 bg-primary/10 text-primary border border-primary/20 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap hover:bg-primary/20 transition",children:[y.jsx(NP,{size:14})," Filter"]}),y.jsxs("button",{className:"flex items-center gap-2 bg-surface text-gray-400 border border-white/10 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap hover:border-white/20 hover:text-white transition",children:[y.jsx("div",{className:"rotate-90",children:y.jsx(NP,{size:14})})," Sort"]}),y.jsx("button",{onClick:()=>a(!i),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap border transition ${i?"bg-primary text-black border-primary shadow-[0_0_10px_rgba(0,227,118,0.3)]":"bg-surface text-gray-400 border-white/10 hover:border-white/20 hover:text-white"}`,children:"24/7"}),_e.map(de=>y.jsx("button",{onClick:()=>r(de),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap border transition ${n===de?"bg-white text-black border-white shadow-lg":"bg-surface text-gray-400 border-white/10 hover:border-white/20 hover:text-white"}`,children:de},de))]})]}),V&&y.jsxs("div",{className:"mx-6 mb-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[y.jsx(W4,{className:"text-yellow-500 shrink-0 mt-0.5",size:20}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-yellow-500 font-bold text-sm mb-1",children:"Showing Demo Data"}),y.jsxs("p",{className:"text-yellow-500/80 text-xs leading-relaxed",children:["Real-time gym search requires a valid Google Maps API Key.",y.jsx("br",{}),"Add your key in ",y.jsx("code",{className:"bg-black/30 px-1 rounded",children:"index.html"})," to see real gyms near you."]})]}),y.jsx("button",{onClick:()=>U(!1),className:"text-yellow-500/60 hover:text-yellow-500",children:y.jsx(ah,{size:16})})]}),y.jsxs("main",{className:`px-6 py-6 ${D==="map"?"h-[calc(100vh-280px)] p-0 px-4":"space-y-6"}`,children:[(h==="loading"||A||C)&&y.jsxs("div",{className:"text-center py-12 text-gray-500 flex flex-col items-center justify-center gap-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-surface border-t-primary rounded-full animate-spin"}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]}),y.jsx("p",{className:"text-sm font-medium animate-pulse",children:C?`Searching Google for "${t}"...`:"Locating gyms nearby..."})]}),!A&&!C&&(D==="list"?y.jsxs(y.Fragment,{children:[ye.map(de=>y.jsx(o0e,{studio:de},de.id)),ye.length===0&&y.jsx("div",{className:"text-center py-12 text-gray-500",children:y.jsx("p",{children:"No studios found matching your criteria."})})]}):y.jsx(u0e,{studios:ye,userLocation:s}))]}),y.jsx("div",{className:"fixed bottom-24 right-6 z-40",children:y.jsx("button",{onClick:()=>M(de=>de==="list"?"map":"list"),className:"w-14 h-14 rounded-full bg-primary flex items-center justify-center shadow-[0_0_20px_rgba(0,227,118,0.4)] hover:scale-105 transition active:scale-95 text-black",children:D==="list"?y.jsx(yG,{size:24}):y.jsx(uG,{size:24})})})]})},_0e=()=>{const t=vn(),{id:e}=C4(),n=Zd.find(c=>c.id===e)||Zd[0],[r,i]=T.useState(!1),[a,s]=T.useState(!1),u=async()=>{s(!0);try{await Wve({studioId:n.id,studioName:n.name,date:"Today",time:"10:00 AM",image:n.image}),i(!0),setTimeout(()=>{i(!1),t("/bookings")},2e3)}catch(c){console.error("Booking failed",c),alert("Failed to book session. Please try again.")}finally{s(!1)}};return y.jsxs("div",{className:"min-h-screen bg-background pb-24 font-sans relative",children:[y.jsxs("div",{className:"h-[40vh] w-full relative",children:[y.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),y.jsxs("div",{className:"absolute top-6 left-6 right-6 flex justify-between items-center z-10",children:[y.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-full bg-black/30 backdrop-blur-md flex items-center justify-center text-white hover:bg-black/50 transition",children:y.jsx(Vr,{size:20})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{className:"w-10 h-10 rounded-full bg-black/30 backdrop-blur-md flex items-center justify-center text-white hover:bg-black/50 transition",children:y.jsx(KT,{size:20})}),y.jsx("button",{className:"w-10 h-10 rounded-full bg-black/30 backdrop-blur-md flex items-center justify-center text-white hover:bg-black/50 transition",children:y.jsx(QH,{size:20})})]})]})]}),y.jsxs("div",{className:"px-6 -mt-12 relative z-10",children:[y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-2 leading-tight",children:n.name}),y.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[y.jsx(ih,{size:14,className:"text-primary"}),y.jsx("span",{children:n.address})]})]}),y.jsxs("div",{className:"bg-surface border border-white/10 px-3 py-1.5 rounded-xl flex items-center gap-1.5",children:[y.jsx($4,{size:14,className:"text-yellow-500 fill-yellow-500"}),y.jsx("span",{className:"text-white font-bold",children:n.rating}),y.jsxs("span",{className:"text-xs text-gray-500",children:["(",n.reviews,")"]})]})]}),y.jsxs("div",{className:"flex gap-2 mb-8 overflow-x-auto hide-scrollbar",children:[n.type.map(c=>y.jsx("span",{className:"px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs text-gray-300 whitespace-nowrap",children:c},c)),y.jsx("span",{className:`px-3 py-1 rounded-full border text-xs whitespace-nowrap ${n.isOpen?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:n.isOpen?"Open Now":"Closed"})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"About"}),y.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Experience premium fitness at ",n.name,". State-of-the-art equipment, expert trainers, and a motivating atmosphere designed to help you crush your goals.",y.jsx("span",{className:"text-primary ml-1 font-medium",children:"Read more"})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Amenities"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:["WiFi","Showers","Lockers","Parking","Sauna","Juice Bar"].map(c=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/5",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:y.jsx(Ql,{size:12})}),y.jsx("span",{className:"text-sm text-gray-300",children:c})]},c))})]}),y.jsxs("div",{className:"mb-24",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Location"}),y.jsxs("div",{className:"h-48 w-full rounded-3xl bg-surface border border-white/10 relative overflow-hidden group cursor-pointer",children:[y.jsx("img",{src:"https://api.mapbox.com/styles/v1/mapbox/dark-v10/static/-74.006,40.7128,14,0/600x300?access_token=YOUR_TOKEN",alt:"Map",className:"w-full h-full object-cover opacity-50 group-hover:opacity-70 transition"}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsxs("button",{className:"bg-surface text-white px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 shadow-lg",children:[y.jsx(ih,{size:16,className:"text-primary"})," Get Directions"]})})]})]})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-surface/80 backdrop-blur-xl border-t border-white/10 p-6 z-50",children:y.jsxs("div",{className:"flex items-center justify-between gap-4",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Price"}),y.jsxs("div",{className:"flex items-baseline gap-1",children:[y.jsx("span",{className:"text-2xl font-bold text-white",children:"$25"}),y.jsx("span",{className:"text-sm text-gray-500",children:"/ session"})]})]}),y.jsx("button",{onClick:u,disabled:r||a,className:`flex-1 py-4 rounded-2xl font-bold text-black flex items-center justify-center gap-2 transition shadow-[0_0_20px_rgba(0,227,118,0.3)] ${r?"bg-green-500":"bg-primary hover:opacity-90 active:scale-95"}`,children:a?y.jsx(y.Fragment,{children:"Booking..."}):r?y.jsxs(y.Fragment,{children:[y.jsx(Ql,{size:20})," Booked!"]}):y.jsxs(y.Fragment,{children:["Book Session ",y.jsx(bo,{size:20})]})})]})})]})},xq=T.createContext(void 0),b0e=({children:t})=>{const[e,n]=T.useState(()=>{const h=localStorage.getItem("darkMode");return h?JSON.parse(h):!0}),[r,i]=T.useState(()=>localStorage.getItem("units")||"metric"),[a,s]=T.useState(()=>Notification.permission==="granted");T.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),T.useEffect(()=>{localStorage.setItem("units",r)},[r]);const u=()=>n(!e),c=()=>i(h=>h==="metric"?"imperial":"metric"),f=async()=>{a?(s(!1),alert("To fully disable notifications, please change your browser settings.")):await Notification.requestPermission()==="granted"&&s(!0)};return y.jsx(xq.Provider,{value:{darkMode:e,toggleDarkMode:u,units:r,toggleUnits:c,notificationsEnabled:a,toggleNotifications:f},children:t})},x0e=()=>{const t=T.useContext(xq);if(t===void 0)throw new Error("useSettings must be used within a SettingsProvider");return t},w0e=({isOpen:t,onClose:e})=>{const[n,r]=T.useState(""),[i,a]=T.useState(""),[s,u]=T.useState(""),[c,f]=T.useState(!1),[h,m]=T.useState(""),[v,w]=T.useState(!1);if(!t)return null;const A=async S=>{if(S.preventDefault(),m(""),w(!1),i!==s){m("New passwords don't match");return}if(i.length<6){m("Password must be at least 6 characters");return}f(!0);try{const C=cr.currentUser;if(C&&C.email){const P=pu.credential(C.email,n);await BK(C,P),await YK(C,i),w(!0),setTimeout(()=>{e(),w(!1),r(""),a(""),u("")},2e3)}}catch(C){console.error(C),C.code==="auth/wrong-password"?m("Incorrect current password"):m("Failed to update password. Please try again.")}finally{f(!1)}};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-surface border border-white/10 rounded-3xl w-full max-w-md p-6 relative animate-in fade-in zoom-in duration-200",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition",children:y.jsx(ah,{size:24})}),y.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(rh,{className:"text-primary",size:20}),"Change Password"]}),v?y.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 flex items-center gap-3 text-green-500 mb-4",children:[y.jsx(Ql,{size:20}),y.jsx("p",{className:"font-medium",children:"Password updated successfully!"})]}):y.jsxs("form",{onSubmit:A,className:"space-y-4",children:[h&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-3 flex items-center gap-2 text-red-500 text-sm",children:[y.jsx(j4,{size:16}),h]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase mb-1.5",children:"Current Password"}),y.jsx("input",{type:"password",value:n,onChange:S=>r(S.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary/50 transition",placeholder:"Enter current password",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase mb-1.5",children:"New Password"}),y.jsx("input",{type:"password",value:i,onChange:S=>a(S.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary/50 transition",placeholder:"Enter new password",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase mb-1.5",children:"Confirm New Password"}),y.jsx("input",{type:"password",value:s,onChange:S=>u(S.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary/50 transition",placeholder:"Confirm new password",required:!0})]}),y.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-black font-bold py-3.5 rounded-xl hover:bg-primary/90 transition disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:c?"Updating...":"Update Password"})]})]})})},E0e=()=>{const t=vn(),{darkMode:e,toggleDarkMode:n,units:r,toggleUnits:i,notificationsEnabled:a,toggleNotifications:s}=x0e(),[u,c]=T.useState(0),[f,h]=T.useState(!1),[m,v]=T.useState(!1),[w,A]=T.useState({name:"",email:"",height:"",weight:"",goal:"",isCoach:!1,coachVerificationStatus:"none"}),[S,C]=T.useState(!0),[P,D]=T.useState(null);if(T.useEffect(()=>{(async()=>{try{const O=await CT();c(O.length);const L=await RA();A(L)}catch(O){console.error("Failed to load profile data:",O),D(O.message||"Failed to load profile")}finally{C(!1)}})()},[]),S)return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:y.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(P)return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4",children:y.jsx(IP,{size:32,className:"text-red-500"})}),y.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-400 mb-6",children:P}),y.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-black font-bold px-6 py-3 rounded-xl hover:opacity-90 transition",children:"Try Again"})]});const M=async()=>{await vq(w),h(!1)},V=({active:k,onToggle:O})=>y.jsx("button",{onClick:L=>{L.stopPropagation(),O()},className:`w-12 h-7 rounded-full relative transition-colors ${k?"bg-primary shadow-[0_0_10px_rgba(0,227,118,0.4)]":"bg-secondary border border-secondary"}`,children:y.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-transform shadow-sm ${k?"left-6":"left-1"}`})}),U=({icon:k,label:O,value:L,hasToggle:F,isRed:j,onClick:q,toggleValue:H,onToggle:_e})=>y.jsxs("div",{onClick:q,className:"flex items-center justify-between py-4 border-b border-secondary last:border-0 group cursor-pointer",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[k&&y.jsx("div",{className:`p-2 rounded-xl ${j?"bg-red-500/10 text-red-500":"bg-secondary text-muted group-hover:text-text group-hover:bg-secondary/80"} transition`,children:y.jsx(k,{size:18})}),y.jsx("span",{className:`${j?"text-red-500 font-medium":"text-text font-medium group-hover:text-primary transition"}`,children:O})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[L&&y.jsx("span",{className:"text-xs text-muted bg-secondary px-2 py-1 rounded-md border border-secondary",children:L}),F?y.jsx(V,{active:H,onToggle:_e}):!j&&y.jsx(bo,{size:18,className:"text-muted group-hover:text-primary transition"})]})]}),G=async()=>{try{await V5(cr)}catch(k){console.error("Error logging out",k)}};return y.jsxs("div",{className:"min-h-screen bg-background pb-32 font-sans",children:[y.jsxs("header",{className:"px-6 pt-8 pb-6 flex items-center justify-between sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-secondary",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>t(-1),className:"text-text hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold text-text tracking-tight",children:"Profile"})]}),f?y.jsxs("button",{onClick:M,className:"text-primary font-bold text-sm flex items-center gap-1 bg-primary/10 px-3 py-1.5 rounded-full hover:bg-primary/20 transition",children:[y.jsx(Ql,{size:16})," Save"]}):y.jsx("button",{onClick:()=>h(!0),className:"text-muted hover:text-text p-2 hover:bg-secondary rounded-full transition",children:y.jsx(LG,{size:20})})]}),y.jsxs("div",{className:"px-6 flex flex-col items-center mb-8 mt-4",children:[y.jsxs("div",{className:"relative mb-4 group",children:[y.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-surface shadow-2xl shadow-black/50 group-hover:border-primary/50 transition duration-500",children:y.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${w.name||"User"}`,alt:"Profile",className:"w-full h-full object-cover"})}),y.jsx("div",{className:"absolute bottom-0 right-0 bg-primary text-black p-2 rounded-full border-4 border-background shadow-lg",children:y.jsx(fv,{size:16})})]}),f?y.jsx("input",{value:w.name,onChange:k=>A({...w,name:k.target.value}),className:"bg-surface text-text text-center font-bold text-2xl rounded-xl py-2 px-4 border border-primary/50 w-64 mb-1 focus:outline-none focus:ring-2 focus:ring-primary/50"}):y.jsx("h2",{className:"text-2xl font-bold text-text mb-1",children:w.name}),y.jsxs("p",{className:"text-sm text-muted flex items-center gap-1",children:[y.jsx(Bg,{size:12})," ",w.email]})]}),y.jsxs("div",{className:"px-6 space-y-8",children:[y.jsxs("section",{children:[y.jsx("div",{className:"flex items-center gap-2 mb-4 px-1",children:y.jsx("h3",{className:"font-bold text-text text-sm uppercase tracking-wider",children:"Fitness Profile"})}),y.jsxs("div",{className:"glass-card px-5 rounded-3xl mb-4",children:[y.jsx(U,{icon:SP,label:"My Saved Plans",value:`${u} Plans`,onClick:()=>t("/dashboard")}),y.jsx(U,{icon:js,label:"My Bookings",onClick:()=>t("/bookings")})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{className:"glass-card p-4 rounded-3xl flex flex-col items-center justify-center text-center",children:[y.jsx("span",{className:"text-xs text-muted block mb-2 uppercase font-bold tracking-wider",children:"Height"}),f?y.jsx("div",{className:"flex items-center gap-1",children:y.jsx("input",{value:w.height,onChange:k=>A({...w,height:k.target.value}),className:"bg-surface border border-secondary text-text w-16 rounded-lg p-2 text-center text-lg font-bold focus:border-primary focus:outline-none"})}):y.jsx("span",{className:"text-text font-bold text-xl",children:w.height||"--"})]}),y.jsxs("div",{className:"glass-card p-4 rounded-3xl flex flex-col items-center justify-center text-center",children:[y.jsx("span",{className:"text-xs text-muted block mb-2 uppercase font-bold tracking-wider",children:"Weight"}),f?y.jsx("div",{className:"flex items-center gap-1",children:y.jsx("input",{value:w.weight,onChange:k=>A({...w,weight:k.target.value}),className:"bg-surface border border-secondary text-text w-16 rounded-lg p-2 text-center text-lg font-bold focus:border-primary focus:outline-none"})}):y.jsx("span",{className:"text-text font-bold text-xl",children:w.weight||"--"})]})]}),y.jsxs("div",{className:"glass-card p-5 rounded-3xl flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-xs text-muted block mb-1 uppercase font-bold tracking-wider",children:"Fitness Goal"}),f?y.jsxs("select",{value:w.goal,onChange:k=>A({...w,goal:k.target.value}),className:"bg-surface border border-secondary text-text rounded-lg p-2 text-sm w-40 focus:border-primary focus:outline-none mt-1",children:[y.jsx("option",{children:"Build Muscle"}),y.jsx("option",{children:"Lose Weight"}),y.jsx("option",{children:"Stay Fit"})]}):y.jsx("span",{className:"text-text font-bold text-lg",children:w.goal})]}),!f&&y.jsx(bo,{size:20,className:"text-muted"})]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"font-bold text-text text-sm uppercase tracking-wider mb-4 px-1",children:"Coach Zone"}),y.jsx("div",{className:"glass-card px-5 rounded-3xl mb-4",children:w.isCoach?y.jsx(U,{icon:Ql,label:"Coach Dashboard",onClick:()=>alert("Coming Soon!")}):w.coachVerificationStatus==="pending"?y.jsx(U,{icon:qg,label:"Verification Pending",value:"Under Review"}):y.jsx(U,{icon:TH,label:"Become a Coach",onClick:()=>t("/verify-coach")})})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"font-bold text-text text-sm uppercase tracking-wider mb-4 px-1",children:"Settings"}),y.jsxs("div",{className:"glass-card px-5 rounded-3xl",children:[y.jsx(U,{icon:Fg,label:"Push Notifications",hasToggle:!0,toggleValue:a,onToggle:s}),y.jsx(U,{icon:_G,label:"Dark Mode",hasToggle:!0,toggleValue:e,onToggle:n}),y.jsx(U,{icon:SG,label:"Units",value:r==="metric"?"Metric (kg/cm)":"Imperial (lbs/ft)",onClick:i})]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"font-bold text-text text-sm uppercase tracking-wider mb-4 px-1",children:"Account"}),y.jsxs("div",{className:"glass-card px-5 rounded-3xl",children:[y.jsx(U,{icon:rh,label:"Change Password",onClick:()=>v(!0)}),y.jsx(U,{icon:IP,label:"Privacy Policy",onClick:()=>t("/privacy")}),y.jsx(U,{icon:SP,label:"Terms of Service",onClick:()=>t("/terms")}),y.jsx(U,{icon:hG,label:"Log Out",isRed:!0,onClick:G})]})]})]}),y.jsx(w0e,{isOpen:m,onClose:()=>v(!1)})]})},T0e=({data:t,color:e="#00E376"})=>y.jsx("div",{className:"h-64 w-full",children:y.jsx(_1,{width:"100%",height:"100%",children:y.jsxs(Bve,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[y.jsx(GF,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)",vertical:!1}),y.jsx(R0,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),y.jsx(eq,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),y.jsx(oF,{contentStyle:{backgroundColor:"#0D1412",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff"},itemStyle:{color:e},cursor:{stroke:"rgba(255,255,255,0.1)",strokeWidth:2}}),y.jsx(QF,{type:"monotone",dataKey:"weight",stroke:e,strokeWidth:3,dot:{fill:"#050B0A",stroke:e,strokeWidth:2,r:4},activeDot:{r:6,fill:e}})]})})}),S0e=()=>{const t=vn(),[e,n]=T.useState("Bench Press"),[r,i]=T.useState([]),[a,s]=T.useState({}),[u,c]=T.useState([]),[f,h]=T.useState(hq),[m,v]=T.useState(!0),[w,A]=T.useState(!1),[S,C]=T.useState("Weightlifting"),[P,D]=T.useState(""),[M,V]=T.useState(""),[U,G]=T.useState(!1),[k,O]=T.useState("Bench Press"),[L,F]=T.useState(""),[j,q]=T.useState(new Date().toISOString().split("T")[0]);T.useEffect(()=>{(async()=>{try{const he=await _q(),me=await qO(),Oe=await BO();he.length>0?i(he):i(pq),Object.keys(me).length>0?s(me):s(mq),Oe.length>0?c(Oe):c(gq)}catch(he){console.error("Failed to load tracker data",he)}finally{v(!1)}})()},[]);const H=X=>{switch(X.toLowerCase()){case"running":return y.jsx(wG,{size:20});case"weightlifting":return y.jsx(zs,{size:20});case"swimming":return y.jsx(QG,{size:20});default:return y.jsx(jG,{size:20})}},_e=X=>{switch(X.toLowerCase()){case"running":return"text-orange-400 bg-orange-500/10 border-orange-500/20";case"weightlifting":return"text-cyan-400 bg-cyan-500/10 border-cyan-500/20";case"swimming":return"text-blue-400 bg-blue-500/10 border-blue-500/20";default:return"text-purple-400 bg-purple-500/10 border-purple-500/20"}},Ce=async()=>{if(!P||!M)return;const X={id:Date.now().toString(),type:S,duration:`${P} min`,calories:parseInt(M),date:"Today",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),icon:S.toLowerCase().includes("run")?"run":S.toLowerCase().includes("swim")?"swim":(S.toLowerCase().includes("lift"),"lift")};i([X,...r]),await e0e(X),A(!1),D(""),V("")},J=async()=>{if(!L)return;await t0e(k,parseFloat(L),j),await n0e({exercise:k,weight:`${L} kg`,date:j});const X=await qO(),he=await BO();s(X),c(he),G(!1),F("")};return y.jsxs("div",{className:"min-h-screen bg-background pb-24 font-sans relative",children:[U&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-surface border border-white/10 rounded-3xl p-6 w-full max-w-sm shadow-2xl",children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Log Strength Stats"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-1 block",children:"Exercise"}),y.jsxs("select",{value:k,onChange:X=>O(X.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-primary/50",children:[y.jsx("option",{children:"Bench Press"}),y.jsx("option",{children:"Squat"}),y.jsx("option",{children:"Deadlift"}),y.jsx("option",{children:"Overhead Press"}),y.jsx("option",{children:"Pull Up"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-1 block",children:"Weight (kg)"}),y.jsx("input",{type:"number",value:L,onChange:X=>F(X.target.value),placeholder:"e.g. 80",className:"w-full bg-black/20 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-primary/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-1 block",children:"Date"}),y.jsx("input",{type:"date",value:j,onChange:X=>q(X.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-primary/50"})]}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx("button",{onClick:()=>G(!1),className:"flex-1 bg-white/5 text-white font-bold py-3 rounded-xl hover:bg-white/10 transition",children:"Cancel"}),y.jsx("button",{onClick:J,className:"flex-1 bg-primary text-black font-bold py-3 rounded-xl hover:opacity-90 transition shadow-[0_0_15px_rgba(0,227,118,0.3)]",children:"Save Stats"})]})]})]})}),w&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-surface border border-white/10 rounded-3xl p-6 w-full max-w-sm shadow-2xl",children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Log Workout"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-1 block",children:"Workout Type"}),y.jsxs("select",{value:S,onChange:X=>C(X.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-primary/50",children:[y.jsx("option",{children:"Weightlifting"}),y.jsx("option",{children:"Running"}),y.jsx("option",{children:"Swimming"}),y.jsx("option",{children:"Yoga"}),y.jsx("option",{children:"HIIT"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-1 block",children:"Duration (minutes)"}),y.jsx("input",{type:"number",value:P,onChange:X=>D(X.target.value),placeholder:"e.g. 45",className:"w-full bg-black/20 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-primary/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-1 block",children:"Calories Burned"}),y.jsx("input",{type:"number",value:M,onChange:X=>V(X.target.value),placeholder:"e.g. 300",className:"w-full bg-black/20 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-primary/50"})]}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx("button",{onClick:()=>A(!1),className:"flex-1 bg-white/5 text-white font-bold py-3 rounded-xl hover:bg-white/10 transition",children:"Cancel"}),y.jsx("button",{onClick:Ce,className:"flex-1 bg-primary text-black font-bold py-3 rounded-xl hover:opacity-90 transition shadow-[0_0_15px_rgba(0,227,118,0.3)]",children:"Save Workout"})]})]})]})}),y.jsxs("header",{className:"px-6 py-6 flex items-center justify-between sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>t("/dashboard"),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Workout Tracker"})]}),y.jsx("button",{className:"text-gray-400 hover:text-white p-2 hover:bg-white/5 rounded-full transition",children:y.jsx(js,{size:20})})]}),y.jsxs("div",{className:"px-6 space-y-8 mt-4",children:[y.jsxs("button",{onClick:()=>A(!0),className:"w-full bg-primary text-black font-bold py-4 rounded-2xl flex items-center justify-center gap-2 shadow-[0_0_20px_rgba(0,227,118,0.3)] hover:opacity-90 transition transform active:scale-95 group",children:[y.jsx("div",{className:"bg-black/10 p-1 rounded-full group-hover:bg-black/20 transition",children:y.jsx(Hg,{size:20})}),y.jsx("span",{className:"text-lg",children:"Log New Workout"})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-white font-bold text-sm uppercase tracking-wider mb-4 flex items-center gap-2",children:[y.jsx($g,{size:16,className:"text-yellow-500"}),"This Week's Progress"]}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsxs("div",{className:"glass-card p-4 rounded-2xl flex flex-col items-center justify-center text-center border border-white/5",children:[y.jsx("div",{className:"mb-2 p-2 bg-blue-500/10 rounded-full text-blue-400",children:y.jsx(zs,{size:18})}),y.jsx("h3",{className:"text-xl font-bold text-white",children:r.length>0?r.length:0}),y.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider mt-1",children:"Workouts"})]}),y.jsxs("div",{className:"glass-card p-4 rounded-2xl flex flex-col items-center justify-center text-center border border-white/5",children:[y.jsx("div",{className:"mb-2 p-2 bg-purple-500/10 rounded-full text-purple-400",children:y.jsx(qg,{size:18})}),y.jsx("h3",{className:"text-xl font-bold text-white",children:"2h 15m"}),y.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider mt-1",children:"Duration"})]}),y.jsxs("div",{className:"glass-card p-4 rounded-2xl flex flex-col items-center justify-center text-center border border-white/5",children:[y.jsx("div",{className:"mb-2 p-2 bg-orange-500/10 rounded-full text-orange-400",children:y.jsx(AP,{size:18})}),y.jsx("h3",{className:"text-xl font-bold text-white",children:r.reduce((X,he)=>X+he.calories,0)}),y.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider mt-1",children:"Calories"})]})]})]}),y.jsxs("div",{className:"glass-card p-6 rounded-3xl border border-white/5",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-white font-bold text-lg",children:"Activity"}),y.jsxs("select",{className:"bg-white/5 border border-white/10 text-xs text-gray-300 rounded-lg px-2 py-1 outline-none",children:[y.jsx("option",{children:"Weekly"}),y.jsx("option",{children:"Monthly"})]})]}),y.jsx("div",{className:"h-48 w-full",children:y.jsx(_1,{width:"100%",height:"100%",children:y.jsxs(dq,{data:f,children:[y.jsx(R0,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12,fontWeight:500},dy:10}),y.jsx(oF,{cursor:{fill:"rgba(255,255,255,0.05)"},contentStyle:{backgroundColor:"#0D1412",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",color:"#fff"}}),y.jsx(EA,{dataKey:"value",radius:[6,6,6,6],barSize:12,children:f.map((X,he)=>y.jsx(N0,{fill:X.active?"#00E376":"#1E293B",className:"transition-all duration-300 hover:opacity-80"},`cell-${he}`))})]})})}),y.jsxs("div",{className:"glass-card p-6 rounded-3xl border border-white/5 mt-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[y.jsx(qG,{size:20,className:"text-primary"}),"Strength Progress"]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"relative",children:[y.jsx("select",{value:e,onChange:X=>n(X.target.value),className:"bg-white/5 border border-white/10 text-xs text-white rounded-lg pl-3 pr-8 py-2 outline-none appearance-none cursor-pointer hover:bg-white/10 transition",children:Object.keys(a).map(X=>y.jsx("option",{value:X,className:"bg-surface text-white",children:X},X))}),y.jsx(U4,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),y.jsx("button",{onClick:()=>G(!0),className:"bg-primary/10 text-primary p-2 rounded-lg hover:bg-primary/20 transition",children:y.jsx(Hg,{size:16})})]})]}),y.jsx(T0e,{data:a[e]||[],color:"#00E376"})]}),y.jsxs("div",{className:"mt-8",children:[y.jsxs("h2",{className:"text-white font-bold text-sm uppercase tracking-wider mb-4 flex items-center gap-2",children:[y.jsx($g,{size:16,className:"text-yellow-500"}),"Personal Records"]}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.map((X,he)=>y.jsxs("div",{className:"glass-card p-4 rounded-2xl border border-white/5 flex flex-col justify-between hover:border-primary/30 transition group",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-1",children:X.exercise}),y.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-primary transition",children:X.weight})]}),y.jsxs("div",{className:"mt-3 flex items-center gap-1 text-[10px] text-gray-500",children:[y.jsx(js,{size:10}),y.jsx("span",{children:X.date})]})]},he))})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsx("h3",{className:"text-white font-bold text-lg",children:"Recent Workouts"}),y.jsx("button",{className:"text-primary text-xs font-bold hover:underline",children:"View All"})]}),y.jsx("div",{className:"space-y-3",children:r.map(X=>y.jsxs("div",{className:"glass-card p-4 rounded-2xl flex items-center justify-between border border-white/5 hover:border-primary/30 transition group cursor-pointer",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center border ${_e(X.icon)} shadow-lg`,children:H(X.icon)}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold group-hover:text-primary transition",children:X.type}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-1",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(qg,{size:10})," ",X.duration]}),y.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-600"}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(AP,{size:10})," ",X.calories," kcal"]})]})]})]}),y.jsx("div",{className:"text-right",children:y.jsx("p",{className:"text-xs text-gray-300 font-medium bg-white/5 px-2 py-1 rounded-lg border border-white/5",children:X.date})})]},X.id))})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let A0e,C0e;function I0e(){return{geminiUrl:A0e,vertexUrl:C0e}}function N0e(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=I0e();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ho{}function xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function _(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];_(h,e.slice(a+1),n[f])}else for(const f of c)_(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];_(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function P0e(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}NT(t,i,a,0,s)}}function NT(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])NT(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const m=[];for(const v of n.slice(r))v==="*"?m.push(f):m.push(v);_(s,m,h)}for(const f of u)delete s[f]}}else{const s=t;a in s&&NT(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R0e(t){const e={},n=g(t,["operationName"]);n!=null&&_(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&_(e,["_url","resourceName"],r),e}function M0e(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],D0e(s)),e}function k0e(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["response"]);return s!=null&&_(e,["response"],O0e(s)),e}function D0e(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>L0e(s))),_(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function O0e(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>V0e(s))),_(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function L0e(t){const e={},n=g(t,["video"]);return n!=null&&_(e,["video"],B0e(n)),e}function V0e(t){const e={},n=g(t,["_self"]);return n!=null&&_(e,["video"],H0e(n)),e}function U0e(t){const e={},n=g(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function j0e(t){const e={},n=g(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function z0e(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["response"]);return s!=null&&_(e,["response"],F0e(s)),e}function F0e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&_(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function wq(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["response"]);return s!=null&&_(e,["response"],q0e(s)),e}function q0e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&_(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function B0e(t){const e={},n=g(t,["uri"]);n!=null&&_(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],kA(r));const i=g(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function H0e(t){const e={},n=g(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],kA(r));const i=g(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var HO;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(HO||(HO={}));var GO;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(GO||(GO={}));var $O;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})($O||($O={}));var tt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(tt||(tt={}));var KO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(KO||(KO={}));var WO;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(WO||(WO={}));var YO;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(YO||(YO={}));var JO;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(JO||(JO={}));var XO;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(XO||(XO={}));var QO;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(QO||(QO={}));var ZO;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ZO||(ZO={}));var eL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(eL||(eL={}));var tL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(tL||(tL={}));var nL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(nL||(nL={}));var rL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(rL||(rL={}));var iL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(iL||(iL={}));var aL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(aL||(aL={}));var oL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(oL||(oL={}));var sL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sL||(sL={}));var av;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(av||(av={}));var lL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lL||(lL={}));var uL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(uL||(uL={}));var cL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(cL||(cL={}));var PT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(PT||(PT={}));var fL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fL||(fL={}));var dL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dL||(dL={}));var hL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(hL||(hL={}));var pL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(pL||(pL={}));var mL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mL||(mL={}));var gL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(gL||(gL={}));var yL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(yL||(yL={}));var vL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vL||(vL={}));var _L;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(_L||(_L={}));var bL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bL||(bL={}));var xL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xL||(xL={}));var wL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wL||(wL={}));var EL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(EL||(EL={}));var TL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(TL||(TL={}));var SL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(SL||(SL={}));var AL;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(AL||(AL={}));var CL;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(CL||(CL={}));var IL;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(IL||(IL={}));var NL;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(NL||(NL={}));var PL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(PL||(PL={}));var RL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(RL||(RL={}));var ML;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ML||(ML={}));var kL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kL||(kL={}));var DL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(DL||(DL={}));var OL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(OL||(OL={}));var LL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(LL||(LL={}));var VL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(VL||(VL={}));var UL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(UL||(UL={}));var jL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jL||(jL={}));var zL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(zL||(zL={}));var _c;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_c||(_c={}));class RT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Md{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const v of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[w,A]of Object.entries(v))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(A!==null||A!==void 0)&&m.push(w);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,w]of Object.entries(m))v!=="inlineData"&&(w!==null||w!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class FL{}class qL{}class G0e{}class $0e{}class K0e{}class W0e{}class BL{}class HL{}class GL{}class Y0e{}class ov{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ov;let i;const a=e;return n?i=k0e(a):i=M0e(a),Object.assign(r,i),r}}class $L{}class KL{}class WL{}class J0e{}class X0e{}class Q0e{}class DA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new DA,a=z0e(e);return Object.assign(r,a),r}}class Z0e{}class e_e{}class t_e{}class YL{}class n_e{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class r_e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class OA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new OA,a=wq(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Eq(t,e){const n=st(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Tq(t){return Array.isArray(t)?t.map(e=>sv(e)):[sv(t)]}function sv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Sq(t){const e=sv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Aq(t){const e=sv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function JL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Cq(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>JL(e)):[JL(t)]}function MT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function XL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function QL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function rr(t){if(t==null)throw new Error("ContentUnion is required");return MT(t)?t:{role:"user",parts:Cq(t)}}function LA(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=rr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=rr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>rr(n)):[rr(e)]}function Ei(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(XL(t)||QL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rr(t)]}const e=[],n=[],r=MT(t[0]);for(const i of t){const a=MT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(XL(i)||QL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Cq(n)}),e}function i_e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(tt).includes(n[0].toUpperCase())?n[0].toUpperCase():tt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(tt).includes(r.toUpperCase())?r.toUpperCase():tt.TYPE_UNSPECIFIED})}}function Nc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&i_e(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(tt).includes(u.toUpperCase())?u.toUpperCase():tt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Nc(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Nc(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=Nc(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function VA(t){return Nc(t)}function UA(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function jA(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function gf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nc(e.response));return t}function yf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function a_e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Go(t,e){if(typeof e!="string")throw new Error("name must be a string");return a_e(t,e,"cachedContents")}function Iq(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sl(t){return kA(t)}function o_e(t){return t!=null&&typeof t=="object"&&"name"in t}function s_e(t){return t!=null&&typeof t=="object"&&"video"in t}function l_e(t){return t!=null&&typeof t=="object"&&"uri"in t}function Nq(t){var e;let n;if(o_e(t)&&(n=t.name),!(l_e(t)&&(n=t.uri,n===void 0))&&!(s_e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Pq(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Rq(t){for(const e of["models","tunedModels","publisherModels"])if(u_e(t,e))return t[e];return[]}function u_e(t,e){return t!==null&&typeof t=="object"&&e in t}function c_e(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function f_e(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=c_e(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Mq(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function d_e(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function kq(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Dq(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_e(t){const e={},n=g(t,["responsesFile"]);n!=null&&_(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>K_e(s))),_(e,["inlinedResponses"],a)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["inlinedEmbedContentResponses"],a)}return e}function p_e(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&_(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&_(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function m_e(t){const e={},n=g(t,["format"]);n!=null&&_(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&_(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&_(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ug(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&_(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&_(e,["state"],Dq(i));const a=g(t,["metadata","createTime"]);a!=null&&_(e,["createTime"],a);const s=g(t,["metadata","endTime"]);s!=null&&_(e,["endTime"],s);const u=g(t,["metadata","updateTime"]);u!=null&&_(e,["updateTime"],u);const c=g(t,["metadata","model"]);c!=null&&_(e,["model"],c);const f=g(t,["metadata","output"]);return f!=null&&_(e,["dest"],h_e(kq(f))),e}function kT(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=g(t,["state"]);i!=null&&_(e,["state"],Dq(i));const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["createTime"]);s!=null&&_(e,["createTime"],s);const u=g(t,["startTime"]);u!=null&&_(e,["startTime"],u);const c=g(t,["endTime"]);c!=null&&_(e,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&_(e,["updateTime"],f);const h=g(t,["model"]);h!=null&&_(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&_(e,["src"],g_e(m));const v=g(t,["outputConfig"]);v!=null&&_(e,["dest"],p_e(kq(v)));const w=g(t,["completionStats"]);return w!=null&&_(e,["completionStats"],w),e}function g_e(t){const e={},n=g(t,["instancesFormat"]);n!=null&&_(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&_(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function y_e(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&_(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>$_e(t,s))),_(n,["requests","requests"],a)}return n}function v_e(t){const e={},n=g(t,["format"]);n!=null&&_(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&_(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&_(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function __e(t){const e={},n=g(t,["data"]);if(n!=null&&_(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function b_e(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],vf(t,r)),n}function x_e(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],vf(t,r)),n}function w_e(t){const e={},n=g(t,["content"]);n!=null&&_(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],E_e(r));const i=g(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&_(e,["finishReason"],a);const s=g(t,["avgLogprobs"]);s!=null&&_(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&_(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&_(e,["index"],c);const f=g(t,["logprobsResult"]);f!=null&&_(e,["logprobsResult"],f);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),_(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&_(e,["urlContextMetadata"],m),e}function E_e(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function Oq(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ebe(a))),_(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&_(e,["role"],r),e}function T_e(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&_(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function S_e(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&_(e,["outputConfig"],m_e(d_e(i))),n}function ZL(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["src"]);i!=null&&_(n,["batch","inputConfig"],y_e(t,Mq(t,i)));const a=g(e,["config"]);return a!=null&&T_e(a,n),n}function A_e(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["model"],st(t,r));const i=g(e,["src"]);i!=null&&_(n,["inputConfig"],v_e(Mq(t,i)));const a=g(e,["config"]);return a!=null&&S_e(a,n),n}function C_e(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["batch","displayName"],r),n}function I_e(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["src"]);i!=null&&_(n,["batch","inputConfig"],O_e(t,i));const a=g(e,["config"]);return a!=null&&C_e(a,n),n}function N_e(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],vf(t,r)),n}function P_e(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],vf(t,r)),n}function R_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&_(e,["name"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);return a!=null&&_(e,["error"],a),e}function M_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&_(e,["name"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);return a!=null&&_(e,["error"],a),e}function k_e(t,e){const n={},r=g(e,["contents"]);if(r!=null){let a=LA(t,r);Array.isArray(a)&&(a=a.map(s=>s)),_(n,["requests[]","request","content"],a)}const i=g(e,["config"]);return i!=null&&(_(n,["_self"],D_e(i,n)),P0e(n,{"requests[].*":"requests[].request.*"})),n}function D_e(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&_(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function O_e(t,e){const n={},r=g(e,["fileName"]);r!=null&&_(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&_(n,["requests"],k_e(t,i)),n}function L_e(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function V_e(t){const e={},n=g(t,["id"]);n!=null&&_(e,["id"],n);const r=g(t,["args"]);r!=null&&_(e,["args"],r);const i=g(t,["name"]);if(i!=null&&_(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function U_e(t){const e={},n=g(t,["mode"]);n!=null&&_(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&_(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function j_e(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],Oq(rr(i)));const a=g(e,["temperature"]);a!=null&&_(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&_(r,["topP"],s);const u=g(e,["topK"]);u!=null&&_(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&_(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&_(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&_(r,["logprobs"],v);const w=g(e,["presencePenalty"]);w!=null&&_(r,["presencePenalty"],w);const A=g(e,["frequencyPenalty"]);A!=null&&_(r,["frequencyPenalty"],A);const S=g(e,["seed"]);S!=null&&_(r,["seed"],S);const C=g(e,["responseMimeType"]);C!=null&&_(r,["responseMimeType"],C);const P=g(e,["responseSchema"]);P!=null&&_(r,["responseSchema"],VA(P));const D=g(e,["responseJsonSchema"]);if(D!=null&&_(r,["responseJsonSchema"],D),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=g(e,["safetySettings"]);if(n!==void 0&&M!=null){let q=M;Array.isArray(q)&&(q=q.map(H=>tbe(H))),_(n,["safetySettings"],q)}const V=g(e,["tools"]);if(n!==void 0&&V!=null){let q=yf(V);Array.isArray(q)&&(q=q.map(H=>rbe(gf(H)))),_(n,["tools"],q)}const U=g(e,["toolConfig"]);if(n!==void 0&&U!=null&&_(n,["toolConfig"],nbe(U)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&_(n,["cachedContent"],Go(t,G));const k=g(e,["responseModalities"]);k!=null&&_(r,["responseModalities"],k);const O=g(e,["mediaResolution"]);O!=null&&_(r,["mediaResolution"],O);const L=g(e,["speechConfig"]);if(L!=null&&_(r,["speechConfig"],UA(L)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=g(e,["thinkingConfig"]);F!=null&&_(r,["thinkingConfig"],F);const j=g(e,["imageConfig"]);return j!=null&&_(r,["imageConfig"],G_e(j)),r}function z_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>w_e(f))),_(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&_(e,["promptFeedback"],a);const s=g(t,["responseId"]);s!=null&&_(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&_(e,["usageMetadata"],u),e}function F_e(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],vf(t,r)),n}function q_e(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],vf(t,r)),n}function B_e(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function H_e(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function G_e(t){const e={},n=g(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $_e(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["request","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let u=Ei(i);Array.isArray(u)&&(u=u.map(c=>Oq(c))),_(n,["request","contents"],u)}const a=g(e,["metadata"]);a!=null&&_(n,["metadata"],a);const s=g(e,["config"]);return s!=null&&_(n,["request","generationConfig"],j_e(t,s,g(n,["request"],{}))),n}function K_e(t){const e={},n=g(t,["response"]);n!=null&&_(e,["response"],z_e(n));const r=g(t,["error"]);return r!=null&&_(e,["error"],r),e}function W_e(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Y_e(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const a=g(t,["filter"]);return e!==void 0&&a!=null&&_(e,["_query","filter"],a),n}function J_e(t){const e={},n=g(t,["config"]);return n!=null&&W_e(n,e),e}function X_e(t){const e={},n=g(t,["config"]);return n!=null&&Y_e(n,e),e}function Q_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ug(s))),_(e,["batchJobs"],a)}return e}function Z_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>kT(s))),_(e,["batchJobs"],a)}return e}function ebe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&_(e,["fileData"],L_e(a));const s=g(t,["functionCall"]);s!=null&&_(e,["functionCall"],V_e(s));const u=g(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&_(e,["inlineData"],__e(c));const f=g(t,["text"]);f!=null&&_(e,["text"],f);const h=g(t,["thought"]);h!=null&&_(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&_(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&_(e,["videoMetadata"],v),e}function tbe(t){const e={},n=g(t,["category"]);if(n!=null&&_(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function nbe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],U_e(n));const r=g(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],r),e}function rbe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),_(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],B_e(u));const c=g(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],H_e(c));const f=g(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Vo||(Vo={}));class xu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ibe extends Ho{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new xu(Vo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=ZL(this.apiClient,e),r=n._url,i=xe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const w=m.request;w.systemInstruction=v,m.request=w}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=A_e(this.apiClient,e);return u=xe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>kT(h))}else{const f=ZL(this.apiClient,e);return u=xe("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ug(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=I_e(this.apiClient,e);return a=xe("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Ug(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=q_e(this.apiClient,e);return u=xe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>kT(h))}else{const f=F_e(this.apiClient,e);return u=xe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ug(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=x_e(this.apiClient,e);s=xe("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=b_e(this.apiClient,e);s=xe("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=X_e(e);return u=xe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Z_e(h),v=new YL;return Object.assign(v,m),v})}else{const f=J_e(e);return u=xe("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Q_e(h),v=new YL;return Object.assign(v,m),v})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=P_e(this.apiClient,e);return u=xe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>M_e(h))}else{const f=N_e(this.apiClient,e);return u=xe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>R_e(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function abe(t){const e={},n=g(t,["data"]);if(n!=null&&_(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function e4(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Ibe(a))),_(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&_(e,["role"],r),e}function obe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&_(e,["displayName"],a);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let h=Ei(s);Array.isArray(h)&&(h=h.map(m=>e4(m))),_(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],e4(rr(u)));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Pbe(m))),_(e,["tools"],h)}const f=g(t,["toolConfig"]);if(e!==void 0&&f!=null&&_(e,["toolConfig"],Nbe(f)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function sbe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&_(e,["displayName"],a);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let m=Ei(s);Array.isArray(m)&&(m=m.map(v=>v)),_(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],rr(u));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>Rbe(v))),_(e,["tools"],m)}const f=g(t,["toolConfig"]);e!==void 0&&f!=null&&_(e,["toolConfig"],f);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&_(e,["encryption_spec","kmsKeyName"],h),n}function lbe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["model"],Eq(t,r));const i=g(e,["config"]);return i!=null&&obe(i,n),n}function ube(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["model"],Eq(t,r));const i=g(e,["config"]);return i!=null&&sbe(i,n),n}function cbe(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],Go(t,r)),n}function fbe(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],Go(t,r)),n}function dbe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function hbe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function pbe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function mbe(t){const e={},n=g(t,["id"]);n!=null&&_(e,["id"],n);const r=g(t,["args"]);r!=null&&_(e,["args"],r);const i=g(t,["name"]);if(i!=null&&_(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gbe(t){const e={},n=g(t,["mode"]);n!=null&&_(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&_(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ybe(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&_(e,["description"],n);const r=g(t,["name"]);r!=null&&_(e,["name"],r);const i=g(t,["parameters"]);i!=null&&_(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&_(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&_(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&_(e,["responseJsonSchema"],u),e}function vbe(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],Go(t,r)),n}function _be(t,e){const n={},r=g(e,["name"]);return r!=null&&_(n,["_url","name"],Go(t,r)),n}function bbe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function xbe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function wbe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Ebe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Tbe(t){const e={},n=g(t,["config"]);return n!=null&&wbe(n,e),e}function Sbe(t){const e={},n=g(t,["config"]);return n!=null&&Ebe(n,e),e}function Abe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["cachedContents"],a)}return e}function Cbe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["cachedContents"],a)}return e}function Ibe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&_(e,["fileData"],pbe(a));const s=g(t,["functionCall"]);s!=null&&_(e,["functionCall"],mbe(s));const u=g(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&_(e,["inlineData"],abe(c));const f=g(t,["text"]);f!=null&&_(e,["text"],f);const h=g(t,["thought"]);h!=null&&_(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&_(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&_(e,["videoMetadata"],v),e}function Nbe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],gbe(n));const r=g(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],r),e}function Pbe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),_(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],bbe(u));const c=g(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],xbe(c));const f=g(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function Rbe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>ybe(v))),_(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&_(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&_(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&_(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&_(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&_(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function Mbe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function kbe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function Dbe(t,e){const n={},r=g(e,["name"]);r!=null&&_(n,["_url","name"],Go(t,r));const i=g(e,["config"]);return i!=null&&Mbe(i,n),n}function Obe(t,e){const n={},r=g(e,["name"]);r!=null&&_(n,["_url","name"],Go(t,r));const i=g(e,["config"]);return i!=null&&kbe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lbe extends Ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xu(Vo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ube(this.apiClient,e);return u=xe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=lbe(this.apiClient,e);return u=xe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_be(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=vbe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=fbe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=hbe(h),v=new KL;return Object.assign(v,m),v})}else{const f=cbe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=dbe(h),v=new KL;return Object.assign(v,m),v})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Obe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Dbe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Sbe(e);return u=xe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Cbe(h),v=new WL;return Object.assign(v,m),v})}else{const f=Tbe(e);return u=xe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Abe(h),v=new WL;return Object.assign(v,m),v})}}}function t4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(t){return this instanceof Pt?(this.v=t,this):new Pt(t)}function Pc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(A){return Promise.resolve(A).then(w,m)}}function u(w,A){r[w]&&(i[w]=function(S){return new Promise(function(C,P){a.push([w,S,C,P])>1||c(w,S)})},A&&(i[w]=A(i[w])))}function c(w,A){try{f(r[w](A))}catch(S){v(a[0][3],S)}}function f(w){w.value instanceof Pt?Promise.resolve(w.value.v).then(h,m):v(a[0][2],w)}function h(w){c("next",w)}function m(w){c("throw",w)}function v(w,A){w(A),a.shift(),a.length&&c(a[0][0],a[0][1])}}function eh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof t4=="function"?t4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(f){a({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vbe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Lq(n)}function Lq(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ube(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function n4(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!Lq(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class jbe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new zbe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zbe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Ube(a)}async sendMessage(e){var n;await this.sendPromise;const r=rr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const w=f?[f]:[];this.recordHistory(r,w,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=rr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?n4(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Pc(this,arguments,function*(){var s,u,c,f;const h=[];try{for(var m=!0,v=eh(e),w;w=yield Pt(v.next()),s=w.done,!s;m=!0){f=w.value,m=!1;const A=f;if(Vbe(A)){const S=(i=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield Pt(A)}}catch(A){u={error:A}}finally{try{!m&&!s&&(c=v.return)&&(yield Pt(c.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...n4(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,M0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fbe(t){const e={},n=g(t,["file"]);return n!=null&&_(e,["file"],n),e}function qbe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Bbe(t){const e={},n=g(t,["name"]);return n!=null&&_(e,["_url","file"],Nq(n)),e}function Hbe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Gbe(t){const e={},n=g(t,["name"]);return n!=null&&_(e,["_url","file"],Nq(n)),e}function $be(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Kbe(t){const e={},n=g(t,["config"]);return n!=null&&$be(n,e),e}function Wbe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ybe extends Ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xu(Vo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kbe(e);return a=xe("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Wbe(c),h=new Z0e;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Fbe(e);return a=xe("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=qbe(c),h=new e_e;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gbe(e);return a=xe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Bbe(e);return a=xe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Hbe(c),h=new t_e;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jg(t){const e={},n=g(t,["data"]);if(n!=null&&_(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Jbe(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>dxe(a))),_(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&_(e,["role"],r),e}function Xbe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Qbe(t){const e={},n=g(t,["id"]);n!=null&&_(e,["id"],n);const r=g(t,["args"]);r!=null&&_(e,["args"],r);const i=g(t,["name"]);if(i!=null&&_(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zbe(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&_(e,["description"],n);const r=g(t,["name"]);r!=null&&_(e,["name"],r);const i=g(t,["parameters"]);i!=null&&_(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&_(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&_(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&_(e,["responseJsonSchema"],u),e}function exe(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&_(e,["candidateCount"],a);const s=g(t,["enableAffectiveDialog"]);s!=null&&_(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&_(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&_(e,["logprobs"],c);const f=g(t,["maxOutputTokens"]);f!=null&&_(e,["maxOutputTokens"],f);const h=g(t,["mediaResolution"]);h!=null&&_(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&_(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&_(e,["responseLogprobs"],v);const w=g(t,["responseMimeType"]);w!=null&&_(e,["responseMimeType"],w);const A=g(t,["responseModalities"]);A!=null&&_(e,["responseModalities"],A);const S=g(t,["responseSchema"]);S!=null&&_(e,["responseSchema"],S);const C=g(t,["routingConfig"]);C!=null&&_(e,["routingConfig"],C);const P=g(t,["seed"]);P!=null&&_(e,["seed"],P);const D=g(t,["speechConfig"]);D!=null&&_(e,["speechConfig"],Vq(D));const M=g(t,["stopSequences"]);M!=null&&_(e,["stopSequences"],M);const V=g(t,["temperature"]);V!=null&&_(e,["temperature"],V);const U=g(t,["thinkingConfig"]);U!=null&&_(e,["thinkingConfig"],U);const G=g(t,["topK"]);G!=null&&_(e,["topK"],G);const k=g(t,["topP"]);if(k!=null&&_(e,["topP"],k),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function txe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function nxe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function rxe(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","speechConfig"],jA(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","thinkingConfig"],v);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],w);const A=g(t,["systemInstruction"]);e!==void 0&&A!=null&&_(e,["setup","systemInstruction"],Jbe(rr(A)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let G=yf(S);Array.isArray(G)&&(G=G.map(k=>pxe(gf(k)))),_(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&_(e,["setup","sessionResumption"],hxe(C));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&_(e,["setup","inputAudioTranscription"],P);const D=g(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&_(e,["setup","outputAudioTranscription"],D);const M=g(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&_(e,["setup","realtimeInputConfig"],M);const V=g(t,["contextWindowCompression"]);e!==void 0&&V!=null&&_(e,["setup","contextWindowCompression"],V);const U=g(t,["proactivity"]);return e!==void 0&&U!=null&&_(e,["setup","proactivity"],U),n}function ixe(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],exe(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","speechConfig"],Vq(jA(m)));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","thinkingConfig"],v);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],w);const A=g(t,["systemInstruction"]);e!==void 0&&A!=null&&_(e,["setup","systemInstruction"],rr(A));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let G=yf(S);Array.isArray(G)&&(G=G.map(k=>mxe(gf(k)))),_(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&_(e,["setup","sessionResumption"],C);const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&_(e,["setup","inputAudioTranscription"],P);const D=g(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&_(e,["setup","outputAudioTranscription"],D);const M=g(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&_(e,["setup","realtimeInputConfig"],M);const V=g(t,["contextWindowCompression"]);e!==void 0&&V!=null&&_(e,["setup","contextWindowCompression"],V);const U=g(t,["proactivity"]);return e!==void 0&&U!=null&&_(e,["setup","proactivity"],U),n}function axe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&_(n,["config"],rxe(i,n)),n}function oxe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&_(n,["config"],ixe(i,n)),n}function sxe(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&_(e,["musicGenerationConfig"],n),e}function lxe(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["weightedPrompts"],r)}return e}function uxe(t){const e={},n=g(t,["media"]);if(n!=null){let f=Tq(n);Array.isArray(f)&&(f=f.map(h=>jg(h))),_(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&_(e,["audio"],jg(Aq(r)));const i=g(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&_(e,["video"],jg(Sq(a)));const s=g(t,["text"]);s!=null&&_(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function cxe(t){const e={},n=g(t,["media"]);if(n!=null){let f=Tq(n);Array.isArray(f)&&(f=f.map(h=>h)),_(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&_(e,["audio"],Aq(r));const i=g(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&_(e,["video"],Sq(a));const s=g(t,["text"]);s!=null&&_(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function fxe(t){const e={},n=g(t,["setupComplete"]);n!=null&&_(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&_(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&_(e,["toolCall"],i);const a=g(t,["toolCallCancellation"]);a!=null&&_(e,["toolCallCancellation"],a);const s=g(t,["usageMetadata"]);s!=null&&_(e,["usageMetadata"],gxe(s));const u=g(t,["goAway"]);u!=null&&_(e,["goAway"],u);const c=g(t,["sessionResumptionUpdate"]);return c!=null&&_(e,["sessionResumptionUpdate"],c),e}function dxe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&_(e,["fileData"],Xbe(a));const s=g(t,["functionCall"]);s!=null&&_(e,["functionCall"],Qbe(s));const u=g(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&_(e,["inlineData"],jg(c));const f=g(t,["text"]);f!=null&&_(e,["text"],f);const h=g(t,["thought"]);h!=null&&_(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&_(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&_(e,["videoMetadata"],v),e}function hxe(t){const e={},n=g(t,["handle"]);if(n!=null&&_(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vq(t){const e={},n=g(t,["languageCode"]);n!=null&&_(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&_(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function pxe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),_(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],txe(u));const c=g(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],nxe(c));const f=g(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function mxe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Zbe(v))),_(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&_(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&_(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&_(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&_(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&_(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function gxe(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&_(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&_(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const a=g(t,["toolUsePromptTokenCount"]);a!=null&&_(e,["toolUsePromptTokenCount"],a);const s=g(t,["thoughtsTokenCount"]);s!=null&&_(e,["thoughtsTokenCount"],s);const u=g(t,["totalTokenCount"]);u!=null&&_(e,["totalTokenCount"],u);const c=g(t,["promptTokensDetails"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(A=>A)),_(e,["promptTokensDetails"],w)}const f=g(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(A=>A)),_(e,["cacheTokensDetails"],w)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(A=>A)),_(e,["responseTokensDetails"],w)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(A=>A)),_(e,["toolUsePromptTokensDetails"],w)}const v=g(t,["trafficType"]);return v!=null&&_(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yxe(t){const e={},n=g(t,["data"]);if(n!=null&&_(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function vxe(t){const e={},n=g(t,["content"]);n!=null&&_(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],_xe(r));const i=g(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&_(e,["finishReason"],a);const s=g(t,["avgLogprobs"]);s!=null&&_(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&_(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&_(e,["index"],c);const f=g(t,["logprobsResult"]);f!=null&&_(e,["logprobsResult"],f);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),_(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&_(e,["urlContextMetadata"],m),e}function _xe(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function bxe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let a=Ei(i);Array.isArray(a)&&(a=a.map(s=>s)),_(n,["contents"],a)}return n}function xxe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),_(e,["tokensInfo"],i)}return e}function wxe(t){const e={},n=g(t,["values"]);n!=null&&_(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&_(e,["statistics"],Exe(r)),e}function Exe(t){const e={},n=g(t,["truncated"]);n!=null&&_(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&_(e,["tokenCount"],r),e}function k0(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Mwe(a))),_(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&_(e,["role"],r),e}function Txe(t){const e={},n=g(t,["controlType"]);n!=null&&_(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&_(e,["computeControl"],r),e}function Sxe(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Axe(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&_(e,["systemInstruction"],rr(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>qq(u))),_(e,["tools"],s)}const a=g(t,["generationConfig"]);return e!==void 0&&a!=null&&_(e,["generationConfig"],ywe(a)),n}function Cxe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=Ei(i);Array.isArray(s)&&(s=s.map(u=>k0(u))),_(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&Sxe(a),n}function Ixe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=Ei(i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&Axe(a,n),n}function Nxe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&_(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&_(e,["cachedContentTokenCount"],i),e}function Pxe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&_(e,["totalTokens"],r),e}function Rxe(t,e){const n={},r=g(e,["model"]);return r!=null&&_(n,["_url","name"],st(t,r)),n}function Mxe(t,e){const n={},r=g(e,["model"]);return r!=null&&_(n,["_url","name"],st(t,r)),n}function kxe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Dxe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Oxe(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&_(e,["parameters","sampleCount"],a);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&_(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&_(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&_(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&_(e,["parameters","includeRaiReason"],v);const w=g(t,["language"]);e!==void 0&&w!=null&&_(e,["parameters","language"],w);const A=g(t,["outputMimeType"]);e!==void 0&&A!=null&&_(e,["parameters","outputOptions","mimeType"],A);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&_(e,["parameters","outputOptions","compressionQuality"],S);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&_(e,["parameters","addWatermark"],C);const P=g(t,["labels"]);e!==void 0&&P!=null&&_(e,["labels"],P);const D=g(t,["editMode"]);e!==void 0&&D!=null&&_(e,["parameters","editMode"],D);const M=g(t,["baseSteps"]);return e!==void 0&&M!=null&&_(e,["parameters","editConfig","baseSteps"],M),n}function Lxe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=g(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Uwe(c))),_(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&Oxe(s,n),n}function Vxe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>D0(a))),_(e,["generatedImages"],i)}return e}function Uxe(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&_(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jxe(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&_(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&_(e,["instances[]","title"],i);const a=g(t,["outputDimensionality"]);e!==void 0&&a!=null&&_(e,["parameters","outputDimensionality"],a);const s=g(t,["mimeType"]);e!==void 0&&s!=null&&_(e,["instances[]","mimeType"],s);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&_(e,["parameters","autoTruncate"],u),n}function zxe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let u=LA(t,i);Array.isArray(u)&&(u=u.map(c=>c)),_(n,["requests[]","content"],u)}const a=g(e,["config"]);a!=null&&Uxe(a,n);const s=g(e,["model"]);return s!==void 0&&_(n,["requests[]","model"],st(t,s)),n}function Fxe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=LA(t,i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["instances[]","content"],s)}const a=g(e,["config"]);return a!=null&&jxe(a,n),n}function qxe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&_(e,["metadata"],i),e}function Bxe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>wxe(s))),_(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&_(e,["metadata"],i),e}function Hxe(t){const e={},n=g(t,["endpoint"]);n!=null&&_(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&_(e,["deployedModelId"],r),e}function Gxe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function $xe(t){const e={},n=g(t,["id"]);n!=null&&_(e,["id"],n);const r=g(t,["args"]);r!=null&&_(e,["args"],r);const i=g(t,["name"]);if(i!=null&&_(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kxe(t){const e={},n=g(t,["mode"]);n!=null&&_(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&_(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Wxe(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&_(e,["description"],n);const r=g(t,["name"]);r!=null&&_(e,["name"],r);const i=g(t,["parameters"]);i!=null&&_(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&_(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&_(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&_(e,["responseJsonSchema"],u),e}function Yxe(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],k0(rr(i)));const a=g(e,["temperature"]);a!=null&&_(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&_(r,["topP"],s);const u=g(e,["topK"]);u!=null&&_(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&_(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&_(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&_(r,["logprobs"],v);const w=g(e,["presencePenalty"]);w!=null&&_(r,["presencePenalty"],w);const A=g(e,["frequencyPenalty"]);A!=null&&_(r,["frequencyPenalty"],A);const S=g(e,["seed"]);S!=null&&_(r,["seed"],S);const C=g(e,["responseMimeType"]);C!=null&&_(r,["responseMimeType"],C);const P=g(e,["responseSchema"]);P!=null&&_(r,["responseSchema"],VA(P));const D=g(e,["responseJsonSchema"]);if(D!=null&&_(r,["responseJsonSchema"],D),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=g(e,["safetySettings"]);if(n!==void 0&&M!=null){let q=M;Array.isArray(q)&&(q=q.map(H=>jwe(H))),_(n,["safetySettings"],q)}const V=g(e,["tools"]);if(n!==void 0&&V!=null){let q=yf(V);Array.isArray(q)&&(q=q.map(H=>$we(gf(H)))),_(n,["tools"],q)}const U=g(e,["toolConfig"]);if(n!==void 0&&U!=null&&_(n,["toolConfig"],Gwe(U)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&_(n,["cachedContent"],Go(t,G));const k=g(e,["responseModalities"]);k!=null&&_(r,["responseModalities"],k);const O=g(e,["mediaResolution"]);O!=null&&_(r,["mediaResolution"],O);const L=g(e,["speechConfig"]);if(L!=null&&_(r,["speechConfig"],UA(L)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=g(e,["thinkingConfig"]);F!=null&&_(r,["thinkingConfig"],F);const j=g(e,["imageConfig"]);return j!=null&&_(r,["imageConfig"],wwe(j)),r}function Jxe(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],rr(i));const a=g(e,["temperature"]);a!=null&&_(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&_(r,["topP"],s);const u=g(e,["topK"]);u!=null&&_(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&_(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&_(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&_(r,["logprobs"],v);const w=g(e,["presencePenalty"]);w!=null&&_(r,["presencePenalty"],w);const A=g(e,["frequencyPenalty"]);A!=null&&_(r,["frequencyPenalty"],A);const S=g(e,["seed"]);S!=null&&_(r,["seed"],S);const C=g(e,["responseMimeType"]);C!=null&&_(r,["responseMimeType"],C);const P=g(e,["responseSchema"]);P!=null&&_(r,["responseSchema"],VA(P));const D=g(e,["responseJsonSchema"]);D!=null&&_(r,["responseJsonSchema"],D);const M=g(e,["routingConfig"]);M!=null&&_(r,["routingConfig"],M);const V=g(e,["modelSelectionConfig"]);V!=null&&_(r,["modelConfig"],V);const U=g(e,["safetySettings"]);if(n!==void 0&&U!=null){let J=U;Array.isArray(J)&&(J=J.map(X=>X)),_(n,["safetySettings"],J)}const G=g(e,["tools"]);if(n!==void 0&&G!=null){let J=yf(G);Array.isArray(J)&&(J=J.map(X=>qq(gf(X)))),_(n,["tools"],J)}const k=g(e,["toolConfig"]);n!==void 0&&k!=null&&_(n,["toolConfig"],k);const O=g(e,["labels"]);n!==void 0&&O!=null&&_(n,["labels"],O);const L=g(e,["cachedContent"]);n!==void 0&&L!=null&&_(n,["cachedContent"],Go(t,L));const F=g(e,["responseModalities"]);F!=null&&_(r,["responseModalities"],F);const j=g(e,["mediaResolution"]);j!=null&&_(r,["mediaResolution"],j);const q=g(e,["speechConfig"]);q!=null&&_(r,["speechConfig"],Fq(UA(q)));const H=g(e,["audioTimestamp"]);H!=null&&_(r,["audioTimestamp"],H);const _e=g(e,["thinkingConfig"]);_e!=null&&_(r,["thinkingConfig"],_e);const Ce=g(e,["imageConfig"]);return Ce!=null&&_(r,["imageConfig"],Ewe(Ce)),r}function r4(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=Ei(i);Array.isArray(s)&&(s=s.map(u=>k0(u))),_(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&_(n,["generationConfig"],Yxe(t,a,n)),n}function i4(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=Ei(i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&_(n,["generationConfig"],Jxe(t,a,n)),n}function a4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>vxe(f))),_(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&_(e,["promptFeedback"],a);const s=g(t,["responseId"]);s!=null&&_(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&_(e,["usageMetadata"],u),e}function o4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),_(e,["candidates"],f)}const i=g(t,["createTime"]);i!=null&&_(e,["createTime"],i);const a=g(t,["modelVersion"]);a!=null&&_(e,["modelVersion"],a);const s=g(t,["promptFeedback"]);s!=null&&_(e,["promptFeedback"],s);const u=g(t,["responseId"]);u!=null&&_(e,["responseId"],u);const c=g(t,["usageMetadata"]);return c!=null&&_(e,["usageMetadata"],c),e}function Xxe(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&_(e,["parameters","aspectRatio"],i);const a=g(t,["guidanceScale"]);if(e!==void 0&&a!=null&&_(e,["parameters","guidanceScale"],a),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&_(e,["parameters","safetySetting"],s);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u);const c=g(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&_(e,["parameters","includeSafetyAttributes"],c);const f=g(t,["includeRaiReason"]);e!==void 0&&f!=null&&_(e,["parameters","includeRaiReason"],f);const h=g(t,["language"]);e!==void 0&&h!=null&&_(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&_(e,["parameters","outputOptions","mimeType"],m);const v=g(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&_(e,["parameters","outputOptions","compressionQuality"],v),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=g(t,["imageSize"]);if(e!==void 0&&w!=null&&_(e,["parameters","sampleImageSize"],w),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Qxe(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&_(e,["parameters","sampleCount"],a);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&_(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&_(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&_(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&_(e,["parameters","includeRaiReason"],v);const w=g(t,["language"]);e!==void 0&&w!=null&&_(e,["parameters","language"],w);const A=g(t,["outputMimeType"]);e!==void 0&&A!=null&&_(e,["parameters","outputOptions","mimeType"],A);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&_(e,["parameters","outputOptions","compressionQuality"],S);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&_(e,["parameters","addWatermark"],C);const P=g(t,["labels"]);e!==void 0&&P!=null&&_(e,["labels"],P);const D=g(t,["imageSize"]);e!==void 0&&D!=null&&_(e,["parameters","sampleImageSize"],D);const M=g(t,["enhancePrompt"]);return e!==void 0&&M!=null&&_(e,["parameters","enhancePrompt"],M),n}function Zxe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&Xxe(a,n),n}function ewe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&Qxe(a,n),n}function twe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>hwe(s))),_(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&_(e,["positivePromptSafetyAttributes"],jq(i)),e}function nwe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>D0(s))),_(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&_(e,["positivePromptSafetyAttributes"],zq(i)),e}function rwe(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&_(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&_(e,["parameters","aspectRatio"],a);const s=g(t,["resolution"]);e!==void 0&&s!=null&&_(e,["parameters","resolution"],s);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(t,["negativePrompt"]);e!==void 0&&c!=null&&_(e,["parameters","negativePrompt"],c);const f=g(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&_(e,["parameters","enhancePrompt"],f),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&_(e,["instances[0]","lastFrame"],O0(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(w=>aEe(w))),_(e,["instances[0]","referenceImages"],v)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function iwe(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const a=g(t,["fps"]);e!==void 0&&a!=null&&_(e,["parameters","fps"],a);const s=g(t,["durationSeconds"]);e!==void 0&&s!=null&&_(e,["parameters","durationSeconds"],s);const u=g(t,["seed"]);e!==void 0&&u!=null&&_(e,["parameters","seed"],u);const c=g(t,["aspectRatio"]);e!==void 0&&c!=null&&_(e,["parameters","aspectRatio"],c);const f=g(t,["resolution"]);e!==void 0&&f!=null&&_(e,["parameters","resolution"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&_(e,["parameters","pubsubTopic"],m);const v=g(t,["negativePrompt"]);e!==void 0&&v!=null&&_(e,["parameters","negativePrompt"],v);const w=g(t,["enhancePrompt"]);e!==void 0&&w!=null&&_(e,["parameters","enhancePrompt"],w);const A=g(t,["generateAudio"]);e!==void 0&&A!=null&&_(e,["parameters","generateAudio"],A);const S=g(t,["lastFrame"]);e!==void 0&&S!=null&&_(e,["instances[0]","lastFrame"],oa(S));const C=g(t,["referenceImages"]);if(e!==void 0&&C!=null){let M=C;Array.isArray(M)&&(M=M.map(V=>oEe(V))),_(e,["instances[0]","referenceImages"],M)}const P=g(t,["mask"]);e!==void 0&&P!=null&&_(e,["instances[0]","mask"],iEe(P));const D=g(t,["compressionQuality"]);return e!==void 0&&D!=null&&_(e,["parameters","compressionQuality"],D),n}function awe(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],uwe(s)),e}function owe(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["response"]);return s!=null&&_(e,["response"],cwe(s)),e}function swe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&_(n,["instances[0]","image"],O0(a));const s=g(e,["video"]);s!=null&&_(n,["instances[0]","video"],Bq(s));const u=g(e,["source"]);u!=null&&fwe(u,n);const c=g(e,["config"]);return c!=null&&rwe(c,n),n}function lwe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&_(n,["instances[0]","image"],oa(a));const s=g(e,["video"]);s!=null&&_(n,["instances[0]","video"],Hq(s));const u=g(e,["source"]);u!=null&&dwe(u,n);const c=g(e,["config"]);return c!=null&&iwe(c,n),n}function uwe(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>mwe(s))),_(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function cwe(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>gwe(s))),_(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function fwe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],O0(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&_(e,["instances[0]","video"],Bq(a)),n}function dwe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],oa(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&_(e,["instances[0]","video"],Hq(a)),n}function hwe(t){const e={},n=g(t,["_self"]);n!=null&&_(e,["image"],Twe(n));const r=g(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&_(e,["safetyAttributes"],jq(i)),e}function D0(t){const e={},n=g(t,["_self"]);n!=null&&_(e,["image"],Uq(n));const r=g(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&_(e,["safetyAttributes"],zq(i));const a=g(t,["prompt"]);return a!=null&&_(e,["enhancedPrompt"],a),e}function pwe(t){const e={},n=g(t,["_self"]);n!=null&&_(e,["mask"],Uq(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),_(e,["labels"],i)}return e}function mwe(t){const e={},n=g(t,["video"]);return n!=null&&_(e,["video"],nEe(n)),e}function gwe(t){const e={},n=g(t,["_self"]);return n!=null&&_(e,["video"],rEe(n)),e}function ywe(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&_(e,["candidateCount"],a);const s=g(t,["enableAffectiveDialog"]);s!=null&&_(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&_(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&_(e,["logprobs"],c);const f=g(t,["maxOutputTokens"]);f!=null&&_(e,["maxOutputTokens"],f);const h=g(t,["mediaResolution"]);h!=null&&_(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&_(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&_(e,["responseLogprobs"],v);const w=g(t,["responseMimeType"]);w!=null&&_(e,["responseMimeType"],w);const A=g(t,["responseModalities"]);A!=null&&_(e,["responseModalities"],A);const S=g(t,["responseSchema"]);S!=null&&_(e,["responseSchema"],S);const C=g(t,["routingConfig"]);C!=null&&_(e,["routingConfig"],C);const P=g(t,["seed"]);P!=null&&_(e,["seed"],P);const D=g(t,["speechConfig"]);D!=null&&_(e,["speechConfig"],Fq(D));const M=g(t,["stopSequences"]);M!=null&&_(e,["stopSequences"],M);const V=g(t,["temperature"]);V!=null&&_(e,["temperature"],V);const U=g(t,["thinkingConfig"]);U!=null&&_(e,["thinkingConfig"],U);const G=g(t,["topK"]);G!=null&&_(e,["topK"],G);const k=g(t,["topP"]);if(k!=null&&_(e,["topP"],k),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function vwe(t,e){const n={},r=g(e,["model"]);return r!=null&&_(n,["_url","name"],st(t,r)),n}function _we(t,e){const n={},r=g(e,["model"]);return r!=null&&_(n,["_url","name"],st(t,r)),n}function bwe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function xwe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function wwe(t){const e={},n=g(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ewe(t){const e={},n=g(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&_(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&_(e,["imageOutputOptions","mimeType"],i);const a=g(t,["outputCompressionQuality"]);return a!=null&&_(e,["imageOutputOptions","compressionQuality"],a),e}function Twe(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&_(e,["imageBytes"],sl(n));const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Uq(t){const e={},n=g(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&_(e,["imageBytes"],sl(r));const i=g(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function O0(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&_(e,["bytesBase64Encoded"],sl(n));const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function oa(t){const e={},n=g(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&_(e,["bytesBase64Encoded"],sl(r));const i=g(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function Swe(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&_(n,["_query","pageToken"],a);const s=g(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&_(n,["_url","models_url"],Pq(t,u)),r}function Awe(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&_(n,["_query","pageToken"],a);const s=g(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&_(n,["_url","models_url"],Pq(t,u)),r}function Cwe(t,e){const n={},r=g(e,["config"]);return r!=null&&Swe(t,r,n),n}function Iwe(t,e){const n={},r=g(e,["config"]);return r!=null&&Awe(t,r,n),n}function Nwe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=Rq(i);Array.isArray(a)&&(a=a.map(s=>DT(s))),_(e,["models"],a)}return e}function Pwe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=Rq(i);Array.isArray(a)&&(a=a.map(s=>OT(s))),_(e,["models"],a)}return e}function Rwe(t){const e={},n=g(t,["maskMode"]);n!=null&&_(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&_(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&_(e,["dilation"],i),e}function DT(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=g(t,["description"]);i!=null&&_(e,["description"],i);const a=g(t,["version"]);a!=null&&_(e,["version"],a);const s=g(t,["_self"]);s!=null&&_(e,["tunedModelInfo"],Kwe(s));const u=g(t,["inputTokenLimit"]);u!=null&&_(e,["inputTokenLimit"],u);const c=g(t,["outputTokenLimit"]);c!=null&&_(e,["outputTokenLimit"],c);const f=g(t,["supportedGenerationMethods"]);f!=null&&_(e,["supportedActions"],f);const h=g(t,["temperature"]);h!=null&&_(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&_(e,["maxTemperature"],m);const v=g(t,["topP"]);v!=null&&_(e,["topP"],v);const w=g(t,["topK"]);w!=null&&_(e,["topK"],w);const A=g(t,["thinking"]);return A!=null&&_(e,["thinking"],A),e}function OT(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=g(t,["description"]);i!=null&&_(e,["description"],i);const a=g(t,["versionId"]);a!=null&&_(e,["version"],a);const s=g(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>Hxe(v))),_(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&_(e,["labels"],u);const c=g(t,["_self"]);c!=null&&_(e,["tunedModelInfo"],Wwe(c));const f=g(t,["defaultCheckpointId"]);f!=null&&_(e,["defaultCheckpointId"],f);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),_(e,["checkpoints"],m)}return e}function Mwe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&_(e,["fileData"],Gxe(a));const s=g(t,["functionCall"]);s!=null&&_(e,["functionCall"],$xe(s));const u=g(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&_(e,["inlineData"],yxe(c));const f=g(t,["text"]);f!=null&&_(e,["text"],f);const h=g(t,["thought"]);h!=null&&_(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&_(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&_(e,["videoMetadata"],v),e}function kwe(t){const e={},n=g(t,["productImage"]);return n!=null&&_(e,["image"],oa(n)),e}function Dwe(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&_(e,["parameters","baseSteps"],i);const a=g(t,["outputGcsUri"]);e!==void 0&&a!=null&&_(e,["parameters","storageUri"],a);const s=g(t,["seed"]);e!==void 0&&s!=null&&_(e,["parameters","seed"],s);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&_(e,["parameters","safetySetting"],u);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const f=g(t,["addWatermark"]);e!==void 0&&f!=null&&_(e,["parameters","addWatermark"],f);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&_(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&_(e,["parameters","outputOptions","compressionQuality"],m);const v=g(t,["enhancePrompt"]);e!==void 0&&v!=null&&_(e,["parameters","enhancePrompt"],v);const w=g(t,["labels"]);return e!==void 0&&w!=null&&_(e,["labels"],w),n}function Owe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["source"]);i!=null&&Vwe(i,n);const a=g(e,["config"]);return a!=null&&Dwe(a,n),n}function Lwe(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>D0(i))),_(e,["generatedImages"],r)}return e}function Vwe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&_(e,["instances[0]","personImage","image"],oa(i));const a=g(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>kwe(u))),_(e,["instances[0]","productImages"],s)}return n}function Uwe(t){const e={},n=g(t,["referenceImage"]);n!=null&&_(e,["referenceImage"],oa(n));const r=g(t,["referenceId"]);r!=null&&_(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&_(e,["referenceType"],i);const a=g(t,["maskImageConfig"]);a!=null&&_(e,["maskImageConfig"],Rwe(a));const s=g(t,["controlImageConfig"]);s!=null&&_(e,["controlImageConfig"],Txe(s));const u=g(t,["styleImageConfig"]);u!=null&&_(e,["styleImageConfig"],u);const c=g(t,["subjectImageConfig"]);return c!=null&&_(e,["subjectImageConfig"],c),e}function jq(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function zq(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function jwe(t){const e={},n=g(t,["category"]);if(n!=null&&_(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function zwe(t){const e={},n=g(t,["image"]);return n!=null&&_(e,["image"],oa(n)),e}function Fwe(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&_(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&_(e,["parameters","maxPredictions"],i);const a=g(t,["confidenceThreshold"]);e!==void 0&&a!=null&&_(e,["parameters","confidenceThreshold"],a);const s=g(t,["maskDilation"]);e!==void 0&&s!=null&&_(e,["parameters","maskDilation"],s);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&_(e,["parameters","binaryColorThreshold"],u);const c=g(t,["labels"]);return e!==void 0&&c!=null&&_(e,["labels"],c),n}function qwe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["source"]);i!=null&&Hwe(i,n);const a=g(e,["config"]);return a!=null&&Fwe(a,n),n}function Bwe(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pwe(i))),_(e,["generatedMasks"],r)}return e}function Hwe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],oa(i));const a=g(t,["scribbleImage"]);return e!==void 0&&a!=null&&_(e,["instances[0]","scribble"],zwe(a)),n}function Fq(t){const e={},n=g(t,["languageCode"]);n!=null&&_(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&_(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Gwe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],Kxe(n));const r=g(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],r),e}function $we(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),_(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],bwe(u));const c=g(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],xwe(c));const f=g(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function qq(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Wxe(v))),_(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&_(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&_(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&_(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&_(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&_(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function Kwe(t){const e={},n=g(t,["baseModel"]);n!=null&&_(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function Wwe(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&_(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function Ywe(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&_(e,["defaultCheckpointId"],a),n}function Jwe(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&_(e,["defaultCheckpointId"],a),n}function Xwe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","name"],st(t,r));const i=g(e,["config"]);return i!=null&&Ywe(i,n),n}function Qwe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["config"]);return i!=null&&Jwe(i,n),n}function Zwe(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&_(e,["parameters","safetySetting"],i);const a=g(t,["personGeneration"]);e!==void 0&&a!=null&&_(e,["parameters","personGeneration"],a);const s=g(t,["includeRaiReason"]);e!==void 0&&s!=null&&_(e,["parameters","includeRaiReason"],s);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&_(e,["parameters","outputOptions","mimeType"],u);const c=g(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&_(e,["parameters","outputOptions","compressionQuality"],c);const f=g(t,["enhanceInputImage"]);e!==void 0&&f!=null&&_(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&_(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&_(e,["labels"],m);const v=g(t,["numberOfImages"]);e!==void 0&&v!=null&&_(e,["parameters","sampleCount"],v);const w=g(t,["mode"]);return e!==void 0&&w!=null&&_(e,["parameters","mode"],w),n}function eEe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["_url","model"],st(t,r));const i=g(e,["image"]);i!=null&&_(n,["instances[0]","image"],oa(i));const a=g(e,["upscaleFactor"]);a!=null&&_(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=g(e,["config"]);return s!=null&&Zwe(s,n),n}function tEe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>D0(a))),_(e,["generatedImages"],i)}return e}function nEe(t){const e={},n=g(t,["uri"]);n!=null&&_(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],sl(r));const i=g(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function rEe(t){const e={},n=g(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],sl(r));const i=g(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function iEe(t){const e={},n=g(t,["image"]);n!=null&&_(e,["_self"],oa(n));const r=g(t,["maskMode"]);return r!=null&&_(e,["maskMode"],r),e}function aEe(t){const e={},n=g(t,["image"]);n!=null&&_(e,["image"],O0(n));const r=g(t,["referenceType"]);return r!=null&&_(e,["referenceType"],r),e}function oEe(t){const e={},n=g(t,["image"]);n!=null&&_(e,["image"],oa(n));const r=g(t,["referenceType"]);return r!=null&&_(e,["referenceType"],r),e}function Bq(t){const e={},n=g(t,["uri"]);n!=null&&_(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&_(e,["encodedVideo"],sl(r));const i=g(t,["mimeType"]);return i!=null&&_(e,["encoding"],i),e}function Hq(t){const e={},n=g(t,["uri"]);n!=null&&_(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&_(e,["bytesBase64Encoded"],sl(r));const i=g(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sEe="Content-Type",lEe="X-Server-Timeout",uEe="User-Agent",LT="x-goog-api-client",cEe="1.30.0",fEe=`google-genai-sdk/${cEe}`,dEe="v1beta1",hEe="v1beta",s4=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class pEe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:dEe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:hEe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&mEe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await l4(i),new RT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await l4(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Pc(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield Pt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const v=JSON.parse(JSON.stringify(m.error)),w=v.status,A=v.code,S=`got status: ${w}. ${JSON.stringify(m)}`;if(A>=400&&A<600)throw new M0({message:S,status:A})}}catch(m){if(m.name==="ApiError")throw m}s+=f;let h=s.match(s4);for(;h;){const m=h[1];try{const v=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Pt(new RT(v)),s=s.slice(h[0].length),h=s.match(s4)}catch(v){throw new Error(`exception parsing stream chunk ${m}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=fEe+" "+this.clientOptions.userAgentExtra;return e[uEe]=n,e[LT]=n,e[sEe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(lEe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=xe("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const v=await this.fetchUploadUrl(f,u,c,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function l4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new M0({message:i,status:n}):new Error(i)}}function mEe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gEe="mcp_used/unknown";let yEe=!1;function Gq(t){for(const e of t)if(vEe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return yEe}function $q(t){var e;const n=(e=t[LT])!==null&&e!==void 0?e:"";t[LT]=(n+` ${gEe}`).trimStart()}function vEe(t){return t!==null&&typeof t=="object"&&t instanceof zA}function _Ee(t,e=100){return Pc(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Pt(t.listTools({cursor:r}));for(const s of a.tools)yield yield Pt(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class zA{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new zA(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,eh(_Ee(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const m=i;s.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),f_e(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bEe(t,e,n){const r=new r_e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class xEe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=TEe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(M=>{f=M}),m=e.callbacks,v=function(){f({})},w=this.apiClient,A={onopen:v,onmessage:M=>{bEe(w,m.onmessage,M)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(M){}},S=this.webSocketFactory.create(c,EEe(s),A);S.connect(),await h;const D={setup:{model:st(this.apiClient,e.model)}};return S.send(JSON.stringify(D)),new wEe(S,this.apiClient)}}class wEe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=lxe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=sxe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_c.PLAY)}pause(){this.sendPlaybackControl(_c.PAUSE)}stop(){this.sendPlaybackControl(_c.STOP)}resetContext(){this.sendPlaybackControl(_c.RESET_CONTEXT)}close(){this.conn.close()}}function EEe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function TEe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SEe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AEe(t,e,n){const r=new n_e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=fxe(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class CEe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new xEe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Gq(e.config.tools)&&$q(m);const v=REe(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const L=this.apiClient.getApiKey();let F="BidiGenerateContent",j="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",j="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${F}?${j}=${L}`}let w=()=>{};const A=new Promise(L=>{w=L}),S=e.callbacks,C=function(){var L;(L=S==null?void 0:S.onopen)===null||L===void 0||L.call(S),w({})},P=this.apiClient,D={onopen:C,onmessage:L=>{AEe(P,S.onmessage,L)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(L){}},M=this.webSocketFactory.create(h,PEe(v),D);M.connect(),await A;let V=st(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const L=this.apiClient.getProject(),F=this.apiClient.getLocation();V=`projects/${L}/locations/${F}/`+V}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[av.AUDIO]}:e.config.responseModalities=[av.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],k=[];for(const L of G)if(this.isCallableTool(L)){const F=L;k.push(await F.tool())}else k.push(L);k.length>0&&(e.config.tools=k);const O={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=oxe(this.apiClient,O):U=axe(this.apiClient,O),delete U.config,M.send(JSON.stringify(U)),new NEe(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const IEe={turnComplete:!0};class NEe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ei(n.turns),e.isVertexAI()||(r=r.map(i=>k0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(SEe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},IEe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cxe(e)}:n={realtimeInput:uxe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PEe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function REe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u4=10;function c4(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Rc(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Rc(t){return"callTool"in t&&typeof t.callTool=="function"}function MEe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Rc(i)))!==null&&r!==void 0?r:!1}function f4(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Rc(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function d4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kEe extends Ho{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!MEe(n)||c4(n.config))return await this.generateContentInternal(c);const f=f4(n);if(f.length>0){const S=f.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,m;const v=Ei(c.contents),w=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:u4;let A=0;for(;A<w&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,C=[];for(const P of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Rc(P)){const M=await P.callTool(h.functionCalls);C.push(...M)}A++,m={role:"user",parts:C},c.contents=Ei(c.contents),c.contents.push(S),c.contents.push(m),d4(c.config)&&(v.push(S),v.push(m))}return d4(c.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),c4(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=f4(n);if(c.length>0){const m=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new xu(Vo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Rc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&Gq(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),$q(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Rc(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:u4;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,m){var v,w;return Pc(this,arguments,function*(){for(var A,S,C,P;u<a;){s&&(u++,s=!1);const U=yield Pt(f.processParamsMaybeAddMcpUsage(m)),G=yield Pt(f.generateContentStreamInternal(U)),k=[],O=[];try{for(var D=!0,M=(S=void 0,eh(G)),V;V=yield Pt(M.next()),A=V.done,!A;D=!0){P=V.value,D=!1;const L=P;if(yield yield Pt(L),L.candidates&&(!((v=L.candidates[0])===null||v===void 0)&&v.content)){O.push(L.candidates[0].content);for(const F of(w=L.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(u<a&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const j=yield Pt(h.get(F.functionCall.name).callTool([F.functionCall]));k.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(L){S={error:L}}finally{try{!D&&!A&&(C=M.return)&&(yield Pt(C.call(M)))}finally{if(S)throw S.error}}if(k.length>0){s=!0;const L=new Md;L.candidates=[{content:{role:"user",parts:k}}],yield yield Pt(L);const F=[];F.push(...O),F.push({role:"user",parts:k});const j=Ei(m.contents).concat(F);m.contents=j}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=i4(this.apiClient,e);return u=xe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=o4(h),v=new Md;return Object.assign(v,m),v})}else{const f=r4(this.apiClient,e);return u=xe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=a4(h),v=new Md;return Object.assign(v,m),v})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=i4(this.apiClient,e);return u=xe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return Pc(this,arguments,function*(){var v,w,A,S;try{for(var C=!0,P=eh(m),D;D=yield Pt(P.next()),v=D.done,!v;C=!0){S=D.value,C=!1;const M=S,V=o4(yield Pt(M.json()));V.sdkHttpResponse={headers:M.headers};const U=new Md;Object.assign(U,V),yield yield Pt(U)}}catch(M){w={error:M}}finally{try{!C&&!v&&(A=P.return)&&(yield Pt(A.call(P)))}finally{if(w)throw w.error}}})})}else{const f=r4(this.apiClient,e);return u=xe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return Pc(this,arguments,function*(){var v,w,A,S;try{for(var C=!0,P=eh(m),D;D=yield Pt(P.next()),v=D.done,!v;C=!0){S=D.value,C=!1;const M=S,V=a4(yield Pt(M.json()));V.sdkHttpResponse={headers:M.headers};const U=new Md;Object.assign(U,V),yield yield Pt(U)}}catch(M){w={error:M}}finally{try{!C&&!v&&(A=P.return)&&(yield Pt(A.call(P)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Fxe(this.apiClient,e);return u=xe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Bxe(h),v=new FL;return Object.assign(v,m),v})}else{const f=zxe(this.apiClient,e);return u=xe("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=qxe(h),v=new FL;return Object.assign(v,m),v})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ewe(this.apiClient,e);return u=xe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=nwe(h),v=new qL;return Object.assign(v,m),v})}else{const f=Zxe(this.apiClient,e);return u=xe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=twe(h),v=new qL;return Object.assign(v,m),v})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Lxe(this.apiClient,e);return a=xe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Vxe(c),h=new G0e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=eEe(this.apiClient,e);return a=xe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=tEe(c),h=new $0e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Owe(this.apiClient,e);return a=xe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Lwe(c),h=new K0e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=qwe(this.apiClient,e);return a=xe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Bwe(c),h=new W0e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_we(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>OT(h))}else{const f=vwe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>DT(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Iwe(this.apiClient,e);return u=xe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Pwe(h),v=new BL;return Object.assign(v,m),v})}else{const f=Cwe(this.apiClient,e);return u=xe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Nwe(h),v=new BL;return Object.assign(v,m),v})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Qwe(this.apiClient,e);return u=xe("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>OT(h))}else{const f=Xwe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>DT(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Mxe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Dxe(h),v=new HL;return Object.assign(v,m),v})}else{const f=Rxe(this.apiClient,e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=kxe(h),v=new HL;return Object.assign(v,m),v})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ixe(this.apiClient,e);return u=xe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Pxe(h),v=new GL;return Object.assign(v,m),v})}else{const f=Cxe(this.apiClient,e);return u=xe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Nxe(h),v=new GL;return Object.assign(v,m),v})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=bxe(this.apiClient,e);return a=xe("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=xxe(c),h=new Y0e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=lwe(this.apiClient,e);return u=xe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=owe(h),v=new ov;return Object.assign(v,m),v})}else{const f=swe(this.apiClient,e);return u=xe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=awe(h),v=new ov;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DEe extends Ho{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=j0e(e);return u=xe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=U0e(e);return u=xe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=R0e(e);return a=xe("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OEe(t){const e={},n=g(t,["data"]);if(n!=null&&_(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function LEe(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>GEe(a))),_(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&_(e,["role"],r),e}function VEe(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&_(n,["expireTime"],i);const a=g(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&_(n,["newSessionExpireTime"],a);const s=g(e,["uses"]);n!==void 0&&s!=null&&_(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&_(n,["bidiGenerateContentSetup"],HEe(t,u));const c=g(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&_(n,["fieldMask"],c),r}function UEe(t,e){const n={},r=g(e,["config"]);return r!=null&&_(n,["config"],VEe(t,r,n)),n}function jEe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function zEe(t){const e={},n=g(t,["id"]);n!=null&&_(e,["id"],n);const r=g(t,["args"]);r!=null&&_(e,["args"],r);const i=g(t,["name"]);if(i!=null&&_(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FEe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function qEe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function BEe(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","speechConfig"],jA(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","thinkingConfig"],v);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],w);const A=g(t,["systemInstruction"]);e!==void 0&&A!=null&&_(e,["setup","systemInstruction"],LEe(rr(A)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let G=yf(S);Array.isArray(G)&&(G=G.map(k=>KEe(gf(k)))),_(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&_(e,["setup","sessionResumption"],$Ee(C));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&_(e,["setup","inputAudioTranscription"],P);const D=g(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&_(e,["setup","outputAudioTranscription"],D);const M=g(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&_(e,["setup","realtimeInputConfig"],M);const V=g(t,["contextWindowCompression"]);e!==void 0&&V!=null&&_(e,["setup","contextWindowCompression"],V);const U=g(t,["proactivity"]);return e!==void 0&&U!=null&&_(e,["setup","proactivity"],U),n}function HEe(t,e){const n={},r=g(e,["model"]);r!=null&&_(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&_(n,["config"],BEe(i,n)),n}function GEe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&_(e,["fileData"],jEe(a));const s=g(t,["functionCall"]);s!=null&&_(e,["functionCall"],zEe(s));const u=g(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&_(e,["inlineData"],OEe(c));const f=g(t,["text"]);f!=null&&_(e,["text"],f);const h=g(t,["thought"]);h!=null&&_(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&_(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&_(e,["videoMetadata"],v),e}function $Ee(t){const e={},n=g(t,["handle"]);if(n!=null&&_(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function KEe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),_(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],FEe(u));const c=g(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],qEe(c));const f=g(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WEe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function YEe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=WEe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class JEe extends Ho{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=UEe(this.apiClient,e);a=xe("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=YEe(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XEe(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["displayName"],r),n}function QEe(t){const e={},n=g(t,["config"]);return n!=null&&XEe(n,e),e}function ZEe(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function eTe(t){const e={},n=g(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&ZEe(r,e),e}function tTe(t){const e={},n=g(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function nTe(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["customMetadata"],a)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&_(e,["chunkingConfig"],i),n}function rTe(t){const e={},n=g(t,["name"]);n!=null&&_(e,["name"],n);const r=g(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=g(t,["done"]);i!=null&&_(e,["done"],i);const a=g(t,["error"]);a!=null&&_(e,["error"],a);const s=g(t,["response"]);return s!=null&&_(e,["response"],aTe(s)),e}function iTe(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&_(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&nTe(i,e),e}function aTe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&_(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function oTe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function sTe(t){const e={},n=g(t,["config"]);return n!=null&&oTe(n,e),e}function lTe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["fileSearchStores"],a)}return e}function uTe(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&_(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const a=g(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),_(e,["customMetadata"],u)}const s=g(t,["chunkingConfig"]);return e!==void 0&&s!=null&&_(e,["chunkingConfig"],s),n}function cTe(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&uTe(r,e),e}function fTe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dTe(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function hTe(t){const e={},n=g(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&dTe(r,e),e}function pTe(t){const e={},n=g(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function mTe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function gTe(t){const e={},n=g(t,["parent"]);n!=null&&_(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&mTe(r,e),e}function yTe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vTe extends Ho{constructor(e){super(),this.apiClient=e,this.list=async n=>new xu(Vo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pTe(e);return a=xe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hTe(e);i=xe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gTe(e);return a=xe("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=yTe(c),h=new J0e;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _Te extends Ho{constructor(e,n=new vTe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new xu(Vo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QEe(e);return a=xe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tTe(e);return a=xe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=eTe(e);i=xe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sTe(e);return a=xe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=lTe(c),h=new X0e;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cTe(e);return a=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=fTe(c),h=new Q0e;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iTe(e);return a=xe("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=rTe(c),h=new DA;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bTe(t,e){const n={},r=g(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function xTe(t,e){const n={},r=g(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function wTe(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&_(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(t,["epochCount"]);e!==void 0&&a!=null&&_(e,["tuningTask","hyperparameters","epochCount"],a);const s=g(t,["learningRateMultiplier"]);if(s!=null&&_(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&_(e,["tuningTask","hyperparameters","batchSize"],u);const c=g(t,["learningRate"]);if(e!==void 0&&c!=null&&_(e,["tuningTask","hyperparameters","learningRate"],c),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function ETe(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=g(t,["validationDataset"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec"],h4(w))}else if(i==="PREFERENCE_TUNING"){const w=g(t,["validationDataset"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec"],h4(w))}const a=g(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&_(e,["tunedModelDisplayName"],a);const s=g(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const w=g(t,["epochCount"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(u==="PREFERENCE_TUNING"){const w=g(t,["epochCount"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const w=g(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(c==="PREFERENCE_TUNING"){const w=g(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=g(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(f==="PREFERENCE_TUNING"){const w=g(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=g(t,["adapterSize"]);e!==void 0&&w!=null&&_(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(h==="PREFERENCE_TUNING"){const w=g(t,["adapterSize"]);e!==void 0&&w!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&_(e,["labels"],m);const v=g(t,["beta"]);return e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function TTe(t,e){const n={},r=g(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&OTe(a);const s=g(t,["config"]);return s!=null&&wTe(s,n),n}function STe(t,e){const n={},r=g(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&LTe(a,n,e);const s=g(t,["config"]);return s!=null&&ETe(s,n,e),n}function ATe(t,e){const n={},r=g(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function CTe(t,e){const n={},r=g(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function ITe(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&_(e,["_query","pageToken"],a);const s=g(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),r}function NTe(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&_(e,["_query","pageToken"],a);const s=g(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),r}function PTe(t,e){const n={},r=g(t,["config"]);return r!=null&&ITe(r,n),n}function RTe(t,e){const n={},r=g(t,["config"]);return r!=null&&NTe(r,n),n}function MTe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const a=g(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Kq(u))),_(n,["tuningJobs"],s)}return n}function kTe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const a=g(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>VT(u))),_(n,["tuningJobs"],s)}return n}function DTe(t,e){const n={},r=g(t,["name"]);r!=null&&_(n,["model"],r);const i=g(t,["name"]);return i!=null&&_(n,["endpoint"],i),n}function OTe(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),_(n,["examples","examples"],i)}return n}function LTe(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Kq(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&_(n,["name"],i);const a=g(t,["state"]);a!=null&&_(n,["state"],Iq(a));const s=g(t,["createTime"]);s!=null&&_(n,["createTime"],s);const u=g(t,["tuningTask","startTime"]);u!=null&&_(n,["startTime"],u);const c=g(t,["tuningTask","completeTime"]);c!=null&&_(n,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&_(n,["updateTime"],f);const h=g(t,["description"]);h!=null&&_(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&_(n,["baseModel"],m);const v=g(t,["_self"]);return v!=null&&_(n,["tunedModel"],DTe(v)),n}function VT(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&_(n,["name"],i);const a=g(t,["state"]);a!=null&&_(n,["state"],Iq(a));const s=g(t,["createTime"]);s!=null&&_(n,["createTime"],s);const u=g(t,["startTime"]);u!=null&&_(n,["startTime"],u);const c=g(t,["endTime"]);c!=null&&_(n,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&_(n,["updateTime"],f);const h=g(t,["error"]);h!=null&&_(n,["error"],h);const m=g(t,["description"]);m!=null&&_(n,["description"],m);const v=g(t,["baseModel"]);v!=null&&_(n,["baseModel"],v);const w=g(t,["tunedModel"]);w!=null&&_(n,["tunedModel"],w);const A=g(t,["preTunedModel"]);A!=null&&_(n,["preTunedModel"],A);const S=g(t,["supervisedTuningSpec"]);S!=null&&_(n,["supervisedTuningSpec"],S);const C=g(t,["preferenceOptimizationSpec"]);C!=null&&_(n,["preferenceOptimizationSpec"],C);const P=g(t,["tuningDataStats"]);P!=null&&_(n,["tuningDataStats"],P);const D=g(t,["encryptionSpec"]);D!=null&&_(n,["encryptionSpec"],D);const M=g(t,["partnerModelTuningSpec"]);M!=null&&_(n,["partnerModelTuningSpec"],M);const V=g(t,["customBaseModel"]);V!=null&&_(n,["customBaseModel"],V);const U=g(t,["experiment"]);U!=null&&_(n,["experiment"],U);const G=g(t,["labels"]);G!=null&&_(n,["labels"],G);const k=g(t,["outputUri"]);k!=null&&_(n,["outputUri"],k);const O=g(t,["pipelineJob"]);O!=null&&_(n,["pipelineJob"],O);const L=g(t,["serviceAccount"]);L!=null&&_(n,["serviceAccount"],L);const F=g(t,["tunedModelDisplayName"]);F!=null&&_(n,["tunedModelDisplayName"],F);const j=g(t,["veoTuningSpec"]);return j!=null&&_(n,["veoTuningSpec"],j),n}function VTe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&_(n,["name"],i);const a=g(t,["metadata"]);a!=null&&_(n,["metadata"],a);const s=g(t,["done"]);s!=null&&_(n,["done"],s);const u=g(t,["error"]);return u!=null&&_(n,["error"],u),n}function h4(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&_(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&_(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UTe extends Ho{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new xu(Vo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:PT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=CTe(e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>VT(h))}else{const f=ATe(e);return u=xe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>Kq(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=RTe(e);return u=xe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=kTe(h),v=new $L;return Object.assign(v,m),v})}else{const f=PTe(e);return u=xe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=MTe(h),v=new $L;return Object.assign(v,m),v})}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=xTe(e);s=xe("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=bTe(e);s=xe("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=STe(e,e);return a=xe("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>VT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TTe(e);return a=xe("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>VTe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jTe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zTe=1024*1024*8,FTe=3,qTe=1e3,BTe=2,lv="x-goog-upload-status";async function HTe(t,e,n){var r;const i=await Wq(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[lv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function GTe(t,e,n){var r;const i=await Wq(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[lv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=wq(a),u=new OA;return Object.assign(u,s),u}async function Wq(t,e,n){var r,i;let a=0,s=0,u=new RT(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(zTe,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let m=0,v=qTe;for(;m<FTe&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[lv]));)m++,await KTe(v),v=v*BTe;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[lv])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function $Te(t){return{size:t.size,type:t.type}}function KTe(t){return new Promise(e=>setTimeout(e,t))}class WTe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HTe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GTe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $Te(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YTe{create(e,n,r){return new JTe(e,n,r)}}class JTe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p4="x-goog-api-key";class XTe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(p4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(p4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QTe="gl-node/";class ZTe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=N0e(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new XTe(this.apiKey);this.apiClient=new pEe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:QTe+"web",uploader:new WTe,downloader:new jTe}),this.models=new kEe(this.apiClient),this.live=new CEe(this.apiClient,i,new YTe),this.batches=new ibe(this.apiClient),this.chats=new jbe(this.models,this.apiClient),this.caches=new Lbe(this.apiClient),this.files=new Ybe(this.apiClient),this.operations=new DEe(this.apiClient),this.authTokens=new JEe(this.apiClient),this.tunings=new UTe(this.apiClient),this.fileSearchStores=new _Te(this.apiClient)}}const eSe="AIzaSyC1yhNtNF3xF6RdaelPqspID-hhk-3RrfU",L0=new ZTe({apiKey:eSe}),tSe=async(t,e)=>{try{const n="gemini-2.5-flash",r=`You are "FitCoach", an expert AI fitness and nutrition assistant within the 'FitSpot' app.
    Your goal is to help users find the right workouts, understand gym equipment, and stay motivated.
    
    Context about the user's current view: ${e||"General chat context."}
    
    Keep your answers concise, encouraging, and action-oriented. Use emojis occasionally.
    If asked about specific studios, suggest looking at the verified studios in the list.`,i=t.map(s=>({role:s.role,parts:[{text:s.text}]}));return(await L0.models.generateContent({model:n,contents:i,config:{systemInstruction:r,temperature:.7}})).text||"I couldn't generate a response right now. Try again!"}catch(n){return console.error("Gemini API Error:",n),"I'm having trouble connecting to my fitness database. Please try again later."}},UT=async t=>{try{const e="gemini-2.5-flash";let n=`
    - Goal: ${t.goal}
    - Level: ${t.level}
    - Equipment: ${t.equipment}
    - Days/Week: ${t.daysPerWeek}
    - Diet: ${t.dietaryRestrictions}`;t.age&&(n+=`
    - Age: ${t.age}`),t.height&&(n+=`
    - Height: ${t.height}`),t.currentWeight&&(n+=`
    - Current Weight: ${t.currentWeight}`),t.targetWeight&&(n+=`
    - Target Weight: ${t.targetWeight}`),t.medicalConditions&&(n+=`
    - Medical Conditions/Allergies: ${t.medicalConditions}`);const r=`Create a comprehensive fitness and nutrition plan for a user with these details:${n}

    Generate the response strictly in JSON format matching the schema provided. 
    Ensure the nutrition plan and advice specifically addresses their weight/medical constraints if provided.`;return(await L0.models.generateContent({model:e,contents:r,config:{temperature:.7,responseMimeType:"application/json",responseSchema:{type:tt.OBJECT,properties:{planName:{type:tt.STRING,description:"A catchy title for the plan"},overview:{type:tt.STRING,description:"A 2-sentence motivating summary"},schedule:{type:tt.ARRAY,items:{type:tt.OBJECT,properties:{day:{type:tt.STRING,description:"e.g., Day 1, Day 2"},focus:{type:tt.STRING,description:"e.g., Chest & Triceps, Rest, Cardio"},exercises:{type:tt.ARRAY,items:{type:tt.OBJECT,properties:{name:{type:tt.STRING},sets:{type:tt.STRING},reps:{type:tt.STRING}}}}}}},nutrition:{type:tt.OBJECT,properties:{dailyCalories:{type:tt.STRING},macros:{type:tt.STRING,description:"e.g. 40% Carb / 30% Protein / 30% Fat"},mealPlan:{type:tt.ARRAY,items:{type:tt.STRING,description:"Example meal name"}}}},tips:{type:tt.ARRAY,items:{type:tt.STRING}}}}}})).text||"{}"}catch(e){return console.error("Gemini Plan Error:",e),"{}"}},nSe=async t=>{try{return(await L0.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:`Analyze this image of food. Identify the main dish and estimate the nutritional content.
    Return a JSON object with the following structure:
    {
      "name": "Name of the dish",
      "calories": 0, // Total estimated calories
      "protein": 0, // grams
      "carbs": 0, // grams
      "fat": 0, // grams
      "items": ["List", "of", "detected", "ingredients"]
    }
    Ensure the JSON is valid and numeric values are integers.`},{inlineData:{mimeType:"image/jpeg",data:t}}]}],config:{temperature:.4,responseMimeType:"application/json",responseSchema:{type:tt.OBJECT,properties:{name:{type:tt.STRING},calories:{type:tt.INTEGER},protein:{type:tt.INTEGER},carbs:{type:tt.INTEGER},fat:{type:tt.INTEGER},items:{type:tt.ARRAY,items:{type:tt.STRING}}}}}})).text||"{}"}catch(e){return console.error("Gemini Vision Error:",e),"{}"}},rSe=async t=>{try{const e="gemini-1.5-flash",n=`Suggest 3 healthy food items for a user with the goal: "${t}".
    Return a JSON array with objects:
    [
      {
        "name": "Food Name",
        "calories": 0,
        "protein": 0,
        "carbs": 0,
        "fat": 0,
        "reason": "Why this is good"
      }
    ]
    Ensure valid JSON.`;return(await L0.models.generateContent({model:e,contents:[{role:"user",parts:[{text:n}]}],config:{temperature:.7,responseMimeType:"application/json"}})).text||"[]"}catch(e){return console.error("Gemini Suggestions Error:",e),"[]"}},iSe=()=>{const t=vn(),[e,n]=T.useState([]),[r,i]=T.useState([]),[a,s]=T.useState({calories:0,protein:0}),[u,c]=T.useState(!1),[f,h]=T.useState(null),m=Us.useRef(null),[v,w]=T.useState(!1),[A,S]=T.useState([]),[C,P]=T.useState(!1),[D,M]=T.useState(""),[V,U]=T.useState("Breakfast");T.useEffect(()=>{(async()=>{const j=await Qve(),q=await MA();n(j),i(q)})()},[]),T.useEffect(()=>{let F=0,j=0;r.forEach(q=>{q.items.forEach(H=>{F+=H.calories,j+=H.protein||0})}),s({calories:F,protein:j})},[r]);const G=async F=>{var q;const j=(q=F.target.files)==null?void 0:q[0];if(j){c(!0);try{const H=new FileReader;H.onloadend=async()=>{const _e=H.result.split(",")[1],Ce=await nSe(_e),J=JSON.parse(Ce);h(J),c(!1)},H.readAsDataURL(j)}catch(H){console.error("Analysis failed",H),c(!1),alert("Failed to analyze image. Please try again.")}}},k=async()=>{if(!f)return;const F={id:Date.now().toString(),name:f.name,calories:f.calories,protein:f.protein,notes:`AI Detected: ${f.items.join(", ")}`},j=new Date().getHours();let q="Snack";j<11?q="Breakfast":j<15?q="Lunch":j<21&&(q="Dinner");const H=await Ww(q,F);i(H),h(null)},O=async()=>{const F=window.prompt("What is your current goal? (e.g., Muscle Gain, Weight Loss, Keto)");if(!F)return;P(!0),w(!0);const j=await rSe(F);try{const q=JSON.parse(j);S(q)}catch(q){console.error("Failed to parse suggestions",q),alert("Failed to get suggestions. Please try again."),w(!1)}P(!1)},L=D.length>0?jO.filter(F=>F.name.toLowerCase().includes(D.toLowerCase())):jO;return y.jsxs("div",{className:"min-h-screen bg-[#05100a] flex flex-col font-sans",children:[y.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:G}),y.jsxs("div",{className:"px-6 py-6 flex items-center justify-between sticky top-0 bg-[#05100a] z-20",children:[y.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 -ml-2 text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h2",{className:"text-xl font-bold text-white",children:"Food Search"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:O,className:"p-2 text-[#00E376] bg-[#0f291a] rounded-full hover:bg-[#163a25] transition",children:y.jsx(aG,{size:20})}),y.jsx("button",{onClick:()=>{var F;return(F=m.current)==null?void 0:F.click()},className:"p-2 text-[#00E376] bg-[#0f291a] rounded-full hover:bg-[#163a25] transition",children:y.jsx(Gg,{size:20})})]})]}),y.jsxs("div",{className:"px-6 pb-4 space-y-4 bg-[#05100a] z-10",children:[y.jsxs("div",{className:"relative",children:[y.jsx(H4,{className:"absolute left-4 top-3.5 text-[#2d5c40]",size:20}),y.jsx("input",{type:"text",value:D,onChange:F=>M(F.target.value),placeholder:"Search for food, e.g., 'avocado'",className:"w-full bg-[#0f291a] border border-transparent rounded-2xl py-3 pl-12 pr-4 text-white placeholder:text-[#2d5c40] focus:outline-none focus:border-primary/50 transition"})]}),y.jsx("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pb-2",children:["All","High Protein","Low Carb","Veg"].map(F=>y.jsx("button",{className:`px-5 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${F==="All"?"bg-[#00E376] text-black":"bg-[#0f291a] text-white hover:bg-[#163a25]"}`,children:F},F))})]}),y.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-24 space-y-4",children:L.map((F,j)=>y.jsx(aSe,{food:F,onLog:q=>{const H={id:Date.now().toString(),name:F.name,calories:Math.round(F.calories*q),protein:Math.round(F.protein*q),carbs:Math.round(F.carbs*q),fat:Math.round(F.fat*q),image:F.image};Ww(V,H).then(_e=>{i(_e),alert(`Logged ${H.name}!`)})}},j))}),(u||f)&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6 animate-in fade-in duration-200",children:y.jsx("div",{className:"bg-[#0f291a] border border-white/5 rounded-3xl p-6 w-full max-w-sm shadow-2xl",children:u?y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Analyzing Food..."}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Identifying ingredients and macros"})]}):f&&y.jsxs("div",{className:"animate-in zoom-in-95 duration-300",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-primary font-bold uppercase tracking-wider mb-1",children:"AI Detected"}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:f.name})]}),y.jsx("div",{className:"bg-white/5 p-2 rounded-full",onClick:()=>h(null),children:y.jsx(K4,{size:18,className:"text-gray-400"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[y.jsxs("div",{className:"bg-white/5 p-3 rounded-xl text-center",children:[y.jsx("p",{className:"text-2xl font-bold text-white",children:f.calories}),y.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Calories"})]}),y.jsxs("div",{className:"bg-white/5 p-3 rounded-xl text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-white",children:[f.protein,"g"]}),y.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Protein"})]}),y.jsxs("div",{className:"bg-white/5 p-3 rounded-xl text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-white",children:[f.carbs,"g"]}),y.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Carbs"})]}),y.jsxs("div",{className:"bg-white/5 p-3 rounded-xl text-center",children:[y.jsxs("p",{className:"text-2xl font-bold text-white",children:[f.fat,"g"]}),y.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Fat"})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Ingredients:"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:f.items.map((F,j)=>y.jsx("span",{className:"text-xs text-white bg-white/10 px-2 py-1 rounded-md",children:F},j))})]}),y.jsxs("button",{onClick:k,className:"w-full bg-primary text-black font-bold py-4 rounded-xl hover:opacity-90 transition shadow-[0_0_20px_rgba(0,227,118,0.4)] flex items-center justify-center gap-2",children:[y.jsx(DG,{size:20})," Add to Log"]})]})})}),v&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-[#0f291a] border border-white/5 rounded-3xl p-6 w-full max-w-sm shadow-2xl max-h-[80vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:"AI Suggestions"}),y.jsx("button",{onClick:()=>w(!1),className:"p-1 text-gray-400 hover:text-white",children:y.jsx(ah,{size:20})})]}),C?y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Curating healthy options..."})]}):y.jsx("div",{className:"space-y-4",children:A.map((F,j)=>y.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h4",{className:"font-bold text-white",children:F.name}),y.jsxs("span",{className:"text-[#00E376] text-xs font-bold",children:[F.calories," kcal"]})]}),y.jsxs("p",{className:"text-xs text-gray-400 mb-3 italic",children:['"',F.reason,'"']}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsxs("div",{className:"bg-black/20 px-2 py-1 rounded text-[10px] text-blue-400 font-bold",children:["P: ",F.protein,"g"]}),y.jsxs("div",{className:"bg-black/20 px-2 py-1 rounded text-[10px] text-orange-400 font-bold",children:["C: ",F.carbs,"g"]}),y.jsxs("div",{className:"bg-black/20 px-2 py-1 rounded text-[10px] text-purple-400 font-bold",children:["F: ",F.fat,"g"]})]}),y.jsx("button",{onClick:()=>{const q={id:Date.now().toString(),name:F.name,calories:F.calories,protein:F.protein,carbs:F.carbs,fat:F.fat};Ww(V,q).then(H=>{i(H),alert(`Logged ${F.name}!`),w(!1)})},className:"w-full bg-[#00E376]/10 text-[#00E376] font-bold py-2 rounded-xl text-sm hover:bg-[#00E376]/20 transition",children:"Add to Log"})]},j))})]})})]})},aSe=({food:t,onLog:e})=>{const[n,r]=T.useState(1),a=(()=>{const s=[];return t.protein>15&&s.push({text:"Great for Muscle Gain",color:"text-blue-400",bg:"bg-blue-400/10"}),t.calories<150&&s.push({text:"Good for Weight Loss",color:"text-green-400",bg:"bg-green-400/10"}),t.carbs>30&&s.push({text:"High Energy / Pre-workout",color:"text-orange-400",bg:"bg-orange-400/10"}),t.fat>15&&s.push({text:"Keto Friendly / High Satiety",color:"text-purple-400",bg:"bg-purple-400/10"}),s.length===0&&s.push({text:"Balanced Nutrition",color:"text-gray-400",bg:"bg-white/5"}),s})();return y.jsxs("div",{className:"bg-[#0f291a] rounded-3xl p-4 relative overflow-hidden",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 overflow-hidden",children:t.image?y.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):y.jsx(Zl,{className:"p-2 text-gray-500"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold",children:t.name}),y.jsx("p",{className:"text-[#00E376] text-xs",children:"per 100g"})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-white font-bold text-lg",children:t.calories}),y.jsx("span",{className:"text-[#00E376] text-xs font-bold ml-1",children:"kcal"})]})]}),y.jsxs("div",{className:"flex gap-4 mb-4 pl-16",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-blue-400 font-bold text-sm",children:[t.protein,"g"]}),y.jsx("p",{className:"text-[#2d5c40] text-[10px] uppercase font-bold",children:"Protein"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-orange-400 font-bold text-sm",children:[t.carbs,"g"]}),y.jsx("p",{className:"text-[#2d5c40] text-[10px] uppercase font-bold",children:"Carbs"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-purple-400 font-bold text-sm",children:[t.fat,"g"]}),y.jsx("p",{className:"text-[#2d5c40] text-[10px] uppercase font-bold",children:"Fat"})]})]}),y.jsx("div",{className:"mb-4 pl-16 flex flex-wrap gap-2",children:a.map((s,u)=>y.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-md ${s.color} ${s.bg}`,children:s.text},u))}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 px-2",children:[y.jsx("span",{className:"text-[#00E376] text-sm",children:"Serving:"}),y.jsx("input",{type:"number",value:n,onChange:s=>r(Number(s.target.value)),className:"w-12 bg-[#14301f] rounded-lg text-center text-white font-bold py-1 focus:outline-none focus:border-primary"}),y.jsx("span",{className:"text-[#2d5c40] text-xs",children:"x 100g"})]}),y.jsxs("button",{onClick:()=>e(n),className:"bg-[#00E376] text-black font-bold px-6 py-2 rounded-xl text-sm hover:opacity-90 transition flex items-center gap-2",children:[y.jsx(Hg,{size:16})," Log"]})]})]})},Yq=({plan:t,onSave:e,onClose:n,isSaving:r,hideActions:i})=>{var a;return y.jsxs("div",{className:"animate-in fade-in duration-500 pb-20",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.planName}),y.jsx("p",{className:"text-muted text-sm px-4",children:t.overview})]}),y.jsxs("div",{className:"space-y-10",children:[t.schedule&&t.schedule.length>0&&y.jsxs("section",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[y.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl text-primary",children:y.jsx(zs,{size:22})}),y.jsx("h3",{className:"font-bold text-xl text-white",children:"Workout Schedule"})]}),y.jsx("div",{className:"space-y-4",children:t.schedule.map((s,u)=>y.jsxs("div",{className:"bg-surface border border-secondary rounded-2xl overflow-hidden shadow-sm",children:[y.jsxs("div",{className:"bg-secondary/50 px-4 py-3 border-b border-secondary flex justify-between items-center",children:[y.jsx("h3",{className:"font-bold text-white",children:s.day}),y.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-2 py-1 rounded border border-primary/20",children:s.focus})]}),y.jsx("div",{className:"p-4 space-y-3",children:s.exercises.length>0?s.exercises.map((c,f)=>y.jsxs("div",{className:"flex justify-between items-start text-sm border-b border-secondary/50 last:border-0 pb-2 last:pb-0",children:[y.jsx("span",{className:"text-gray-200 font-medium",children:c.name}),y.jsxs("span",{className:"text-gray-400 text-xs whitespace-nowrap ml-4 bg-secondary px-2 py-1 rounded",children:[c.sets," x ",c.reps]})]},f)):y.jsxs("p",{className:"text-sm text-gray-500 italic flex items-center gap-2",children:[y.jsx(Gg,{size:14})," Active Recovery Day"]})})]},u))})]}),((a=t.schedule)==null?void 0:a.length)>0&&t.nutrition&&y.jsx("div",{className:"w-full h-px bg-secondary"}),t.nutrition&&y.jsxs("section",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[y.jsx("div",{className:"p-2.5 bg-orange-500/10 rounded-xl text-orange-400",children:y.jsx(Zl,{size:22})}),y.jsx("h3",{className:"font-bold text-xl text-white",children:"Nutrition Guide"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-surface border border-secondary p-4 rounded-2xl text-center",children:[y.jsx("p",{className:"text-xs text-muted mb-1 font-medium uppercase tracking-wider",children:"Daily Target"}),y.jsx("h3",{className:"text-xl font-bold text-white",children:t.nutrition.dailyCalories})]}),y.jsxs("div",{className:"bg-surface border border-secondary p-4 rounded-2xl text-center",children:[y.jsx("p",{className:"text-xs text-muted mb-1 font-medium uppercase tracking-wider",children:"Macro Split"}),y.jsx("h3",{className:"text-sm font-bold text-white leading-tight",children:t.nutrition.macros})]})]}),t.nutrition.mealPlan&&t.nutrition.mealPlan.length>0&&y.jsxs("div",{className:"bg-surface border border-secondary rounded-2xl p-6",children:[y.jsx("h4",{className:"font-bold text-white mb-4 text-sm uppercase tracking-wider text-gray-400",children:"Recommended Daily Meals"}),y.jsx("ul",{className:"space-y-4",children:t.nutrition.mealPlan.map((s,u)=>y.jsxs("li",{className:"flex items-start gap-4 text-sm text-gray-200",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 flex items-center justify-center shrink-0 text-xs font-bold border border-orange-900/50",children:u+1}),y.jsx("span",{className:"mt-0.5",children:s})]},u))})]})]})]}),t.tips&&t.tips.length>0&&y.jsxs("section",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[y.jsx("div",{className:"p-2.5 bg-yellow-500/10 rounded-xl text-yellow-400",children:y.jsx($g,{size:22})}),y.jsx("h3",{className:"font-bold text-xl text-white",children:"Coach's Tips"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.tips.map((s,u)=>y.jsxs("div",{className:"bg-surface border border-secondary p-4 rounded-xl flex gap-3",children:[y.jsx(q4,{size:18,className:"text-blue-400 shrink-0 mt-0.5"}),y.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:s})]},u))})]})]}),!i&&e&&n&&y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t border-secondary z-20 flex gap-4",children:[y.jsx("button",{onClick:n,className:"flex-1 bg-secondary text-white font-bold py-4 rounded-2xl text-sm hover:bg-gray-800 transition",children:"Adjust Profile"}),y.jsx("button",{onClick:e,disabled:r,className:"flex-1 bg-primary text-black font-bold py-4 rounded-2xl text-sm hover:opacity-90 transition flex items-center justify-center gap-2",children:r?y.jsx(y.Fragment,{children:"Saving..."}):y.jsxs(y.Fragment,{children:[y.jsx(Ql,{size:18})," Save to Dashboard"]})})]})]})},m4=({label:t,selected:e,onClick:n})=>y.jsx("button",{onClick:n,className:`px-4 py-3 rounded-xl text-sm font-bold border transition-all duration-300 ${e?"bg-primary text-black border-primary shadow-[0_0_15px_rgba(0,227,118,0.4)]":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10 hover:border-white/20"}`,children:t}),oSe=()=>{const t=vn(),[e,n]=T.useState(!1),[r,i]=T.useState(null),[a,s]=T.useState(null),[u,c]=T.useState(!1),[f,h]=T.useState({goal:"Build Muscle",level:"Intermediate",equipment:"Full Gym",dietaryRestrictions:"None",daysPerWeek:4}),m=async()=>{n(!0),s(null);try{const w=await UT(f),A=JSON.parse(w);if(!A.planName)throw new Error("Invalid response structure");i(A)}catch(w){console.error(w),s("We couldn't generate a plan right now. Please try again.")}finally{n(!1)}},v=async()=>{if(r){c(!0);try{await yq(r,"comprehensive"),t("/dashboard")}catch(w){console.error("Failed to save plan",w)}finally{c(!1)}}};return y.jsxs("div",{className:"min-h-screen bg-background pb-24 font-sans",children:[y.jsx("header",{className:"px-6 py-6 flex items-center justify-between sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>r?i(null):t(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:r?"Your Custom Plan":"Create AI Plan"})]})}),y.jsx("div",{className:"px-6 py-6",children:r?y.jsx(Yq,{plan:r,onSave:v,onClose:()=>i(null),isSaving:u}):y.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-cyan-400 rounded-full mx-auto flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(0,227,118,0.3)]",children:y.jsx(Gg,{size:40,className:"text-black"})}),y.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Let's personalize it"}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed max-w-xs mx-auto",children:"Tell us your preferences and our AI will craft the perfect routine for you."})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("label",{className:"text-sm font-bold text-white flex items-center gap-2 uppercase tracking-wider",children:[y.jsx(zs,{size:16,className:"text-primary"})," Fitness Goal"]}),y.jsx("div",{className:"flex flex-wrap gap-3",children:["Lose Weight","Build Muscle","Endurance","Flexibility"].map(w=>y.jsx(m4,{label:w,selected:f.goal===w,onClick:()=>h({...f,goal:w})},w))})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"text-sm font-bold text-white flex items-center gap-2 uppercase tracking-wider",children:"Level"}),y.jsx("div",{className:"flex flex-wrap gap-3",children:["Beginner","Intermediate","Advanced"].map(w=>y.jsx(m4,{label:w,selected:f.level===w,onClick:()=>h({...f,level:w})},w))})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("label",{className:"text-sm font-bold text-white flex items-center gap-2 uppercase tracking-wider",children:[y.jsx(js,{size:16,className:"text-primary"})," Days Per Week"]}),y.jsxs("div",{className:"glass-card border border-white/10 p-6 rounded-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase",children:"Frequency"}),y.jsxs("span",{className:"text-primary font-bold text-xl",children:[f.daysPerWeek," Days"]})]}),y.jsx("input",{type:"range",min:"1",max:"7",value:f.daysPerWeek,onChange:w=>h({...f,daysPerWeek:parseInt(w.target.value)}),className:"w-full accent-primary h-2 bg-white/10 rounded-lg appearance-none cursor-pointer"}),y.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-gray-500 font-bold uppercase",children:[y.jsx("span",{children:"1 Day"}),y.jsx("span",{children:"7 Days"})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Equipment Available"}),y.jsxs("div",{className:"relative",children:[y.jsxs("select",{className:"w-full bg-surface border border-white/10 text-white rounded-xl px-4 py-4 focus:outline-none focus:border-primary appearance-none font-medium",value:f.equipment,onChange:w=>h({...f,equipment:w.target.value}),children:[y.jsx("option",{children:"Full Gym"}),y.jsx("option",{children:"Dumbbells Only"}),y.jsx("option",{children:"Bodyweight Only"}),y.jsx("option",{children:"Home Gym (Basic)"})]}),y.jsx(bo,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none rotate-90",size:20})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("label",{className:"text-sm font-bold text-white flex items-center gap-2 uppercase tracking-wider",children:[y.jsx(_H,{size:16,className:"text-primary"})," Dietary Restrictions"]}),y.jsxs("div",{className:"relative",children:[y.jsxs("select",{className:"w-full bg-surface border border-white/10 text-white rounded-xl px-4 py-4 focus:outline-none focus:border-primary appearance-none font-medium",value:f.dietaryRestrictions,onChange:w=>h({...f,dietaryRestrictions:w.target.value}),children:[y.jsx("option",{children:"None"}),y.jsx("option",{children:"Vegetarian"}),y.jsx("option",{children:"Vegan"}),y.jsx("option",{children:"Keto"}),y.jsx("option",{children:"Paleo"}),y.jsx("option",{children:"Gluten Free"})]}),y.jsx(bo,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none rotate-90",size:20})]})]}),a&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl text-red-400 text-sm text-center",children:a}),y.jsx("button",{onClick:m,disabled:e,className:"w-full bg-gradient-to-r from-primary to-cyan-400 text-black font-bold py-4 rounded-2xl text-lg hover:opacity-90 transition shadow-[0_0_20px_rgba(0,227,118,0.4)] disabled:opacity-50 flex items-center justify-center gap-2 mt-8 active:scale-95 transform duration-200",children:e?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}),"Generating Plan..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Gg,{size:20})," Generate Plan"]})})]})})]})},g4=t=>t.toLowerCase().includes("diet")||t.toLowerCase().includes("weight")||t.toLowerCase().includes("pcod")||t.toLowerCase().includes("loss")?{planName:`${t} Kickstart`,overview:`A balanced 7-day approach to ${t.toLowerCase()} tailored for your profile. Focuses on nutrient-dense foods to manage energy levels.`,schedule:[],nutrition:{dailyCalories:"1800 - 2000 kcal",macros:"40% Protein / 30% Carbs / 30% Fat",mealPlan:["Breakfast: Oatmeal with protein powder & berries","Lunch: Grilled chicken breast with quinoa salad","Dinner: Baked salmon with roasted vegetables","Snack: Greek yogurt with almonds"]},tips:["Stay hydrated","Prep meals in advance","Monitor portion sizes"]}:{planName:`${t} Routine`,overview:`A comprehensive workout plan designed to help you with ${t.toLowerCase()}.`,schedule:[{day:"Day 1",focus:"Full Body Strength",exercises:[{name:"Squats",sets:"3",reps:"10"},{name:"Pushups",sets:"3",reps:"12"}]},{day:"Day 2",focus:"Active Recovery",exercises:[]},{day:"Day 3",focus:"Upper Body Focus",exercises:[{name:"Dumbbell Press",sets:"3",reps:"10"},{name:"Rows",sets:"3",reps:"10"}]}],nutrition:{dailyCalories:"2200 kcal",macros:"30% P / 40% C / 30% F",mealPlan:[]},tips:["Focus on form over weight","Increase intensity progressively","Rest is key for growth"]},sSe=()=>{const t=vn(),[e,n]=T.useState([{id:"welcome",role:"model",text:"Hi there! Im your AI Fitness Assistant. I can help with Weight Loss, Weight Gain, PCOD Management, or general fitness advice. What are we working on today?",timestamp:new Date}]),[r,i]=T.useState(""),[a,s]=T.useState(!1),[u,c]=T.useState("IDLE"),[f,h]=T.useState({}),[m,v]=T.useState("General Fitness"),w=T.useRef(null),A=()=>{var V;(V=w.current)==null||V.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{A()},[e,a]);const S=(V,U,G)=>{n(k=>[...k,{id:Date.now().toString(),role:V,text:U,timestamp:new Date,planData:G}])},C=async V=>{if(V.trim()){S("user",V),i(""),s(!0);try{if(u!=="IDLE"){await P(V);return}const U=V.toLowerCase();if(U.includes("weight gain")||U.includes("gain weight")||U.includes("bulk")||U.includes("muscle mass")){v("Weight Gain"),c("ASK_AGE"),s(!1),S("model","I can help you build a solid weight gain plan! To tailor it to your needs, I need to know a bit about you. First, how old are you?");return}if(U.includes("pcod")||U.includes("pcos")){v("PCOD Management"),c("ASK_AGE"),s(!1),S("model","Managing PCOD through diet and lifestyle is a great step. Let's gather your details to create a safe and effective plan. First, what is your age?");return}if(U.includes("weight loss")||U.includes("lose weight")||U.includes("fat loss")){v("Weight Loss"),c("ASK_AGE"),s(!1),S("model","I can definitely help you with a weight loss plan! To make it safe and effective, I need a few details. First, how old are you?");return}if(U.includes("workout")||U.includes("routine")||U.includes("exercise")){const k=await UT({goal:"General Fitness",level:"Intermediate",equipment:"Full Gym",dietaryRestrictions:"None",daysPerWeek:4});let O;try{if(O=JSON.parse(k),!O.planName)throw new Error}catch{O=g4("General Workout")}S("model","I've designed a workout routine for you. Check out the details below!",O),s(!1);return}const G=await tSe([...e,{id:"temp",role:"user",text:V,timestamp:new Date}]);S("model",G)}catch(U){console.error(U),S("model","I'm having trouble connecting right now. Please try again.")}finally{s(!1)}}},P=async V=>{switch(await new Promise(U=>setTimeout(U,600)),u){case"ASK_AGE":h(k=>({...k,age:V})),c("ASK_HEIGHT"),S("model",`Got it. What is your height? (e.g., 5'9" or 175cm)`);break;case"ASK_HEIGHT":h(k=>({...k,height:V})),c("ASK_CURRENT_WEIGHT"),S("model","Thanks. What is your current weight?");break;case"ASK_CURRENT_WEIGHT":h(k=>({...k,currentWeight:V})),c("ASK_TARGET_WEIGHT"),S("model","And what is your target weight goal?");break;case"ASK_TARGET_WEIGHT":h(k=>({...k,targetWeight:V})),c("ASK_MEDICAL"),S("model","Almost done! Do you have any allergies or medical conditions I should know about? (e.g., Gluten free, Diabetes, or 'None')");break;case"ASK_MEDICAL":let U=V;m==="PCOD Management"&&!U.toLowerCase().includes("pcos")&&!U.toLowerCase().includes("pcod")&&(U=U.toLowerCase()==="none"?"PCOD":`${U}, PCOD`);const G={...f,medicalConditions:U};h(G),c("IDLE"),S("model",`Thank you! I'm generating a personalized ${m} plan for you now...`),s(!0);try{const k=await UT({goal:m,level:"Intermediate",equipment:"None",dietaryRestrictions:"None",daysPerWeek:7,...G});let O=JSON.parse(k);if(!O||!O.planName)throw new Error("Invalid plan");s(!1),S("model",`Here is your personalized plan focusing on ${m}.`,O)}catch{s(!1);const O=g4(m);S("model",`Here is your personalized plan focusing on ${m}.`,O)}break;default:c("IDLE");break}s(!1)},D=async(V,U)=>{await yq(V,U),S("model",`Awesome! I've saved the ${U} plan to your dashboard.`)},M=["I want to lose weight","Weight Gain Plan","PCOD Diet Plan","Build Muscle Workout"];return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col pb-24 font-sans",children:[y.jsxs("header",{className:"px-6 py-6 flex items-center justify-between sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>t(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("h1",{className:"text-lg font-bold text-white flex items-center gap-2",children:["AI Coach ",y.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]}),y.jsx("p",{className:"text-[10px] text-primary font-medium tracking-wider uppercase",children:"Online"})]})]}),y.jsx("button",{className:"text-gray-400 hover:text-white p-2 hover:bg-white/5 rounded-full transition",children:y.jsx(CH,{size:20})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.map(V=>y.jsxs("div",{className:`flex flex-col ${V.role==="user"?"items-end":"items-start"}`,children:[y.jsxs("div",{className:`flex items-end gap-3 max-w-[95%] md:max-w-[85%] ${V.role==="user"?"justify-end":""}`,children:[V.role==="model"&&y.jsx("div",{className:"w-8 h-8 rounded-full bg-surface border border-white/10 flex items-center justify-center flex-shrink-0 overflow-hidden mb-1 shadow-lg shadow-black/50",children:y.jsx(Qw,{size:18,className:"text-primary"})}),y.jsxs("div",{className:`flex flex-col gap-2 ${V.role==="user"?"items-end":"items-start"} w-full`,children:[y.jsx("div",{className:`p-4 rounded-2xl text-[15px] leading-relaxed shadow-md ${V.role==="user"?"bg-primary text-black rounded-br-none font-medium shadow-[0_4px_15px_rgba(0,227,118,0.2)]":"glass-card text-gray-100 rounded-bl-none border-white/5"}`,children:V.text}),V.planData&&V.planData.nutrition&&y.jsxs("div",{className:"glass-card rounded-2xl p-5 w-full max-w-sm mt-2 shadow-xl animate-in fade-in slide-in-from-bottom-4 border-white/10",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-white/5",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-400",children:y.jsx(Zl,{size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white",children:V.planData.planName}),y.jsx("p",{className:"text-xs text-muted",children:"AI Generated  Just Now"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[y.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center border border-white/5",children:[y.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Daily Calories"}),y.jsx("p",{className:"text-lg font-bold text-white",children:V.planData.nutrition.dailyCalories})]}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center border border-white/5",children:[y.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Macros"}),y.jsx("p",{className:"text-xs font-bold text-white mt-1",children:V.planData.nutrition.macros})]})]}),y.jsxs("div",{className:"space-y-2 mb-4",children:[y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Suggested Meals"}),V.planData.nutrition.mealPlan.slice(0,3).map((U,G)=>y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300 bg-white/5 p-2.5 rounded-lg border border-white/5",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 shrink-0"}),U]},G))]}),y.jsxs("button",{onClick:()=>D(V.planData,"diet"),className:"w-full bg-primary text-black py-3 rounded-xl text-sm font-bold hover:opacity-90 transition flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(0,227,118,0.3)]",children:[y.jsx(CP,{size:16})," Save Diet Plan"]})]}),V.planData&&V.planData.schedule&&V.planData.schedule.length>0&&!V.planData.nutrition&&y.jsxs("div",{className:"glass-card rounded-2xl p-5 w-full max-w-sm mt-2 shadow-xl animate-in fade-in slide-in-from-bottom-4 border-white/10",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-white/5",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center text-cyan-400",children:y.jsx(zs,{size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white",children:V.planData.planName}),y.jsx("p",{className:"text-xs text-muted",children:"AI Generated  Just Now"})]})]}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4 border border-white/5",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Schedule Preview"}),y.jsx(js,{size:14,className:"text-gray-500"})]}),y.jsxs("div",{className:"space-y-3",children:[V.planData.schedule.slice(0,3).map((U,G)=>y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-white font-medium",children:U.day}),y.jsx("span",{className:"text-xs text-cyan-400 bg-cyan-500/10 px-2 py-1 rounded border border-cyan-500/20",children:U.focus})]},G)),V.planData.schedule.length>3&&y.jsxs("p",{className:"text-[10px] text-center text-gray-500 pt-1",children:["+",V.planData.schedule.length-3," more days"]})]})]}),y.jsxs("button",{onClick:()=>D(V.planData,"workout"),className:"w-full bg-cyan-400 text-black py-3 rounded-xl text-sm font-bold hover:opacity-90 transition flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(34,211,238,0.3)]",children:[y.jsx(CP,{size:16})," Save Workout"]})]})]}),V.role==="user"&&y.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 border border-white/10 flex items-center justify-center flex-shrink-0 mb-1",children:y.jsx(fv,{size:16,className:"text-white"})})]}),y.jsx("span",{className:`text-[10px] text-muted mt-1 ${V.role==="user"?"mr-12":"ml-12"}`,children:V.role==="model"?"AI Assistant":"You"})]},V.id)),a&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-surface border border-white/10 flex items-center justify-center",children:y.jsx(Qw,{size:16,className:"text-muted"})}),y.jsxs("div",{className:"glass-card px-4 py-3 rounded-2xl rounded-bl-none flex gap-1",children:[y.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce"}),y.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-100"}),y.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-200"})]})]}),y.jsx("div",{ref:w})]}),y.jsxs("div",{className:"fixed bottom-20 left-0 right-0 bg-background/80 backdrop-blur-xl border-t border-white/5 p-4 z-30",children:[e.length<3&&y.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar mb-4 pb-2",children:M.map((V,U)=>y.jsx("button",{onClick:()=>C(V),className:"whitespace-nowrap px-4 py-2 bg-white/5 border border-white/10 rounded-full text-xs font-medium text-gray-300 hover:bg-white/10 hover:text-white hover:border-primary/30 transition",children:V},U))}),y.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[y.jsx("input",{type:"text",value:r,onChange:V=>i(V.target.value),onKeyDown:V=>V.key==="Enter"&&C(r),placeholder:"Ask anything...",className:"w-full bg-surface border border-white/10 text-white rounded-full pl-6 pr-14 py-4 focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 placeholder-gray-500 shadow-lg transition-all"}),y.jsx("button",{onClick:()=>C(r),disabled:!r.trim(),className:"absolute right-2 top-2 p-2 bg-primary rounded-full text-black hover:scale-105 transition disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-[0_0_10px_rgba(0,227,118,0.4)]",children:y.jsx(wH,{size:24})})]})]})]})},lSe=()=>{const{id:t}=C4(),e=vn(),[n,r]=T.useState(void 0);T.useEffect(()=>{(async()=>{if(t){const s=await $ve(t);r(s)}})()},[t]);const i=async()=>{t&&window.confirm("Are you sure you want to delete this plan?")&&(await Kve(t),e("/dashboard"))};return n?y.jsxs("div",{className:"min-h-screen bg-background pb-24 font-sans",children:[y.jsxs("header",{className:"px-6 py-6 flex items-center justify-between sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>e(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Plan Details"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{className:"text-gray-400 hover:text-white transition",children:y.jsx(KT,{size:20})}),y.jsx("button",{onClick:i,className:"text-gray-400 hover:text-red-500 transition",children:y.jsx(K4,{size:20})})]})]}),y.jsxs("div",{className:"px-6 py-6",children:[y.jsx(Yq,{plan:n,hideActions:!0}),y.jsxs("div",{className:"mt-8 flex gap-4",children:[y.jsxs("button",{className:"flex-1 bg-white/5 border border-white/10 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-white/10 transition",children:[y.jsx($T,{size:20})," Export PDF"]}),y.jsx("button",{className:"flex-1 bg-primary text-black font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:opacity-90 transition shadow-[0_0_15px_rgba(0,227,118,0.3)]",children:"Start Plan"})]})]})]}):y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6 font-sans",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Plan not found"}),y.jsx("button",{onClick:()=>e("/dashboard"),className:"text-primary hover:underline font-bold",children:"Return to Dashboard"})]})})},y4=({booking:t,onCancel:e})=>y.jsxs("div",{className:`border rounded-3xl p-5 mb-4 transition-all duration-300 ${t.status==="cancelled"?"bg-red-900/5 border-red-900/20 opacity-60 hover:opacity-100":"glass-card border-white/10 hover:border-primary/30"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white text-lg mb-1",children:t.studioName}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[y.jsx(ih,{size:12,className:"text-primary"}),y.jsx("span",{children:"Downtown Studio"})]})]}),y.jsxs("span",{className:`text-[10px] px-2.5 py-1 rounded-full uppercase font-bold tracking-wider flex items-center gap-1 ${t.status==="confirmed"?"bg-primary/20 text-primary border border-primary/20":t.status==="cancelled"?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-gray-700/50 text-gray-400 border border-gray-600"}`,children:[t.status==="confirmed"&&y.jsx(Zw,{size:10}),t.status==="cancelled"&&y.jsx(TP,{size:10}),t.status]})]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300 mb-5 bg-black/20 p-3 rounded-xl border border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-gray-400",children:y.jsx(js,{size:14})}),y.jsx("span",{className:"font-medium",children:t.date})]}),y.jsx("div",{className:"w-px h-8 bg-white/10"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-gray-400",children:y.jsx(qg,{size:14})}),y.jsx("span",{className:"font-medium",children:t.time})]})]}),t.status==="confirmed"&&y.jsxs("button",{onClick:()=>e(t.id),className:"w-full py-3 border border-red-500/20 text-red-400 rounded-xl text-sm hover:bg-red-500/10 transition flex items-center justify-center gap-2 font-bold",children:[y.jsx(TP,{size:16})," Cancel Booking"]})]}),uSe=()=>{const t=vn(),[e,n]=T.useState([]);T.useEffect(()=>{(async()=>{const u=await zO();n(u)})()},[]);const r=async s=>{if(window.confirm("Are you sure you want to cancel this booking?")){await Yve(s);const u=await zO();n(u)}},i=e.filter(s=>s.status==="confirmed"),a=e.filter(s=>s.status!=="confirmed");return y.jsxs("div",{className:"min-h-screen bg-background pb-24 font-sans",children:[y.jsxs("header",{className:"px-6 py-6 flex items-center gap-4 sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsx("button",{onClick:()=>t(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"My Bookings"})]}),y.jsxs("div",{className:"px-6 py-6",children:[y.jsxs("h2",{className:"text-white font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wider",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shadow-[0_0_10px_rgba(0,227,118,0.5)]"})," Upcoming"]}),i.length>0?i.map(s=>y.jsx(y4,{booking:s,onCancel:r},s.id)):y.jsxs("div",{className:"text-center py-12 glass-card border border-white/10 rounded-3xl mb-8 border-dashed",children:[y.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-600",children:y.jsx(js,{size:32})}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"No upcoming bookings."}),y.jsx("button",{onClick:()=>t("/explore"),className:"text-primary text-sm font-bold hover:underline",children:"Find a class"})]}),a.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("h2",{className:"text-white font-bold mb-4 mt-8 flex items-center gap-2 text-sm uppercase tracking-wider",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"})," Past & Cancelled"]}),a.map(s=>y.jsx(y4,{booking:s,onCancel:r},s.id))]})]})]})},cSe=()=>{const t=vn(),[e,n]=T.useState([]);T.useEffect(()=>{(async()=>{const s=await IT();n(s),await Xve()})()},[]);const r=a=>{switch(a){case"booking":return y.jsx(js,{size:20,className:"text-primary"});case"promo":return y.jsx(q4,{size:20,className:"text-yellow-400"});case"success":return y.jsx(UH,{size:20,className:"text-green-400"});case"alert":return y.jsx(W4,{size:20,className:"text-red-400"});default:return y.jsx(Fg,{size:20,className:"text-gray-400"})}},i=a=>{switch(a){case"booking":return"bg-primary/10 border-primary/20";case"promo":return"bg-yellow-400/10 border-yellow-400/20";case"success":return"bg-green-400/10 border-green-400/20";case"alert":return"bg-red-400/10 border-red-400/20";default:return"bg-white/5 border-white/10"}};return y.jsxs("div",{className:"min-h-screen bg-background pb-24 font-sans",children:[y.jsxs("header",{className:"px-6 py-6 flex items-center gap-4 sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsx("button",{onClick:()=>t(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Notifications"})]}),y.jsx("div",{className:"px-4 py-4 space-y-3",children:e.length>0?e.map(a=>y.jsxs("div",{className:`p-5 rounded-3xl flex gap-4 transition-all duration-300 ${a.read?"bg-transparent border border-transparent opacity-60 hover:opacity-100 hover:bg-white/5":"glass-card border-primary/20 shadow-[0_0_15px_rgba(0,0,0,0.3)]"}`,children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shrink-0 border ${i(a.type)}`,children:r(a.type)}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsx("h3",{className:`text-sm font-bold ${a.read?"text-gray-400":"text-white"}`,children:a.title}),y.jsx("span",{className:"text-[10px] text-gray-600 font-medium whitespace-nowrap ml-2",children:new Date(a.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),y.jsx("p",{className:"text-xs text-gray-500 leading-relaxed mb-2",children:a.message}),y.jsx("p",{className:"text-[10px] text-gray-700 font-medium",children:new Date(a.date).toLocaleDateString()})]}),!a.read&&y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-2 shadow-[0_0_5px_rgba(0,227,118,0.5)]"})]},a.id)):y.jsxs("div",{className:"text-center py-24",children:[y.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-600 border border-white/5",children:y.jsx(Fg,{size:32})}),y.jsx("h3",{className:"text-white font-bold text-lg",children:"No notifications yet"}),y.jsx("p",{className:"text-gray-500 text-sm mt-2 max-w-[200px] mx-auto",children:"We'll notify you when something important happens."})]})})]})},fSe=()=>{const t=vn();return y.jsxs("div",{className:"min-h-screen bg-background pb-10 font-sans text-white",children:[y.jsxs("header",{className:"px-6 pt-8 pb-6 flex items-center gap-4 sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsx("button",{onClick:()=>t(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Privacy Policy"})]}),y.jsxs("div",{className:"px-6 py-4 space-y-6 text-gray-300 leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"1. Information We Collect"}),y.jsx("p",{children:"We collect information you provide directly to us, such as when you create an account, update your profile, or use our fitness tracking features. This includes your name, email, height, weight, and fitness goals."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"2. How We Use Your Information"}),y.jsx("p",{children:"We use the information we collect to provide, maintain, and improve our services, such as generating personalized workout plans and tracking your progress."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"3. Data Security"}),y.jsx("p",{children:"We take reasonable measures to help protect information about you from loss, theft, misuse and unauthorized access, disclosure, alteration and destruction."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"4. Contact Us"}),y.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at support@fitnesshub.com."})]}),y.jsx("p",{className:"text-xs text-gray-500 mt-8",children:"Last updated: October 2023"})]})]})},dSe=()=>{const t=vn();return y.jsxs("div",{className:"min-h-screen bg-background pb-10 font-sans text-white",children:[y.jsxs("header",{className:"px-6 pt-8 pb-6 flex items-center gap-4 sticky top-0 bg-background/95 backdrop-blur-md z-20 border-b border-white/5",children:[y.jsx("button",{onClick:()=>t(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Terms of Service"})]}),y.jsxs("div",{className:"px-6 py-4 space-y-6 text-gray-300 leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"1. Acceptance of Terms"}),y.jsx("p",{children:"By accessing or using our fitness tracking application, you agree to be bound by these Terms of Service."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"2. Use of Service"}),y.jsx("p",{children:"You agree to use the service only for lawful purposes and in accordance with these Terms. You are responsible for maintaining the confidentiality of your account credentials."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"3. Health Disclaimer"}),y.jsx("p",{children:"This app offers health and fitness information and is designed for educational and entertainment purposes only. You should consult your physician or other health care professional before starting this or any other fitness program."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-white font-bold text-lg mb-2",children:"4. Termination"}),y.jsx("p",{children:"We reserve the right to terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."})]}),y.jsx("p",{className:"text-xs text-gray-500 mt-8",children:"Last updated: October 2023"})]})]})},Jq=T.createContext({user:null,loading:!0}),Xq=()=>T.useContext(Jq),hSe=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);return T.useEffect(()=>ZK(cr,s=>{n(s),i(!1)}),[]),y.jsx(Jq.Provider,{value:{user:e,loading:r},children:!r&&t})},pSe=()=>{const t=vn(),[e,n]=T.useState(""),[r,i]=T.useState(""),[a,s]=T.useState(""),[u,c]=T.useState(""),[f,h]=T.useState(!1),[m,v]=T.useState(!1),[w,A]=T.useState(null),[S,C]=T.useState(!1),P=async()=>{if(A(null),!e||!r||!a||!u){A("Please fill in all fields.");return}if(a!==u){A("Passwords do not match.");return}v(!0);try{const M=(await HK(cr,r,a)).user;await WK(M,{displayName:e}),await Uc(pn(ct,"users",M.uid),{uid:M.uid,name:e,email:r,createdAt:new Date().toISOString(),onboardingCompleted:!1,preferences:{units:"metric",theme:"dark",notifications:!0}}),await Uc(pn(ct,`users/${M.uid}/profile`,"main"),{name:e,email:r,height:"",weight:"",goal:""}),await $K(M),await V5(cr),C(!0),v(!1)}catch(D){A(D.message),v(!1)}};return S?y.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 text-center font-sans",children:[y.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mb-6 animate-in zoom-in duration-500",children:y.jsx(Bg,{size:40,className:"text-primary"})}),y.jsx("h2",{className:"text-3xl font-bold text-text mb-4",children:"Verify Your Email"}),y.jsxs("p",{className:"text-muted mb-8 max-w-sm",children:["We've sent a verification link to ",y.jsx("span",{className:"text-text font-bold",children:r}),".",y.jsx("br",{}),"Please check your inbox and verify your account to continue."]}),y.jsxs("div",{className:"space-y-4 w-full max-w-xs",children:[y.jsx("button",{onClick:()=>t("/"),className:"w-full bg-primary text-black font-bold py-4 rounded-full text-lg hover:opacity-90 transition shadow-[0_0_20px_rgba(0,227,118,0.3)]",children:"Go to Login"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary text-sm font-bold hover:underline",children:"Resend Email"})]})]}):y.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 relative overflow-hidden font-sans",children:[y.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[400px] h-[400px] bg-accent-blue/10 rounded-full blur-[100px]"})]}),y.jsxs("div",{className:"relative z-10 w-full max-w-md flex flex-col items-center text-center",children:[y.jsx("button",{onClick:()=>t(-1),className:"absolute top-0 left-0 text-muted hover:text-text transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-3xl font-bold text-text mb-2 mt-8",children:"Create Account"}),y.jsx("p",{className:"text-muted mb-8 text-sm",children:"Join us to start your fitness journey"}),y.jsxs("div",{className:"w-full space-y-4",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("label",{className:"text-xs font-bold text-muted ml-1 mb-2 block uppercase tracking-wider",children:"Full Name"}),y.jsxs("div",{className:"flex bg-surface rounded-2xl border border-secondary overflow-hidden transition-all focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/50 shadow-lg",children:[y.jsx("div",{className:"px-4 py-4 bg-secondary/50 flex items-center justify-center border-r border-secondary text-muted",children:y.jsx(fv,{size:20})}),y.jsx("input",{type:"text",value:e,onChange:D=>n(D.target.value),placeholder:"John Doe",className:"flex-1 bg-transparent px-4 text-text placeholder-gray-500 focus:outline-none"})]})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("label",{className:"text-xs font-bold text-muted ml-1 mb-2 block uppercase tracking-wider",children:"Email Address"}),y.jsxs("div",{className:"flex bg-surface rounded-2xl border border-secondary overflow-hidden transition-all focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/50 shadow-lg",children:[y.jsx("div",{className:"px-4 py-4 bg-secondary/50 flex items-center justify-center border-r border-secondary text-muted",children:y.jsx(Bg,{size:20})}),y.jsx("input",{type:"email",value:r,onChange:D=>i(D.target.value),placeholder:"you@example.com",className:"flex-1 bg-transparent px-4 text-text placeholder-gray-500 focus:outline-none"})]})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("label",{className:"text-xs font-bold text-muted ml-1 mb-2 block uppercase tracking-wider",children:"Password"}),y.jsxs("div",{className:"flex bg-surface rounded-2xl border border-secondary overflow-hidden transition-all focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/50 shadow-lg",children:[y.jsx("div",{className:"px-4 py-4 bg-secondary/50 flex items-center justify-center border-r border-secondary text-muted",children:y.jsx(rh,{size:20})}),y.jsx("input",{type:f?"text":"password",value:a,onChange:D=>s(D.target.value),placeholder:"",className:"flex-1 bg-transparent px-4 text-text placeholder-gray-500 focus:outline-none"}),y.jsx("button",{onClick:()=>h(!f),className:"px-4 text-muted hover:text-text transition",children:f?y.jsx(z4,{size:18}):y.jsx(F4,{size:18})})]})]}),y.jsxs("div",{className:"text-left",children:[y.jsx("label",{className:"text-xs font-bold text-muted ml-1 mb-2 block uppercase tracking-wider",children:"Confirm Password"}),y.jsxs("div",{className:"flex bg-surface rounded-2xl border border-secondary overflow-hidden transition-all focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/50 shadow-lg",children:[y.jsx("div",{className:"px-4 py-4 bg-secondary/50 flex items-center justify-center border-r border-secondary text-muted",children:y.jsx(rh,{size:20})}),y.jsx("input",{type:f?"text":"password",value:u,onChange:D=>c(D.target.value),placeholder:"",className:"flex-1 bg-transparent px-4 text-text placeholder-gray-500 focus:outline-none"})]})]}),w&&y.jsx("p",{className:"text-red-500 text-sm text-center",children:w}),y.jsx("button",{onClick:P,disabled:m,className:"w-full bg-primary text-black font-bold py-4 rounded-full text-lg mt-4 hover:opacity-90 transition-all shadow-[0_0_25px_rgba(0,227,118,0.3)] flex items-center justify-center gap-2",children:m?y.jsx(nh,{className:"animate-spin",size:24}):"Create Account"}),y.jsx("div",{className:"text-center mt-6",children:y.jsxs("p",{className:"text-muted text-sm",children:["Already have an account?"," ",y.jsx(Ra,{to:"/",className:"text-primary font-bold hover:underline",children:"Sign In"})]})})]})]})]})},mSe=()=>{var m,v;const t=vn(),e=na(),n=((m=e.state)==null?void 0:m.confirmationResult)||window.confirmationResult,r=(v=e.state)==null?void 0:v.phoneNumber,[i,a]=T.useState(""),[s,u]=T.useState(!1),[c,f]=T.useState(null);T.useEffect(()=>{n||t("/")},[n,t]);const h=async()=>{u(!0),f(null);try{n?(await n.confirm(i),t("/dashboard")):f("Session expired. Please try again.")}catch(w){console.error(w),f("Incorrect code. Please try again."),u(!1)}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 relative",children:[y.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[600px] h-[600px] bg-primary/10 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-20%] left-[-20%] w-[500px] h-[500px] bg-accent-blue/10 rounded-full blur-[100px]"})]}),y.jsxs("div",{className:"w-full max-w-md glass-card p-8 rounded-3xl text-center animate-in zoom-in duration-300 relative z-10",children:[y.jsx("button",{onClick:()=>t(-1),className:"absolute top-4 left-4 text-muted hover:text-text transition",children:y.jsx(Vr,{size:24})}),y.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-6 text-primary shadow-[0_0_15px_rgba(0,227,118,0.3)]",children:y.jsx(G4,{size:32})}),y.jsx("h2",{className:"text-2xl font-bold text-text mb-2",children:"Verify Phone"}),y.jsxs("p",{className:"text-muted text-sm mb-6",children:["Enter the code sent to ",y.jsx("strong",{children:r})]}),y.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),placeholder:"000000",className:"w-full bg-surface border border-secondary rounded-xl px-4 py-4 text-center text-3xl tracking-[0.5em] text-text focus:border-primary focus:outline-none mb-6 font-mono shadow-inner"}),c&&y.jsx("p",{className:"text-red-500 text-sm mb-4",children:c}),y.jsx("button",{onClick:h,disabled:s,className:"w-full bg-primary text-black font-bold py-4 rounded-full text-lg hover:opacity-90 transition shadow-[0_0_20px_rgba(0,227,118,0.4)]",children:s?"Verifying...":"Verify & Continue"}),y.jsx("button",{onClick:()=>t("/"),className:"mt-6 text-muted text-sm hover:text-text underline",children:"Cancel"})]})]})},gSe=()=>{const t=vn(),[e,n]=T.useState(!1),[r,i]=T.useState(null),[a,s]=T.useState("idle"),u=T.useRef(null),c=h=>{h.target.files&&h.target.files[0]&&i(h.target.files[0])},f=async()=>{if(r){n(!0);try{await new Promise(v=>setTimeout(v,2e3));const m={...await RA(),coachVerificationStatus:"pending"};await vq(m),s("success"),setTimeout(()=>t("/profile"),2e3)}catch(h){console.error(h),s("error")}finally{n(!1)}}};return y.jsxs("div",{className:"min-h-screen bg-background p-6 pb-24",children:[y.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>t(-1),className:"text-white hover:text-primary transition",children:y.jsx(Vr,{size:24})}),y.jsx("h1",{className:"text-xl font-bold text-white",children:"Coach Verification"})]}),y.jsx("div",{className:"max-w-md mx-auto",children:y.jsxs("div",{className:"bg-surface border border-white/10 rounded-3xl p-6 mb-6",children:[y.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Become a Certified Coach"}),y.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Upload your fitness certification to get verified. Verified coaches can create public plans and get featured."}),y.jsxs("div",{onClick:()=>{var h;return(h=u.current)==null?void 0:h.click()},className:"border-2 border-dashed border-white/20 rounded-2xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-white/5 transition mb-6",children:[r?y.jsxs("div",{className:"text-center",children:[y.jsx(Zw,{size:40,className:"text-primary mb-2 mx-auto"}),y.jsx("p",{className:"text-white font-medium",children:r.name}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(r.size/1024/1024).toFixed(2)," MB"]})]}):y.jsxs("div",{className:"text-center",children:[y.jsx(WG,{size:40,className:"text-gray-400 mb-2 mx-auto"}),y.jsx("p",{className:"text-gray-300 font-medium",children:"Click to Upload Certificate"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, or PNG"})]}),y.jsx("input",{type:"file",ref:u,className:"hidden",accept:".pdf,image/*",onChange:c})]}),a==="success"&&y.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4 mb-6 flex items-center gap-3",children:[y.jsx(Zw,{size:20,className:"text-primary"}),y.jsx("p",{className:"text-sm text-primary",children:"Application submitted successfully! Redirecting..."})]}),a==="error"&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-6 flex items-center gap-3",children:[y.jsx(j4,{size:20,className:"text-red-500"}),y.jsx("p",{className:"text-sm text-red-500",children:"Something went wrong. Please try again."})]}),y.jsx("button",{onClick:f,disabled:!r||e||a==="success",className:"w-full bg-primary text-black font-bold py-4 rounded-xl hover:opacity-90 transition shadow-[0_0_20px_rgba(0,227,118,0.4)] flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e?y.jsx(nh,{className:"animate-spin",size:20}):"Submit Application"})]})})]})},ySe=()=>{const[t,e]=Us.useState(null);Us.useEffect(()=>{const r=i=>{i.preventDefault(),e(i)};return window.addEventListener("beforeinstallprompt",r),()=>window.removeEventListener("beforeinstallprompt",r)},[]);const n=async()=>{if(!t)return;t.prompt();const{outcome:r}=await t.userChoice;r==="accepted"&&e(null)};return t?y.jsxs("button",{onClick:n,className:"fixed top-4 right-4 z-50 bg-primary text-black font-bold px-4 py-2 rounded-full shadow-[0_0_15px_rgba(0,227,118,0.4)] flex items-center gap-2 animate-in fade-in slide-in-from-top-4",children:[y.jsx($T,{size:16}),y.jsx("span",{className:"text-xs",children:"Install App"})]}):null},vSe=()=>{const t=na(),e=["/","/onboarding","/register","/verify-otp"].includes(t.pathname),n=t.pathname.startsWith("/studio/")||t.pathname==="/generate-plan"||t.pathname==="/ai-coach"||t.pathname.startsWith("/plan/")||t.pathname==="/bookings"||t.pathname==="/notifications";if(e||n)return null;const r=({to:i,icon:a,label:s})=>{const u=t.pathname===i;return y.jsxs(Ra,{to:i,className:`flex flex-col items-center gap-1 transition duration-300 ${u?"text-primary":"text-gray-500 hover:text-gray-300"}`,children:[y.jsx("div",{className:`p-1 rounded-xl transition-all duration-300 ${u?"bg-primary/10 shadow-[0_0_10px_rgba(0,227,118,0.2)]":""}`,children:y.jsx(a,{size:24,strokeWidth:u?2.5:2})}),y.jsx("span",{className:`text-[10px] font-medium ${u?"text-primary":"text-gray-500"}`,children:s})]})};return y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-surface/90 backdrop-blur-xl border-t border-white/5 pb-2 pt-2 px-6 shadow-2xl z-[9999] h-20 pointer-events-auto",children:y.jsxs("div",{className:"flex justify-between items-center max-w-md mx-auto relative",children:[y.jsx(r,{to:"/dashboard",icon:eG,label:"Home"}),y.jsx(r,{to:"/explore",icon:qH,label:"Discover"}),y.jsx(r,{to:"/nutrition",icon:Zl,label:"Nutrition"}),y.jsx(r,{to:"/ai-coach",icon:Qw,label:"AI Coach"}),y.jsx(r,{to:"/profile",icon:fv,label:"Profile"})]})})},Ir=({children:t})=>{const{user:e,loading:n}=Xq(),r=na();return n?y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:y.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):e?y.jsx(y.Fragment,{children:t}):y.jsx(P4,{to:"/",state:{from:r},replace:!0})},v4=({children:t})=>{const{user:e,loading:n}=Xq();return n?null:e?y.jsx(P4,{to:"/dashboard",replace:!0}):y.jsx(y.Fragment,{children:t})},_Se=()=>(Us.useEffect(()=>{(async()=>{try{if(await Notification.requestPermission()==="granted"){console.log("Notification permission granted.");const n=await qee(Gee,{vapidKey:"BM_U_VAPID_KEY_HERE_REPLACE_ME"});console.log("FCM Token:",n)}else console.log("Notification permission denied.")}catch(e){console.error("Error requesting notification permission:",e)}})()},[]),null),bSe=()=>y.jsxs("div",{className:"bg-background text-text min-h-screen font-sans selection:bg-primary selection:text-black",children:[y.jsx(ySe,{}),y.jsx(_Se,{}),y.jsxs(k8,{children:[y.jsx(wn,{path:"/",element:y.jsx(v4,{children:y.jsx(Kee,{})})}),y.jsx(wn,{path:"/register",element:y.jsx(pSe,{})}),y.jsx(wn,{path:"/verify-otp",element:y.jsx(v4,{children:y.jsx(mSe,{})})}),y.jsx(wn,{path:"/onboarding",element:y.jsx(Wee,{})}),y.jsx(wn,{path:"/dashboard",element:y.jsx(Ir,{children:y.jsx(a0e,{})})}),y.jsx(wn,{path:"/explore",element:y.jsx(Ir,{children:y.jsx(v0e,{})})}),y.jsx(wn,{path:"/studio/:id",element:y.jsx(Ir,{children:y.jsx(_0e,{})})}),y.jsx(wn,{path:"/profile",element:y.jsx(Ir,{children:y.jsx(E0e,{})})}),y.jsx(wn,{path:"/verify-coach",element:y.jsx(Ir,{children:y.jsx(gSe,{})})}),y.jsx(wn,{path:"/tracker",element:y.jsx(Ir,{children:y.jsx(S0e,{})})}),y.jsx(wn,{path:"/nutrition",element:y.jsx(Ir,{children:y.jsx(iSe,{})})}),y.jsx(wn,{path:"/generate-plan",element:y.jsx(Ir,{children:y.jsx(oSe,{})})}),y.jsx(wn,{path:"/ai-coach",element:y.jsx(Ir,{children:y.jsx(sSe,{})})}),y.jsx(wn,{path:"/plan/:id",element:y.jsx(Ir,{children:y.jsx(lSe,{})})}),y.jsx(wn,{path:"/bookings",element:y.jsx(Ir,{children:y.jsx(uSe,{})})}),y.jsx(wn,{path:"/notifications",element:y.jsx(Ir,{children:y.jsx(cSe,{})})}),y.jsx(wn,{path:"/privacy",element:y.jsx(Ir,{children:y.jsx(fSe,{})})}),y.jsx(wn,{path:"/terms",element:y.jsx(Ir,{children:y.jsx(dSe,{})})})]}),y.jsx(vSe,{})]}),xSe=()=>y.jsx(hSe,{children:y.jsx(b0e,{children:y.jsx(nH,{children:y.jsx(bSe,{})})})}),Qq=document.getElementById("root");if(!Qq)throw new Error("Could not find root element to mount to");const wSe=q9.createRoot(Qq);wSe.render(y.jsx(Us.StrictMode,{children:y.jsx(xSe,{})}));
